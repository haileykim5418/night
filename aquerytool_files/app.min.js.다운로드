function encryptText(n){if(n=="")return"";var t=CryptoJS.enc.Utf8.parse("8080808080808080"),i=CryptoJS.enc.Utf8.parse("8080808080808080");return CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(n),t,{keySize:16,iv:i,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7})}var app=null;(function(){"use strict";app=angular.module("AQuery",["ui.bootstrap","ui.bootstrap.contextMenu","ngResource","ngStorage","angular-clipboard","restangular","colorpicker","drahak.hotkeys"])})(),function(){"use strict";app.config(["$httpProvider",function(n){n.interceptors.push("httpIntercepterService")}])}(),function(){"use strict";app.constant("settings",{test1:"kasjkdfjhakjshkjhekwjhrasdf",test2:"applelkasldkjlaaapplelkasldkjlbb",test3:"lakjlwekjrlkwjldjklfjlfasdfasf",test4:"ll2kj4l2kj3l4kjl23j4lkjkasdfasdf",test5:"ljl23k4jlk2j34lkjlkj5lk2lasdfasdfasdf"})}(),function(){"use strict";app.run(["$rootScope","$document","$window","$location",function(n,t,i,r){var u="1164032533608161";r.host()=="localhost"&&(u="987756904647187");i.fbAsyncInit=function(){FB.init({appId:u,xfbml:!0,version:"v2.5"})}}])}(),function(){"use strict";app.controller("AQueryController",["$window","$rootScope","$scope","$modal","$timeout","$location","$localStorage","$sce","$q","$http","$interval","$hotkey","aqueryResourceService","_","utilService","alertServices","securityService","dataCheckService","tabletService","aqueryDemoErdServices","naverService","authService","saveFileService","multiLangService","tableSizeHelper","noticeService","aqueryService","settings","Restangular","utfByteCountServices",function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st){i.initSetting=function(){i.osBrowser=y.checkOSBrowser();i.workSaveImage=!1;i.mouseRClickX=0;i.mouseRClickY=0;i.isUserUse=!0;it.InitMultiLang(i).then(function(){et.lang=i.lang;i.initContextMenu();i.updateAllTableList();i.$broadcast("updateMultiLanguage","")});ut.checkNotice();i.isShowJobPanel=!1;ut.checkJob(i).then(function(){i.jobInfo!==undefined&&i.jobInfo.projectTitle!==undefined&&i.jobInfo.projectTitle!==""&&(i.jobInfo.etc=o.trustAsHtml(i.jobInfo.etc),i.isShowJobPanel=!0)})};i.initContextMenu=function(){i.menuOptions=[[i.lang.C00330,function(){i.addTable()}],null,[i.lang.C00340,function(){i.addMemo()}],null,[i.lang.C00350,function(){i.addTypeDic()}],[i.lang.C00360,function(){i.addWordDic()}],[i.lang.C00370,function(){i.addNameDic()}],[i.lang.C00380,function(){},[[i.lang.C00390,function(){i.getErdList("LoadDic")}],[i.lang.C00400,function(){i.showAllDic()}],[i.lang.C00410,function(){i.hideAllDic()}]]],null,[i.lang.C00420,function(){i.cancelSelectFKLine()}],]};i.cancelSelectFKLine=function(){i.$broadcast("cancelSelectFKLine",i.isCanvasMove)};i.handleClick=function(n){switch(n.which){}};i.initEvent=function(){i.$on("updateUserInfo",function(n,t){i.user_info=t;t===null&&(i.user_info=i.emptyUserModel())});i.$on("onContextMenu",function(n,t){i.mouseRClickX=t.ctLeft;i.mouseRClickY=t.ctTop});i.$on("autoTableAlign",function(){i.autoTableAlign()});i.$on("searchTableForAllColumn",function(n,t){var r=ft.searchTable(t,"lefttop");i.allColumnList[0].position_x=r.right+25;i.allColumnList[0].position_y=r.top;ft.checkCanvasSizeForAllObject(i.source)});i.$watch("selectedTableItem",function(n){n!==undefined&&n.table_guid!==undefined&&n.table_guid!==""&&(ft.searchTable(n.table_guid,"center"),i.setDefaultTableInTableList())});i.$watch("source.table_list.length",function(){i.updateAllTableList()});i.$watch("source.word_dic_list.length",function(){i.updateAllTableList()});i.$watch("source.name_dic_list.length",function(){i.updateAllTableList()});i.$watch("source.type_dic_list.length",function(){i.updateAllTableList()});i.$watch("isCanvasMove",function(){i.updateCanvasMove();i.$broadcast("isCanvasMove",i.isCanvasMove)});i.$watch("isFixedAqueryTopControlPanel",function(){i.updateAqueryTopControlPanel()});window.onbeforeunload=function(n){if(f.host()!=="localhost"&&i.isSourceChanged()!==!1){var t=i.lang.C00770;return typeof n=="undefined"&&(n=window.event),n&&(n.returnValue=t),t}};$(window).scroll(function(){i.updatePositionaAueryTopControlPanel()})};i.setDefaultTableInTableList=function(){u(function(){i.selectedTableItem=i.allTableList[0]},3e3)};i.checkOSBrowser=function(){if(i.osBrowser.browser.name==="Internet Explorer"&&i.osBrowser.browser.version<11){p.alert("Alert",i.lang.C00780);return}var n=e.isCheckBrowser;if(n!==!0&&i.osBrowser.browser.name!=="Chrome"){e.isCheckBrowser=!0;p.alert("Alert",i.lang.C00790);return}};l.bind("Ctrl + Shift + S",function(){i.saveERDtoServer(!1,!1)});i.initSource=function(){var n={erd_info:{erd_guid:y.guid(),erd_name:"",db_type:"",table_count:0,p_type:"N",p_status:"N",erd_saved:!1,readonly_url:"",readonly_url_password:""},database_info_list:[{database_guid:"",database_name:"",database_logical_name:"",database_comment:"",database_table_header_color:"#5EAEC9",database_order:1,is_show_database_table:!0,is_show_database_name_in_table:!1,is_default_database:!1}],table_list:[],memo_list:[],type_dic_list:[],word_dic_list:[],name_dic_list:[],view_attributes_info:{isViewTableName:!0,isViewTableLogicalName:!0,isViewTableComment:!1,isViewColumnOrder:!1,isViewPK:!0,isViewUQ:!1,isViewAI:!0,isViewFK:!0,isViewNull:!0,isViewComment:!1,isViewName:!0,isViewLogicalName:!0,isViewType:!0,isViewDefaultValue:!1,isViewButton:!0,isViewBottomButton:!0,isViewTypeDic:!0,isViewWordDic:!0,isTableAutoFit:!1,isShowOnlyImportantColumnsForERD:!1,commentWidth:100,nameWidth:100,logicalNameWidth:100,typeWidth:110,defaultValueWidth:90,dicTypeNameWidth:100,isCurveConnectionLine:!0},auto_sql_option:{is_append_db_name_when_create_sql:!1,is_ignore_fk:!1,is_ignore_comment:!1}};return n.canvasWidth=1920,n.canvasHeight=800,n};i.emptyUserModel=function(){return{user_key:0,user_email:"",user_name:"",user_type:"",reg_date:"",update_date:"",login_date:"",auth_token:""}};var ht;i.updateAllTableList=function(){i.lang!==undefined&&(ht&&u.cancel(ht),ht=u(function(){var n=i.updateAllTableListCore(!1),t=v.where(n,{table_guid:undefined});t.length===0&&n.unshift({table_guid:undefined,table_name:i.lang.C00020});i.allTableList=n;i.selectedTableItem=i.allTableList[0]},100))};i.updateAllTableListCore=function(n){var t=[];return(v.each(i.source.table_list,function(n){var r="",u=v.where(i.source.database_info_list,{database_guid:n.database_guid});u.length>0&&(r=u[0].database_name);t.push({table_guid:n.table_guid,table_name:n.table_name,database_guid:n.database_guid,database_name:r,target_erd_table_name:n.target_erd_table_name})}),n==!0)?t=v.sortBy(t,function(n){return n.table_name}):(v.each(i.source.word_dic_list,function(n){t.push({table_guid:n.table_guid,table_name:n.table_name})}),v.each(i.source.name_dic_list,function(n){t.push({table_guid:n.table_guid,table_name:n.table_name})}),v.each(i.source.type_dic_list,function(n){t.push({table_guid:n.table_guid,table_name:n.table_name})}),t=v.sortBy(t,function(n){return n.table_name}))};i.addTable=async function(){if(i.source.erd_info.db_type===""){var n=await i.checkDababaseSetting();if(n!="close")return}i.addTableCore()};i.checkDababaseSetting=function(){return new Promise(function(n){i.setERDInformation(!0).then(function(t){n(t)})})};i.addTableCore=function(){var n,t;if(i.source.database_info_list.length===0){p.alert("Alert","ERD에 데이터베이스가 없습니다.<br/>상단 [ERD]-[ERD 정보]메뉴에서 데이터베이스를 추가하세요.");return}for(n={table_guid:y.guid(),table_name:i.getTestName("tb_"),table_logical_name:"",table_comment:"",table_short_name:"",show_column_order:!1,order_width:45,show_comment:!1,show_only_important_columns_for_table:!1,position_x:i.mouseRClickX,position_y:i.mouseRClickY,tableNameWidth:250,table_header_color:"#5EAEC9",column_list:[],join_list:[]},i.source.database_info_list.length>0&&(n.database_guid=i.source.database_info_list[0].database_guid,n.table_header_color=i.source.database_info_list[0].database_table_header_color),t=0;t<4;t++)t===0?n.column_list.push({column_guid:y.guid(),column_name:i.getTestName("col_"),column_logical_name:"",column_comment:"",order:t+1,is_primary_key:!0,is_unique_index:!1,auto_increment:!0,is_foreign_key:!1,type:i.defaultTestType("int"),column_default_value:"",is_null:!1,show_column:!0}):n.column_list.push({column_guid:y.guid(),column_name:i.getTestName("col_"),column_logical_name:"",column_comment:"",order:t+1,is_primary_key:!1,is_unique_index:!1,auto_increment:!1,is_foreign_key:!1,type:i.defaultTestType("string"),column_default_value:"",is_null:!0,show_column:!0});i.source.table_list.push(n);ft.checkCanvasSizeForAllObject(i.source);i.$broadcast("updateSource",!1)};i.setERDInformation=function(t){var u=s.defer(),f;if(i.shareERD===!0){p.alert("Alert",i.lang.C00620);return}return i.source.erd_info.db_type===""&&(t=!0),f=r.open({templateUrl:"/templates/app/aquery/set-erd-information-popup.html",controller:"setErdInformationPopupController",windowClass:"erd-information",resolve:{params:function(){var r=n.innerWidth,u=n.innerHeight-90;return i.source.canvasWidth<r&&(i.source.canvasWidth=r),i.source.canvasHeight<u&&(i.source.canvasHeight=u),t==!0?{popupTitle:"New ERD",erd_guid:y.guid(),erd_name:"",db_type:"",table_count:0,erd_saved:!1,readonly_url:"",readonly_url_password:"",user_key:i.user_info.user_key,canvasWidth:r,canvasHeight:u,database_info_list:[{database_guid:y.guid(),database_name:"",database_logical_name:"",database_comment:"",database_table_header_color:"#5EAEC9",database_order:1,is_show_database_table:!0,is_show_database_name_in_table:!1,is_default_database:!1,table_list:[]}],allTableList:[]}:{popupTitle:"ERD Information",erd_guid:i.source.erd_info.erd_guid,erd_name:i.source.erd_info.erd_name,db_type:i.source.erd_info.db_type,table_count:i.source.erd_info.table_count,erd_saved:i.source.erd_info.erd_saved,readonly_url:i.source.erd_info.readonly_url,readonly_url_password:i.source.erd_info.readonly_url_password,user_key:i.user_info.user_key,canvasWidth:i.source.canvasWidth,canvasHeight:i.source.canvasHeight,database_info_list:i.getDataBaseInfoListWithTableList(),allTableList:i.updateAllTableListCore(!0)}}}}),f.result.then(function(n){t==!0&&(i.source=i.initSource(),i.erdVersion=1,i.$broadcast("updateSource",!1));i.source.erd_info.erd_guid=n.erd_guid;i.source.erd_info.erd_name=n.erd_name;i.source.erd_info.db_type=n.db_type;i.source.canvasWidth=n.canvasWidth;i.source.canvasHeight=n.canvasHeight;i.source.database_info_list=n.database_info_list;v.each(n.allTableList,function(n){var t=v.where(i.source.database_info_list,{database_guid:n.database_guid}),r=v.where(i.source.table_list,{table_guid:n.table_guid});t.length>0&&r.length>0&&(r[0].database_guid=t[0].database_guid,(t[0].database_table_header_color_old!=t[0].database_table_header_color||t[0].database_table_header_color_old==undefined)&&(r[0].table_header_color=t[0].database_table_header_color))});v.each(i.source.database_info_list,function(n){n.table_list=undefined;n.database_table_header_color_old=undefined});u.resolve("close")},function(){i.source.erd_info.db_type===""&&i.source.table_list.length===1&&(i.source.table_list=[]);u.resolve("cancel")}),u.promise};i.getDataBaseInfoListWithTableList=function(){var n=angular.copy(i.source.database_info_list);return v.each(n,function(n){n.database_table_header_color_old=n.database_table_header_color;n.table_list=[];v.each(i.source.table_list,function(t){t.database_guid==n.database_guid&&n.table_list.push({table_guid:t.table_guid,table_name:t.table_name})});n.table_list=v.sortBy(n.table_list,function(n){return n.table_name})}),n};i.testCount=0;i.getTestName=function(n){return f.host()==="localhost"?(i.testCount++,n+i.testCount):""};i.defaultTestType=function(n){if(i.source.erd_info.db_type==="MySQL"||i.source.erd_info.db_type==="MariaDB"||i.source.erd_info.db_type===""){if(n==="int")return"INT";if(n==="string")return"VARCHAR(45)"}else if(i.source.erd_info.db_type==="ORACLE"){if(n==="int")return"INT";if(n==="string")return"VARCHAR2(20)"}else if(i.source.erd_info.db_type==="MSSQL"){if(n==="int")return"int";if(n==="string")return"varchar(50)"}else if(i.source.erd_info.db_type==="PostgreSQL"){if(n==="int")return"int";if(n==="string")return"varchar(50)"}return""};i.addMemo=async function(){if(i.source.erd_info.db_type===""){var n=await i.checkDababaseSetting();if(n!="close")return}i.addMemoCore()};i.addMemoCore=function(){var n={table_guid:y.guid(),memo_name:i.getTestName("memo_"),memo_content:"",position_x:i.mouseRClickX,position_y:i.mouseRClickY,width:200,height:200};i.source.memo_list===undefined&&(i.source.memo_list=[]);i.source.memo_list.push(n);ft.checkCanvasSizeForAllObject(i.source);i.$broadcast("updateSource",!1)};i.showAllDic=function(){i.showTypeDic();i.showWordDic();i.showNameDic()};i.hideAllDic=function(){i.hideTypeDic();i.hideWordDic();i.hideNameDic()};i.addTypeDic=async function(){if(i.source.erd_info.db_type===""){var n=await i.checkDababaseSetting();if(n!="close")return}i.addTypeDicCore()};i.addTypeDicCore=function(){var t,n;for(i.showTypeDic(),i.source.type_dic_list===undefined&&(i.source.type_dic_list=[]),t={table_guid:y.guid(),table_name:i.lang.C00800+(i.source.type_dic_list.length+1),orderProperty:"order",position_x:i.mouseRClickX,position_y:i.mouseRClickY,height:112,maxHeight:112,orderWidth:45,typeNameWidth:100,typeWidth:110,typeCommentWidth:70,column_list:[]},n=0;n<4;n++)t.column_list.push({column_guid:y.guid(),order:n+1,type_name:"",type_display_name:"",type:"",type_comment:""});i.source.type_dic_list.push(t);ft.checkCanvasSizeForAllObject(i.source);i.$broadcast("updateSource",!1)};i.showTypeDic=function(){i.source.view_attributes_info.isViewTypeDic=!0};i.hideTypeDic=function(){i.source.view_attributes_info.isViewTypeDic=!1};i.addWordDic=async function(){if(i.source.erd_info.db_type===""){var n=await i.checkDababaseSetting();if(n!="close")return}i.addWordDicCore()};i.addWordDicCore=function(){var t,n;for(i.showWordDic(),i.source.word_dic_list===undefined&&(i.source.word_dic_list=[]),t={table_guid:y.guid(),table_name:i.lang.C00810+(i.source.word_dic_list.length+1),orderProperty:"order",errorMassage:"",errorMassageHTML:o.trustAsHtml(""),position_x:i.mouseRClickX,position_y:i.mouseRClickY,height:112,maxHeight:112,orderWidth:45,logicalNameWidth:70,physicalNameWidth:70,wordCommentWidth:70,column_list:[]},n=0;n<4;n++)t.column_list.push({column_guid:y.guid(),order:n+1,logical_name:"",physical_name:"",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1});i.source.word_dic_list.push(t);ft.checkCanvasSizeForAllObject(i.source);i.$broadcast("updateSource",!1)};i.showWordDic=function(){i.source.view_attributes_info.isViewWordDic=!0};i.hideWordDic=function(){i.source.view_attributes_info.isViewWordDic=!1};i.addNameDic=async function(){if(i.source.erd_info.db_type===""){var n=await i.checkDababaseSetting();if(n!="close")return}i.addNameDicCore()};i.addNameDicCore=function(){var t,n;if(i.source.word_dic_list===undefined||i.source.word_dic_list.length===0){p.alert("Alert",i.lang.C00830);return}for(i.showNameDic(),i.source.name_dic_list===undefined&&(i.source.name_dic_list=[]),t={table_guid:y.guid(),table_name:i.lang.C00820+(i.source.name_dic_list.length+1),orderProperty:"order",errorMassage:"",errorMassageHTML:o.trustAsHtml(""),position_x:i.mouseRClickX,position_y:i.mouseRClickY,height:112,maxHeight:112,orderWidth:45,logicalNameWidth:110,physicalNameWidth:110,typeWidth:110,nameCommentWidth:100,column_list:[]},n=0;n<4;n++)t.column_list.push({column_guid:y.guid(),order:n+1,logical_name:"",physical_name:"",column_logical_name:"",column_name:"",logical_name_err:!1,physical_name_err:!1,type:"",name_comment:"",word_list:[]});i.source.name_dic_list.push(t);ft.checkCanvasSizeForAllObject(i.source);i.$broadcast("updateSource",!1)};i.showNameDic=function(){i.source.view_attributes_info.isViewNameDic=!0};i.hideNameDic=function(){i.source.view_attributes_info.isViewNameDic=!1};i.tableLayout=function(){var n=r.open({templateUrl:"/templates/app/aquery/view-attributes-setting-popup.html",controller:"viewAttributesSettingPopupController",windowClass:"set-index",resolve:{params:function(){return{view_attributes_info:i.source.view_attributes_info,auto_sql_option:i.source.auto_sql_option}}}});n.result.then(function(n){i.source.view_attributes_info=n.view_attributes_info;i.source.auto_sql_option=n.auto_sql_option;i.autoTableAlign();i.$broadcast("updateViewAttributes","")},function(){i.source.view_attributes_info=n.view_attributes_info_backup;i.source.auto_sql_option=n.auto_sql_option_backup;i.$broadcast("updateViewAttributes","")})};i.getAnotherERDlayout=function(){i.getErdList("LoadLayout")};i.copyLayoutFromAnyERD=function(n){i.source.view_attributes_info.isViewTableName=n.view_attributes_info.isViewTableName;i.source.view_attributes_info.isViewTableLogicalName=n.view_attributes_info.isViewTableLogicalName;i.source.view_attributes_info.isViewTableComment=n.view_attributes_info.isViewTableComment;i.source.view_attributes_info.isViewColumnOrder=n.view_attributes_info.isViewColumnOrder;i.source.view_attributes_info.isViewPK=n.view_attributes_info.isViewPK;i.source.view_attributes_info.isViewUQ=n.view_attributes_info.isViewUQ;i.source.view_attributes_info.isViewAI=n.view_attributes_info.isViewAI;i.source.view_attributes_info.isViewFK=n.view_attributes_info.isViewFK;i.source.view_attributes_info.isViewNull=n.view_attributes_info.isViewNull;i.source.view_attributes_info.isViewComment=n.view_attributes_info.isViewComment;i.source.view_attributes_info.isViewName=n.view_attributes_info.isViewName;i.source.view_attributes_info.isViewLogicalName=n.view_attributes_info.isViewLogicalName;i.source.view_attributes_info.isViewType=n.view_attributes_info.isViewType;i.source.view_attributes_info.isViewDefaultValue=n.view_attributes_info.isViewDefaultValue;i.source.view_attributes_info.isViewButton=n.view_attributes_info.isViewButton;i.source.view_attributes_info.isViewBottomButton=n.view_attributes_info.isViewBottomButton;i.source.view_attributes_info.isViewTypeDic=n.view_attributes_info.isViewTypeDic;i.source.view_attributes_info.isViewWordDic=n.view_attributes_info.isViewWordDic;i.source.view_attributes_info.isTableAutoFit=n.view_attributes_info.isTableAutoFit;i.source.view_attributes_info.isShowOnlyImportantColumnsForERD=n.view_attributes_info.isShowOnlyImportantColumnsForERD;i.source.view_attributes_info.commentWidth=n.view_attributes_info.commentWidth;i.source.view_attributes_info.nameWidth=n.view_attributes_info.nameWidth;i.source.view_attributes_info.logicalNameWidth=n.view_attributes_info.logicalNameWidth;i.source.view_attributes_info.typeWidth=n.view_attributes_info.typeWidth;i.source.view_attributes_info.defaultValueWidth=n.view_attributes_info.defaultValueWidth;i.source.view_attributes_info.dicTypeNameWidth=n.view_attributes_info.dicTypeNameWidth;i.source.view_attributes_info.isCurveConnectionLine=n.view_attributes_info.isCurveConnectionLine;i.source.auto_sql_option.is_append_db_name_when_create_sql=n.auto_sql_option.is_append_db_name_when_create_sql;i.source.auto_sql_option.is_ignore_fk=n.auto_sql_option.is_ignore_fk;i.source.auto_sql_option.is_ignore_comment=n.auto_sql_option.is_ignore_comment;v.each(n.table_list,function(n){var t;v.each(i.source.table_list,function(i){n.table_name!=undefined&&i.table_name!=undefined&&n.table_name.toLowerCase()==i.table_name.toLowerCase()&&(t=i)});t!=undefined&&(t.order_width=n.order_width,t.show_comment=n.show_comment,t.show_only_important_columns_for_table=n.show_only_important_columns_for_table,t.position_x=n.position_x,t.position_y=n.position_y,t.tableNameWidth=n.tableNameWidth,t.table_header_color=n.table_header_color,t.table_logical_name||(t.table_logical_name=n.table_logical_name),t.table_comment||(t.table_comment=n.table_comment),v.each(n.column_list,function(n){var i=v.findWhere(t.column_list,{column_name:n.column_name});i!=undefined&&(i.column_logical_name||(i.column_logical_name=n.column_logical_name),i.column_comment||(i.column_comment=n.column_comment))}))});v.each(n.memo_list,function(n){var t=v.find(i.source.memo_list,function(t){return t.memo_name==n.memo_name&&t.memo_content==n.memo_content});t!=undefined?(t.position_x=n.position_x,t.position_y=n.position_y,t.width=n.width,t.height=n.height):i.source.memo_list.push(n)});i.$broadcast("updateSource",!1)};i.compareWithAnotherERD=function(){i.getErdList("CompareAnyERD")};i.compareWithAnotherERDMain=function(n){var r=i.compareWithAnotherERDAnalysis(n);if(r.length==0){p.alert("Alert","ERD의 주요 정보가 같습니다.");return}i.compareWithAnotherERDPopup(r,n);t.loadingCount>0&&(t.loadingCount--,SpinnerForLoading.instance.removeCanvasLoader())};i.compareWithAnotherERDAnalysis=function(n){var t=[],r=i.getDifferenceTableList(i.source.table_list,n.table_list);return v.each(r,function(n){t.push({table_name:n.key,column_name:null,source_value:null,target_value:null,type:n.type+"_table_only"})}),v.each(i.source.table_list,function(u){var s=y.findWhereIgnorecase(r,u,"table_name"),f,e,o;s==undefined&&(f=y.findWhereTableIgnorecase(n.table_list,u),f!=undefined)&&(e=i.getDifferenceList(u.column_list,f.column_list,"column_name"),v.each(e,function(n){n.type=="source"?t.push({table_name:u.table_name,column_name:n.key,source_value:"exist",target_value:"no",type:"no column"}):n.type=="target"&&t.push({table_name:u.table_name,column_name:n.key,source_value:"no",target_value:"exist",type:"no column"})}),v.each(u.column_list,function(n){var o=y.findWhereIgnorecase(e,n,"column_name"),r;o==undefined&&(r=y.findWhereIgnorecase(f.column_list,n,"column_name"),r!=undefined)&&(t=i.checkDifferenceColoumnProperty(t,u.table_name,n,r))}),o=i.getDifferenceList(u.join_list,f.join_list,"foreign_key_name"),v.each(o,function(n){var r="";n.type=="source"?(r=i.getJoinReferencesInfo(u.join_list,n.key),t.push({table_name:u.table_name,column_name:n.key,source_value:r,target_value:"no",type:"no join"})):n.type=="target"&&(r=i.getJoinReferencesInfo(f.join_list,n.key),t.push({table_name:u.table_name,column_name:n.key,source_value:"no",target_value:r,type:"no join"}))}),v.each(u.join_list,function(n){var e=y.findWhereIgnorecase(o,n,"foreign_key_name"),r;e==undefined&&(r=y.findWhereIgnorecase(f.join_list,n,"foreign_key_name"),r!=undefined)&&(t=i.checkDifferenceJoinProperty(t,u.table_name,n,r))}))}),t};i.getDifferenceTableList=function(n,t){var i=[];return v.each(n,function(n){var r=!1;v.each(t,function(){var i=y.findWhereTableIgnorecase(t,n);i!=undefined&&(r=!0)});r==!1&&i.push({key:n.table_name,type:"source"})}),v.each(t,function(t){var r=!1;v.each(n,function(){var i=y.findWhereTableIgnorecase(n,t);i!=undefined&&(r=!0)});r==!1&&i.push({key:t.table_name,type:"target"})}),i};i.getDifferenceList=function(n,t,i){var u=v.map(n,function(n){return{key:n[i]}}),f=v.map(t,function(n){return{key:n[i]}}),r=[];return v.each(u,function(n){var t=y.findWhereIgnorecase(f,n,"key");t==undefined&&r.push({key:n.key,type:"source"})}),v.each(f,function(n){var t=y.findWhereIgnorecase(u,n,"key");t==undefined&&r.push({key:n.key,type:"target"})}),r};i.checkDifferenceColoumnProperty=function(n,t,i,r){if(i.is_primary_key!=r.is_primary_key&&n.push({table_name:t,column_name:i.column_name,source_value:i.is_primary_key,target_value:r.is_primary_key,type:"PK(primary key)"}),i.auto_increment!=r.auto_increment&&n.push({table_name:t,column_name:i.column_name,source_value:i.auto_increment,target_value:r.auto_increment,type:"AI(auto increment)"}),i.is_foreign_key!=r.is_foreign_key&&n.push({table_name:t,column_name:i.column_name,source_value:i.is_foreign_key,target_value:r.is_foreign_key,type:"FK(foreign key)"}),i.is_null!=r.is_null&&n.push({table_name:t,column_name:i.column_name,source_value:i.is_null,target_value:r.is_null,type:"NULL(nullable)"}),i.is_unique_index!=r.is_unique_index&&n.push({table_name:t,column_name:i.column_name,source_value:i.is_unique_index,target_value:r.is_unique_index,type:"UQ(unique index)"}),i.type!=r.type&&n.push({table_name:t,column_name:i.column_name,source_value:i.type,target_value:r.type,type:"Type"}),i.column_default_value!=r.column_default_value){var u,f;u=i.column_default_value===null?"null":String(i.column_default_value);f=r.column_default_value===null?"null":String(r.column_default_value);u.toLocaleLowerCase()==f.toLocaleLowerCase()&&u.toLocaleLowerCase()=="null"||n.push({table_name:t,column_name:i.column_name,source_value:u,target_value:f,type:"default value"})}return n};i.getJoinReferencesInfo=function(n,t){var r={foreign_key_name:t},i=y.findWhereIgnorecase(n,r,"foreign_key_name");return i==undefined?"no references info":i.references_table_name+"."+i.references_key_name};i.checkDifferenceJoinProperty=function(n,t,i,r){var u=i.references_table_name+"."+i.references_key_name,f=r.references_table_name+"."+r.references_key_name;return u.toLocaleLowerCase()!=f.toLocaleLowerCase()&&n.push({table_name:t,column_name:i.foreign_key_name,source_value:u,target_value:f,type:"join references"}),n};i.compareWithAnotherERDPopup=function(n,t){var u=r.open({templateUrl:"/templates/app/aquery/compare-with-another-erd-popup.html",controller:"compareWithAnotherErdPopupController",windowClass:"compare-erd",resolve:{params:function(){return{resultList:n,sourceERD:i.source,targetERD:t}}}});u.result.then(function(){},function(){})};i.compareWithAnotherERDOption=function(){var n=r.open({templateUrl:"/templates/app/aquery/compare-with-another-erd-option-popup.html",controller:"compareWithAnotherErdOptionPopupController",windowClass:"set-index",resolve:{params:function(){return{information:"비교 대상 ERD의 테이블명이 다를 경우 설정이 필요합니다.",allTableList:i.updateAllTableListCore(!0)}}}});n.result.then(function(n){v.each(n.allTableList,function(n){var t=v.where(i.source.table_list,{table_guid:n.table_guid});t.length>0&&(t[0].target_erd_table_name=n.target_erd_table_name)})},function(){})};i.updateShowOnlyImportantColumnsForERD=function(){i.source.view_attributes_info.isShowOnlyImportantColumnsForERD=!i.source.view_attributes_info.isShowOnlyImportantColumnsForERD;i.autoTableAlign()};i.allTableCreateSql=function(){i.$broadcast("allTableCreateSql","")};i.isCanvasMove=!0;i.setCanvasMove=function(){i.isCanvasMove===!1?(i.isCanvasMove=!0,i.showLeftTopInformationMessage("켄버스 드레그 이동 모드로 설정 되었습니다.")):(i.isCanvasMove=!1,i.showLeftTopInformationMessage("다중 테이블 선택 모드로 설정 되었습니다."))};i.updateCanvasMove=function(){var n=$("#canvas-move-icon");i.isCanvasMove===!0?(n.removeClass("icon-grey"),n.addClass("icon-orange")):(n.addClass("icon-grey"),n.removeClass("icon-orange"))};i.isFixedAqueryTopControlPanel=!0;i.setFixAqueryTopControlPanel=function(){i.isFixedAqueryTopControlPanel=i.isFixedAqueryTopControlPanel===!1?!0:!1};i.updateAqueryTopControlPanel=function(){var n=$("#fix-status"),t=$("#aquery-top-control-panel");i.isFixedAqueryTopControlPanel===!0?(n.removeClass("icon-grey"),n.addClass("icon-orange"),t.removeClass("absolute-aquery-top-control-panel"),t.addClass("fixed-aquery-top-control-panel")):(n.addClass("icon-grey"),n.removeClass("icon-orange"),t.removeClass("fixed-aquery-top-control-panel"),t.addClass("absolute-aquery-top-control-panel"));i.updatePositionaAueryTopControlPanel()};i.updatePositionaAueryTopControlPanel=function(){var n=0;i.isFixedAqueryTopControlPanel===!0?(n=50-$(window).scrollTop(),n<10&&(n=10)):n=50;$("#aquery-top-control-panel").animate({top:n+"px"},{duration:0})};i.newERD=function(){if(i.isSourceChanged()===!1){i.setERDInformation(!0);return}var n=r.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:i.lang.C00840,okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});n.result.then(function(){i.setERDInformation(!0)},function(){})};i.getErdList=function(n){if(i.user_info.user_key===0||i.user_info.user_key===undefined){p.alert("Alert",i.lang.C00580);return}if((n==="LoadDic"||n==="LoadLayout"||n==="CompareAnyERD")&&i.source.erd_info.db_type===""){i.setERDInformation(!0);return}a.erdList("aquery","erdlist").then(function(t){if(t.Response.length===0){p.alert("Alert",i.lang.C00590);return}i.erdSaveCheck(t.Response,n)})};i.erdSaveCheck=function(n,t){if(i.isSourceChanged()===!1||t==="LoadDic"||t==="LoadLayout"||t==="CompareAnyERD"){i.erdListPopup(n,t);return}var u=r.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:i.lang.C00600,okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});u.result.then(function(){i.erdListPopup(n,t)},function(){})};i.erdListPopup=function(n,f){var e="",o;i.source!=undefined&&i.source.erd_info.erd_guid!=undefined&&i.source.erd_info.erd_guid!=""&&(e=i.source.erd_info.erd_guid);o=r.open({templateUrl:"/templates/app/aquery/select-erd-popup.html",controller:"selectErdPopupController",windowClass:"select-erd",resolve:{params:function(){return{erdList:n,type:f,current_erd_guid:e}}}});o.result.then(function(n){t.loadingCount++;SpinnerForLoading.instance.initCanvasLoader();var r=angular.fromJson(n.erd.erd_json_data);r=i.deduplication(r);u(function(){if(f==="LoadDic"){r=i.checkSourceProperty(r,!1);i.copyDicFromAnyERD(r);return}if(f==="LoadLayout"){r=i.checkSourceProperty(r,!1);i.copyLayoutFromAnyERD(r);return}if(f==="CompareAnyERD"){r=i.checkSourceProperty(r,!1);i.compareWithAnotherERDMain(r);return}var t=i.source.erd_info.db_type;i.source=r;i.source=i.checkSourceProperty(i.source,!1);i.erdVersion=n.erd.erd_version;i.checkDuplicationTableName(i.source);n.erd.readonly_url!==null&&(i.source.erd_info.readonly_url=y.getBaseUrl()+n.erd.readonly_url,i.source.erd_info.readonly_url_password=w.decrypt(n.erd.readonly_url_password));i.sourceOld=angular.copy(i.source);t!==i.source.erd_info.db_type&&i.$broadcast("updateDBType",i.source.erd_info.db_type);i.shareERD=!1;i.$broadcast("updateSource",!1)},100)},function(){})};i.deduplication=function(n){var t=[],i=[],r=[],u=[],f=[],e=[];return v.each(n.table_list,function(n){var r=v.where(t,{guid:n.table_guid});r.length===0&&(i.push(n),t.push({guid:n.table_guid}))}),n.table_list=i,v.each(n.memo_list,function(n){var i=v.where(t,{guid:n.table_guid});i.length===0&&(r.push(n),t.push({guid:n.table_guid}))}),n.memo_list=r,v.each(n.type_dic_list,function(n){var i=v.where(t,{guid:n.table_guid});i.length===0&&(u.push(n),t.push({guid:n.table_guid}))}),n.type_dic_list=u,v.each(n.word_dic_list,function(n){var i=v.where(t,{guid:n.table_guid});i.length===0&&(f.push(n),t.push({guid:n.table_guid}))}),n.word_dic_list=f,v.each(n.name_dic_list,function(n){var i=v.where(t,{guid:n.table_guid});i.length===0&&(e.push(n),t.push({guid:n.table_guid}))}),n.name_dic_list=e,n};i.copyDicFromAnyERD=function(n){if(n.type_dic_list.length===0&&n.word_dic_list.length===0&&n.name_dic_list.length===0){t.loadingCount>0&&(t.loadingCount--,SpinnerForLoading.instance.removeCanvasLoader());p.alert("Alert",i.lang.C00610);return}i.source.type_dic_list===undefined&&(i.source.type_dic_list=[]);i.source.word_dic_list===undefined&&(i.source.word_dic_list=[]);i.source.name_dic_list===undefined&&(i.source.name_dic_list=[]);i.source.type_dic_list=i.source.type_dic_list.concat(n.type_dic_list);i.source.word_dic_list=i.source.word_dic_list.concat(n.word_dic_list);i.source.name_dic_list=i.source.name_dic_list.concat(n.name_dic_list);i.showAllDic();i.$broadcast("updateSource",!1)};i.checkSourceProperty=function(n,t){var u,r;return n.isFirstLoad=!0,n=i.deduplication(n),n.canvasHeight===undefined&&(n.canvasHeight=n.canvasHeigth),n.database_info_list===undefined&&(n.database_info_list=[{database_guid:y.guid(),database_name:n.erd_info.database_name,database_logical_name:"",database_comment:"",database_table_header_color:"#5EAEC9",database_order:1,is_show_database_table:!0,is_show_database_name_in_table:!1,is_default_database:!1}],n.erd_info.database_name=undefined,v.each(n.table_list,function(t){t.database_guid=n.database_info_list[0].database_guid})),n.view_attributes_info.isViewTableName===undefined&&(n.view_attributes_info.isViewTableName=!0),n.view_attributes_info.isViewDefaultValue===undefined&&(n.view_attributes_info.isViewDefaultValue=!1),n.view_attributes_info.isViewBottomButton===undefined&&(n.view_attributes_info.isViewBottomButton=!0),n.view_attributes_info.isTableAutoFit===undefined&&(n.view_attributes_info.isTableAutoFit=!1),n.view_attributes_info.isShowOnlyImportantColumnsForERD===undefined&&(n.view_attributes_info.isShowOnlyImportantColumnsForERD=!1),n.view_attributes_info.isViewTableLogicalName===undefined&&(n.view_attributes_info.isViewTableLogicalName=!0),n.view_attributes_info.isViewLogicalName===undefined&&(n.view_attributes_info.isViewLogicalName=!0),n.view_attributes_info.isViewTypeDic===undefined&&(n.view_attributes_info.isViewTypeDic=!0),n.view_attributes_info.defaultValueWidth===undefined&&(n.view_attributes_info.defaultValueWidth=90),n.view_attributes_info.logicalNameWidth===undefined&&(n.view_attributes_info.logicalNameWidth=100),n.view_attributes_info.dicTypeNameWidth===undefined&&(n.view_attributes_info.dicTypeNameWidth=100),n.view_attributes_info.isCurveConnectionLine===undefined&&(n.view_attributes_info.isCurveConnectionLine=!0),n.view_attributes_info.isViewUQ===undefined&&(n.view_attributes_info.isViewUQ=!1),n.view_attributes_info.isViewColumnOrder===undefined&&(n.view_attributes_info.isViewColumnOrder=!1),n.auto_sql_option===undefined&&(n.auto_sql_option={}),n.auto_sql_option.is_append_db_name_when_create_sql===undefined&&(n.auto_sql_option.is_append_db_name_when_create_sql=n.erd_info.is_append_db_name_when_create_sql===undefined?!1:n.erd_info.is_append_db_name_when_create_sql),n.auto_sql_option.is_ignore_fk===undefined&&(n.auto_sql_option.is_ignore_fk=!1),n.auto_sql_option.is_ignore_comment===undefined&&(n.auto_sql_option.is_ignore_comment=!1),n.type_dic_list===undefined&&(n.type_dic_list=[]),n.word_dic_list===undefined&&(n.word_dic_list=[]),n.name_dic_list===undefined&&(n.name_dic_list=[]),v.each(n.table_list,function(n){n.show_column_order===undefined&&(n.show_column_order=!1);n.order_width===undefined&&(n.order_width=45);n.show_comment===undefined&&(n.show_comment=!1);n.show_only_important_columns_for_table===undefined&&(n.show_only_important_columns_for_table=!1);n.tableNameWidth===undefined&&(n.tableNameWidth=rt.getTableNameWidth(i.source,n));n.table_logical_name===undefined&&(n.table_logical_name="");n.table_header_color===undefined&&(n.table_header_color="#5EAEC9");var t=0;v.each(n.column_list,function(n){n.is_unique_index===undefined&&(n.is_unique_index=!1);n.show_column===undefined&&(n.show_column=!0);n.column_default_value===undefined&&(n.column_default_value="");n.column_logical_name===undefined&&(n.column_logical_name="");n.type_dic===undefined&&n.dic_type!==undefined&&(n.type_dic=n.dic_type,n.dic_type=undefined);n.type_dic!==undefined&&n.type_dic.column_guid===undefined&&n.type_dic.type_guid!==undefined&&(n.type_dic.column_guid=n.type_dic.type_guid,n.type_dic.type_guid=undefined);n.column_name=i.convertNotStringToString(n.column_name);n.column_logical_name=i.convertNotStringToString(n.column_logical_name);t=t+1;n.order=t})}),v.each(n.type_dic_list,function(n){n.table_guid===undefined&&n.type_dic_guid!==undefined&&(n.table_guid=n.type_dic_guid,n.type_dic_guid=undefined);n.table_name===undefined&&n.type_dic_name!==undefined&&(n.table_name=n.type_dic_name,n.type_dic_name=undefined);n.column_list===undefined&&n.type_list!==undefined&&(n.column_list=n.type_list,n.type_list=undefined);n.height===undefined&&(n.height=112,n.maxHeigth=112);n.orderProperty===undefined&&(n.orderProperty="order",n.orderWidth=45);n.typeNameWidth===undefined&&(n.typeNameWidth=100,n.typeWidth=110,n.typeCommentWidth=70);var t=0;v.each(n.column_list,function(n){n.column_guid===undefined&&n.type_guid!==undefined&&(n.column_guid=n.type_guid,n.type_guid=undefined);t=t+1;n.order===undefined&&(n.order=t);n.type_comment===undefined&&(n.type_comment="")})}),v.each(n.word_dic_list,function(n){n.errorMassage="";n.errorMassageHTML=o.trustAsHtml("");n.height===undefined&&(n.height=112,n.maxHeigth=112);v.each(n.column_list,function(n){n.logical_name=i.convertNotStringToString(n.logical_name);n.physical_name=i.convertNotStringToString(n.physical_name)})}),v.each(n.name_dic_list,function(n){n.errorMassage="";n.errorMassageHTML=o.trustAsHtml("");n.height===undefined&&(n.height=112,n.maxHeigth=112);v.each(n.column_list,function(n){n.logical_name=i.convertNotStringToString(n.logical_name);n.physical_name=i.convertNotStringToString(n.physical_name);n.column_logical_name=i.convertNotStringToString(n.column_logical_name);n.column_name=i.convertNotStringToString(n.column_name);n.type_dic===undefined&&n.dic_type!==undefined&&(n.type_dic=n.dic_type,n.dic_type=undefined);n.type_dic!==undefined&&n.type_dic.column_guid===undefined&&n.type_dic.type_guid!==undefined&&(n.type_dic.column_guid=n.type_dic.type_guid,n.type_dic.type_guid=undefined)})}),v.each(n.memo_list,function(n){n.table_guid===undefined&&(n.table_guid=n.memo_guid,n.memo_guid=undefined)}),u=b.checkJoinTableColumnName(n.table_list),u.length>0&&t===!0&&(r="",v.each(u,function(n){r=r+n.table_name+" 테이블이 참조하는<\/br>"+n.references_table_name+" 테이블을 찾을 수 없습니다.<\/br>";r=r+"("+n.column_name+" 컬럼 -> "+n.references_key_name+" 컬럼)<\/br><\/br>"}),p.alert("Alert",r)),n};i.convertNotStringToString=function(n){return n===null||n===undefined?"":typeof n!="string"?n.toString():n};i.checkDuplicationTableName=function(n){var t=undefined,i=b.checkDuplicationTableNameList(n);i.tableList.length>0&&(t="이름이 같은 테이블들이 있습니다.<\/br>",v.each(i.tableList,function(n){t=t+"   "+n+"<\/br>"}),i.columnList.length>0&&(t=t+"<\/br>"));i.columnList.length>0&&(t=t+"이름이 같은 컬럼들이 있습니다.<\/br>",v.each(i.columnList,function(n){t=t+"   "+n+"<\/br>"}));t!=undefined&&p.alert("Alert",t)};i.importSQL=function(){if(i.source.erd_info.db_type===""){i.setERDInformation(!0).then(function(){i.importSQLPopup()});return}i.importSQLPopup()};i.importSQLPopup=function(){var t="",f=n.innerWidth,e;t=f>=1050?"create-sql":f>=850?"select-erd":"set-index";e=r.open({templateUrl:"/templates/app/aquery/import-create-table-sql-popup.html",controller:"importCreateTableSqlPopupController",windowClass:t,resolve:{params:function(){return{title:"Import Create Table SQL",db_type:i.source.erd_info.db_type,database_info_list:i.getDataBaseInfoListWithTableList()}}}});e.result.then(function(n){var t,r;n.tableList!==undefined&&(n.selectedDB!=undefined&&(r=v.where(i.source.database_info_list,{database_guid:n.selectedDB.database_guid}),r.length>0&&(t=r[0])),v.each(n.tableList,function(n){t!=undefined&&(n.database_guid=t.database_guid,n.table_header_color=t.database_table_header_color);n.position_y=100;n.position_x=-1e3;i.source.table_list.push(n)}),i.source=i.checkSourceProperty(i.source,!0),i.checkDuplicationTableName(i.source),y.waitLoadElement(n.tableList[n.tableList.length-1].table_guid).then(function(){var t=0,s="",h;v.each(i.source.table_list,function(n){n.position_x>t&&(t=n.position_x,s=n.table_guid)});t>0?(h=y.getElementPosition($("#"+s)[0]),t=h.right+70):t=35;var c=y.getElementPosition($("#"+n.tableList[n.tableList.length-1].table_guid)[0]),e=0,r=n.tableList.length/6,o=100,f=t;r<2?r=2:r>4&&(r=4);v.each(n.tableList,function(n){n.position_x=f;n.position_y=o;f=f+c.width+70;e++;e>=r&&(e=0,f=t,o=o+300)});i.autoTableAlign();v.each(n.tableList,function(t){t.position_x=t.position_x+Number(n.x_position_plus);t.position_y=t.position_y+Number(n.y_position_plus)});n.is_comment_to_logicalname==!0&&v.each(n.tableList,function(n){n.table_logical_name=n.table_comment;n.table_comment="";v.each(n.column_list,function(n){n.column_logical_name=n.column_comment;n.column_comment=""})});u(function(){ft.checkCanvasSizeForAllObject(i.source);i.$broadcast("updateSource",!0)},1e3)}))},function(){})};i.isSourceChanged=function(){var n,t,r;return i.source.table_list.length===0?!1:(n=angular.copy(i.source),i.deleteTempProperty(n),i.deleteTempProperty(i.sourceOld),t=JSON.stringify(n),r=JSON.stringify(i.sourceOld),t===r)?!1:!0};i.deleteTempProperty=function(n){v.each(n.table_list,function(n){delete n.$$hashKey;n.table_short_name="";n.is_selected_table=!1;v.each(n.column_list,function(n){delete n.$$hashKey})})};i.saveERDtoServer=async function(n,t){var e,u,o,f,s;if(i.shareERD===!0){p.alert("Alert",i.lang.C00620);return}if(i.user_info.user_key===0||i.user_info.user_key===undefined){p.alert("Alert",i.lang.C00630);return}if(i.source.table_list.length===0&&i.source.memo_list.length===0&&i.source.type_dic_list.length===0&&i.source.word_dic_list.length===0&&i.source.name_dic_list.length===0){p.alert("Alert",i.lang.C00640);return}if(b.checkJoinTableColumnName(i.source.table_list),v.each(i.source.table_list,function(n){b.checkIndexColumnName(n)}),e={erd_guid:i.source.erd_info.erd_guid},u="",n===!0&&(u=y.guid(),e.erd_guid=u),o=angular.copy(e),f=await i.getErdVersion(o),(i.erdVersion==undefined||i.erdVersion==0)&&(i.erdVersion=1),i.erdVersion>=f)i.saveERDtoServerCore(n,t,u);else if(i.erdVersion<f)s=r.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:"더 최신 버전의 ERD가 서버에 저장되어있습니다.<br/>저장 시 최신 버전의 ERD 데이터가 손실될 수 있습니다.<br/>저장을 계속하시겠습니까?",okButtonStyle:"btn-danger",cancelButtonStyle:"btn-default"}}}}),s.result.then(function(){i.erdVersion=f;i.saveERDtoServerCore(n,t,u)},function(){});else{p.alert("Alert","알 수 없는 이유로 저장 중 오류가 발생했습니다. 관리자에게 문의해주세요.");return}};i.getErdVersion=function(n){return new Promise(function(t){a.erdVersion("aquery","erdversion",n).then(function(n){var r=this,i={erd:n.Response};t(i.erd.erd_version)})})};i.saveERDtoServerCore=function(n,t,u){if(i.source=i.deduplication(i.source),t===!1){i.saveERDtoServerWithOutPopup();return}var f=r.open({templateUrl:"/templates/app/aquery/save-erd-popup.html",controller:"saveErdPopupController",resolve:{params:function(){return{source:i.source,erdVersion:i.erdVersion,newERDGuid:u}}}});f.result.then(function(){i.source.erd_info.erd_saved=!0;i.erdVersion=i.erdVersion+1;i.sourceOld=angular.copy(i.source)},function(){})};i.saveERDtoServerWithOutPopup=function(){var n,t,r,u;if(i.source.erd_info.erd_saved=!0,n=0,v.each(i.source.table_list,function(t){t.column_list.length>n&&(n=t.column_list.length)}),i.source.memo_list===undefined&&(i.source.memo_list=[]),t={erd_guid:i.source.erd_info.erd_guid,erd_name:i.source.erd_info.erd_name,db_type:i.source.erd_info.db_type,erd_json_data:JSON.stringify(i.source),erd_version:i.erdVersion,table_count:i.source.table_list.length,table_count_enc:w.encrypt(i.source.table_list.length),memo_count:i.source.memo_list.length,memo_count_enc:w.encrypt(i.source.memo_list.length),max_column_count:n,max_column_count_enc:w.encrypt(n),pay_type:"",pay_status:""},r=i.checkJsonError(t.erd_json_data),r===!0){p.alert("Alert","저장 데이터 구성 중 오류가 발생했습니다. 관리자에게 문의해주세요.");return}t.erd_byte_size=st.utf8ByteCount(t.erd_json_data);u=angular.copy(t);a.saveErd("aquery","erd",u).then(function(){i.oldDBType!==i.source.erd_info.db_type&&i.$root.$broadcast("updateDBType",i.source.erd_info.db_type);i.source.erd_info.erd_saved=!0;i.erdVersion=i.erdVersion+1;i.sourceOld=angular.copy(i.source);i.showLeftTopInformationMessage("저장이 완료 되었습니다.")})};i.checkJsonError=function(n){try{var t=JSON.parse(n);return!1}catch(i){return!0}};i.showLeftTopInformationMessage=function(n){i.leftTopInformationMessage=n;$("#save-completed-alert-panel").fadeIn("slow").delay(3e3).fadeOut("slow")};i.erdReadonlyUrl=function(){if(i.shareERD===!0){p.alert("Alert",i.lang.C00620);return}if(i.user_info.user_key===0||i.user_info.user_key===undefined){p.alert("Alert",i.lang.C00650);return}if(i.source.erd_info.erd_saved===!1){p.alert("Alert",i.lang.C00660);return}var n=r.open({templateUrl:"/templates/app/aquery/share-erd-popup.html",controller:"shareErdPopupController",windowClass:"select-erd",resolve:{params:function(){return{erd_info:i.source.erd_info}}}});n.result.then(function(n){i.source.erd_info.readonly_url=n.readonly_url;i.source.erd_info.readonly_url_password=n.readonly_url_password},function(){})};i.requestErdAuth=function(){if(i.user_info.user_key===0||i.user_info.user_key===undefined){p.alert("Alert",i.lang.C00650);return}var n=r.open({templateUrl:"/templates/app/aquery/request-erd-auth-popup.html",controller:"requestErdAuthPopupController",resolve:{params:function(){return{erd_info:i.source.erd_info}}}});n.result.then(function(n){var t=n.erd_info;p.alert("Alert",t.erd_name+"("+t.db_type+")"+i.lang.C00670)},function(){})};i.requestErdAuthList=function(){if(i.user_info.user_key===0||i.user_info.user_key===undefined){p.alert("Alert",i.lang.C00650);return}a.requesterdauthlist("aquery","requesterdauthlist").then(function(n){i.setRequestErdAuthPopup(n.Response)})};i.setRequestErdAuthPopup=function(n){var t=r.open({templateUrl:"/templates/app/aquery/set-request-erd-auth-popup.html",controller:"setRequestErdAuthPopupController",windowClass:"create-sql",resolve:{params:function(){return{erd_guid:i.source.erd_info.erd_guid,user_name:i.user_info.user_name,erd_saved:i.source.erd_info.erd_saved,erdList:n}}}});t.result.then(function(n){var t=n.updateList;t.length===0?p.alert("Alert",i.lang.C00680):p.alert("Alert",i.lang.C00690)},function(){})};i.setLayout=function(n){n==="logical model"?(i.source.view_attributes_info.isViewTableLogicalName=!0,i.source.view_attributes_info.isViewTableName=!1,i.source.view_attributes_info.isViewTableComment=!1,i.source.view_attributes_info.isViewPK=!0,i.source.view_attributes_info.isViewUQ=!1,i.source.view_attributes_info.isViewAI=!1,i.source.view_attributes_info.isViewFK=!0,i.source.view_attributes_info.isViewNull=!1,i.source.view_attributes_info.isViewLogicalName=!0,i.source.view_attributes_info.isViewName=!1,i.source.view_attributes_info.isViewType=!1,i.source.view_attributes_info.isViewDefaultValue=!1,i.source.view_attributes_info.isViewComment=!1,i.source.view_attributes_info.isShowOnlyImportantColumnsForERD=!1,i.source.view_attributes_info.isViewButton=!0,i.source.view_attributes_info.isViewBottomButton=!1):n==="physical model"?(i.source.view_attributes_info.isViewTableLogicalName=!1,i.source.view_attributes_info.isViewTableName=!0,i.source.view_attributes_info.isViewTableComment=!1,i.source.view_attributes_info.isViewPK=!0,i.source.view_attributes_info.isViewUQ=!1,i.source.view_attributes_info.isViewAI=!0,i.source.view_attributes_info.isViewFK=!0,i.source.view_attributes_info.isViewNull=!0,i.source.view_attributes_info.isViewLogicalName=!1,i.source.view_attributes_info.isViewName=!0,i.source.view_attributes_info.isViewType=!0,i.source.view_attributes_info.isViewDefaultValue=!1,i.source.view_attributes_info.isViewComment=!1,i.source.view_attributes_info.isShowOnlyImportantColumnsForERD=!1,i.source.view_attributes_info.isViewButton=!0,i.source.view_attributes_info.isViewBottomButton=!0):n==="logical physical model"&&(i.source.view_attributes_info.isViewTableLogicalName=!0,i.source.view_attributes_info.isViewTableName=!0,i.source.view_attributes_info.isViewTableComment=!1,i.source.view_attributes_info.isViewPK=!0,i.source.view_attributes_info.isViewUQ=!1,i.source.view_attributes_info.isViewAI=!0,i.source.view_attributes_info.isViewFK=!0,i.source.view_attributes_info.isViewNull=!0,i.source.view_attributes_info.isViewLogicalName=!0,i.source.view_attributes_info.isViewName=!0,i.source.view_attributes_info.isViewType=!0,i.source.view_attributes_info.isViewDefaultValue=!1,i.source.view_attributes_info.isViewComment=!1,i.source.view_attributes_info.isShowOnlyImportantColumnsForERD=!1,i.source.view_attributes_info.isViewButton=!0,i.source.view_attributes_info.isViewBottomButton=!0);i.autoTableAlign()};i.showAllColumnPopup=function(){if(i.source.table_list.length===0){p.alert("Alert",i.lang.C00700);return}if(i.allColumnList===undefined||!(i.allColumnList.length>0)){var n={all_column_guid:y.guid(),all_column_title:i.lang.C00710,position_x:-1e3,position_y:100,table_logical_name_width:140,table_name_width:130,column_logical_name_width:145,column_name_width:130,orderProperty:"",all_column_list:[]};v.each(i.source.table_list,function(t){v.each(t.column_list,function(i){n.all_column_list.push({table:t,col:i})})});i.source.view_attributes_info.isViewName===!0?(n.all_column_list=v.sortBy(n.all_column_list,function(n){return n.col.column_name}),n.orderProperty="column_name"):(n.all_column_list=v.sortBy(n.all_column_list,function(n){return n.col.column_logical_name}),n.orderProperty="column_logical_name");i.allColumnList=[n];i.$broadcast("updateAllColumnData",i.allColumnList)}};i.setLogicalNameAndCommentPopup=function(){if(i.source.table_list.length===0){p.alert("Alert",i.lang.C00700);return}var n=r.open({templateUrl:"/templates/app/aquery/set-logical-name-and-comment-popup.html",controller:"setLogicalNameAndCommentPopupController",resolve:{params:function(){return{popupTitle:"Setting Logical name And Comment",table_list:i.source.table_list}}}});n.result.then(function(){},function(){})};i.setERDSize=function(){var t=n.innerWidth,r=n.innerHeight-90;t>i.source.canvasWidth&&(i.source.canvasWidth=t);r>i.source.canvasHeight&&(i.source.canvasHeight=r)};i.checkCanvasSizeForNewObject=function(n,t){i.mouseRClickX+n>i.source.canvasWidth&&(i.source.canvasWidth=i.source.canvasWidth+n+500);i.mouseRClickY+t>i.source.canvasHeight&&(i.source.canvasHeight=i.source.canvasHeight+t+500)};i.saveImage=function(){if(i.source.erd_info.db_type===undefined||i.source.erd_info.db_type===""){p.alert("Alert",i.lang.C00720);return}i.setUIForScreenshot(!0,null);u(function(){domtoimage.toBlob($("#rootdiv")[0]).then(function(n){window.saveAs(n,tt.getImageFileName(i.source.erd_info.erd_name));u(function(){i.setUIForScreenshot(!1,undefined)},500)})},500)};i.setUIForScreenshot=function(n,r){n===!0?($(".dic-scroll").each(function(){$(this).scrollTop(0)}),i.workSaveImage=!0,i.isViewButtonBackup=i.source.view_attributes_info.isViewButton,i.source.view_attributes_info.isViewButton=!1,i.canvasWidthBackup=i.source.canvasWidth,i.canvasHeightBackup=i.source.canvasHeight,y.checkBrowser()=="Firefox"?(i.source.canvasWidth>1e4&&(i.source.canvasWidth=1e4),i.source.canvasHeight>1e4&&(i.source.canvasHeight=1e4)):(i.source.canvasWidth>16e3&&(i.source.canvasWidth=16e3),i.source.canvasHeight>16e3&&(i.source.canvasHeight=16e3)),t.loadingCount++,SpinnerForLoading.instance.initCanvasLoader()):(r!=undefined&&r.clearRect(0,0,i.source.canvasWidth,i.source.canvasHeight),i.workSaveImage=!1,i.source.view_attributes_info.isViewButton=i.isViewButtonBackup,y.checkBrowser()=="Firefox"?(i.source.canvasWidth==1e4&&(i.source.canvasWidth=i.canvasWidthBackup),i.source.canvasHeight==1e4&&(i.source.canvasHeight=i.canvasHeightBackup)):(i.source.canvasWidth==16e3&&(i.source.canvasWidth=i.canvasWidthBackup),i.source.canvasHeight==16e3&&(i.source.canvasHeight=i.canvasHeightBackup)),t.loadingCount--,SpinnerForLoading.instance.removeCanvasLoader())};i.exportExcel=function(){i.source.memo_list===undefined&&(i.source.memo_list=[]);var t={erd_guid:i.source.erd_info.erd_guid,erd_name:i.source.erd_info.erd_name,db_type:i.source.erd_info.db_type,table_list:i.source.table_list,word_dic_list:i.source.word_dic_list,name_dic_list:i.source.name_dic_list,type_dic_list:i.source.type_dic_list,memo_list:i.source.memo_list},n=angular.copy(t);if((n.table_list===undefined||n.table_list.length===0)&&(n.word_dic_list===undefined||n.word_dic_list.length===0)&&(n.name_dic_list===undefined||n.name_dic_list.length===0)&&(n.type_dic_list===undefined||n.type_dic_list.length===0)){p.alert("Alert",i.lang.C00730);return}ot.setFullResponse(!0);ot.all("api/aquery/exportExcelErd").withHttpConfig({responseType:"arraybuffer"}).post(n).then(function(n){if(n.headers("success")==="N"){p.alert("Alert",i.lang.C00740);return}var t=new Blob([n.data],{type:"application/vnd.ms-excel"});saveAs(t,n.headers("filename"))})};i.download=function(n){h.get("/"+n,{headers:{Accept:"image/jpeg"}}).then(function(t){var i=new Uint8Array(t.data),r=new Blob([i],{type:"image/jpeg;charset=UTF-8"});saveAs(r,n)})};i.oldCode=function(){};i.checkReadonlyUrlTimer=function(){u(function(){i.checkReadonlyUrl()},1e3)};i.checkReadonlyUrl=function(){var n=y.getQueryString(),f;n.rurl!==undefined&&n.rurl!==""&&(f=r.open({templateUrl:"/templates/app/aquery/share-erd-login-popup.html",controller:"shareErdLoginPopupController",windowClass:"set-information",resolve:{params:function(){return{readonly_guid:n.rurl}}}}),f.result.then(function(n){t.loadingCount++;SpinnerForLoading.instance.initCanvasLoader();u(function(){var t=i.source.erd_info.db_type;i.source=angular.fromJson(n.erd.erd_json_data);i.source=i.checkSourceProperty(i.source,!1);n.erd.readonly_url!==null&&(i.source.erd_info.readonly_url=y.getBaseUrl()+n.erd.readonly_url,i.source.erd_info.readonly_url_password=w.decrypt(n.erd.readonly_url_password));i.sourceOld=angular.copy(i.source);i.$broadcast("updateSource",!1);t!==i.source.erd_info.db_type&&i.$broadcast("updateDBType",i.source.erd_info.db_type);i.shareERD=!0;p.alert("Alert",i.lang.C00750)},100)},function(){}))};i.checkNaverLogin=function(){var n=y.getQueryString();n.access_token!==undefined&&n.access_token!==""&&g.get_naver_userprofile().then(function(n){if(n===null){p.alert("Alert",i.lang.C00760);return}var t=angular.fromJson(json);console.log(t);nt.join(n.email,n.nickname,n.id,"NAVER").then(function(){})})};i.checkDemo=function(){var n=y.getQueryString();n.demo!==undefined&&n.demo==="y"&&u(function(){i.loadDemoERD(n.demo_type)},100)};i.loadDemoERD=function(n){t.loadingCount++;SpinnerForLoading.instance.initCanvasLoader();i.source=d.getData(n);i.source=i.checkSourceProperty(i.source,!1);i.source.erd_info.erd_guid=y.guid();i.sourceOld=angular.copy(i.source);u(function(){i.$broadcast("updateSource",!1);i.$broadcast("updateDBType",i.source.erd_info.db_type)},3e3)};i.autoTableAlign=function(){i.source.view_attributes_info.isTableAutoFit!==!1&&u(function(){i.tableAlign()},200)};i.tableAlignConfirm=function(){var n=this,t=r.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:"테이블을 <b>자동 정렬<\/b> 하시겠습니까?",okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});t.result.then(function(){n.tableAlign()},function(){})};i.tableAlign=function(){var f,t;if(i.source.table_list.length!==0||i.source.memo_list.length!==0||i.source.type_dic_list.length!==0||i.source.word_dic_list.length!==0||i.source.name_dic_list.length!==0){var n=angular.copy(i.source.table_list),r=angular.copy(i.source.memo_list),e=angular.copy(i.source.type_dic_list),o=angular.copy(i.source.word_dic_list),s=angular.copy(i.source.name_dic_list);v.each(e,function(t){n.push(t)});v.each(o,function(t){n.push(t)});v.each(s,function(t){n.push(t)});i.initItemListForAutoFit(n,r);f=i.getTableListInfo(n);t=i.getTableMatrix(n,r,f);t=i.newTablePosition(t);u(function(){i.applyPositionToRealTable(t)},100)}};i.initItemListForAutoFit=function(n,t){v.each(n,function(n){var t=y.getElementPosition($("#"+n.table_guid)[0]);n.position=t});v.each(t,function(n){var t=y.getElementPosition($("#"+n.table_guid)[0]);n.position=t});n=v.sortBy(n,function(n){return n.position.top});t=v.sortBy(t,function(n){return n.position.top})};i.getTableListInfo=function(n){var t={average:0};return v.each(n,function(n){t.average=t.average+n.position.width}),t.average=t.average/n.length,t};i.getTableMatrix=function(n,t,r){for(var f,u,e=[],o=0;o<100;o++)if(f=i.getMostLeftItemX(n,t),u={startX:f,endX:f+r.average/2,nowY:0,itemList:[]},v.each(n,function(n){n.position.left>=u.startX&&n.position.left<=u.endX&&u.itemList.push(n)}),v.each(t,function(n){n.position.left>=u.startX&&n.position.left<=u.endX&&u.itemList.push(n)}),v.each(u.itemList,function(i){n=v.without(n,v.findWhere(n,{table_guid:i.table_guid}));t=v.without(t,v.findWhere(t,{table_guid:i.table_guid}))}),u.itemList.length>0&&(u.itemList=v.sortBy(u.itemList,function(n){return n.position.top}),e.push(u)),n.length===0&&t.length===0)break;return e};i.getMostLeftItemX=function(n,t){var i=999999;return v.each(n,function(n){i>n.position.left&&(i=n.position.left)}),v.each(t,function(n){i>n.position.left&&(i=n.position.left)}),i};i.newTablePosition=function(n){var u=35,f=100,e=70,o=20,r=!0,i=0,t=0;return v.each(n,function(n){var s=!0,h=0,c=r===!0?u:e;v.each(n.itemList,function(n){var r=s===!0?f:o;t<n.position.width&&(t=n.position.width);n.position_x=i+c;n.position_y=h+r;h=n.position_y+n.position.height;s=!1});i=i+c+t;t=0;r=!1}),n};i.applyPositionToRealTable=function(n){v.each(n,function(n){v.each(n.itemList,function(n){var t=ft.getElementDataByGUID(n.table_guid,i.source);t===undefined&&(t=v.findWhere(i.source.memo_list,{table_guid:n.table_guid}));t.position_x=n.position_x;t.position_y=n.position_y})});ft.checkCanvasSizeForAllObject(i.source);i.$broadcast("applyPositionToRealTable","")};i.closeJobPanel=function(){i.isShowJobPanel=!1};i.initUpdateGA=function(){c(i.updateGA,24e4)};i.updateGA=function(){i.isUserUse===!0&&(n.gtag("config","UA-73609812-1",{page:f.url()}),i.isUserUse=!1)};i.userUse=function(){i.isUserUse=!0};i.initSetting();i.source=i.initSource();i.erdVersion=1;i.sourceOld=i.initSource();i.user_info=i.emptyUserModel();i.setERDSize();i.initEvent();i.checkOSBrowser();i.checkReadonlyUrlTimer();i.checkDemo();i.initUpdateGA();k.initTouch()}])}(),function(){"use strict";app.controller("compareWithAnotherErdOptionPopupController",["$scope","$modal","$modalInstance","_","aqueryResourceService","utilService","securityService","$sce","alertServices","settings","params",function(n,t,i,r,u,f,e,o,s,h,c){n.init=function(){n.information=o.trustAsHtml(c.information);n.allTableList=c.allTableList};n.ok=function(){var t={allTableList:n.allTableList};i.close(t)};n.cancel=function(){i.dismiss()};n.init()}])}(),function(){"use strict";app.controller("compareWithAnotherErdPopupController",["$scope","$modalInstance","_","alertServices","utilService","tableSizeHelper","params",function(n,t,i,r,u,f,e){n.init=function(){n.data=angular.copy(e.sourceERD);n.targetERD=e.targetERD;n.resultList=i.sortBy(e.resultList,function(n){return n.table_name});n.sourceErdName=n.data.erd_info.erd_name;n.targetErdName=n.targetERD.erd_info.erd_name;n.initTableLayout(n.data);n.initTableLayout(n.targetERD);n.initData()};n.initTableLayout=function(n){n.view_attributes_info.isViewTableName=!0;n.view_attributes_info.isViewTableLogicalName=!0;n.view_attributes_info.isViewTableComment=!1;n.view_attributes_info.isViewColumnOrder=!1;n.view_attributes_info.isViewPK=!0;n.view_attributes_info.isViewUQ=!0;n.view_attributes_info.isViewAI=!0;n.view_attributes_info.isViewFK=!0;n.view_attributes_info.isViewNull=!0;n.view_attributes_info.isViewComment=!1;n.view_attributes_info.isViewName=!0;n.view_attributes_info.isViewLogicalName=!0;n.view_attributes_info.isViewType=!0;n.view_attributes_info.isViewDefaultValue=!1;n.view_attributes_info.isViewButton=!1;n.view_attributes_info.isViewBottomButton=!1;n.view_attributes_info.isShowOnlyImportantColumnsForERD=!1;n.view_attributes_info.commentWidth=100;n.view_attributes_info.nameWidth=220;n.view_attributes_info.logicalNameWidth=200;n.view_attributes_info.typeWidth=110;n.view_attributes_info.defaultValueWidth=90;n.view_attributes_info.dicTypeNameWidth=100;i.each(n.table_list,function(t){t.show_column_order=!1;t.show_comment=!1;t.show_only_important_columns_for_table=!1;t.tableNameWidth=f.getTableNameWidth(n,t)})};n.initData=function(){n.compareList=[];var t=[];i.each(n.resultList,function(r){var a=u.findWhereIgnorecase(t,r,"table_name"),f,e;if(a==undefined){if(f=n.getTableTargetErdTableName(n.data.table_list,n.targetERD.table_list,r.table_name),r.type==="source_table_only"){var c=n.getTable(n.data,f),o={item:c,message:null},s={item:null,message:"no table"},e={sourcePart:o,targetPart:s,compareInfoList:null};n.compareList.push(e)}else if(r.type==="target_table_only"){var l=n.getTable(n.targetERD,f),o={item:null,message:"no table"},s={item:l,message:null},e={sourcePart:o,targetPart:s,compareInfoList:null};n.compareList.push(e)}else{var c=n.getTable(n.data,f),l=n.getTable(n.targetERD,f),o={item:c,message:null},s={item:l,message:null},h=i.filter(n.resultList,function(n){return r.table_name==n.table_name?!0:!1});h=i.sortBy(h,function(n){return n.column_name});e={sourcePart:o,targetPart:s,compareInfoList:h};n.compareList.push(e)}t.push({table_name:r.table_name})}});i.each(n.compareList,function(n){i.each(n.compareInfoList,function(n){n.type==="no column"?(n.columnNameForegroundColor={color:"red"},n.typeForegroundColor={color:"#333333"},n.PKIconColor={color:"#6a9ca7"},n.isColor=!0):n.type==="PK(primary key)"?(n.columnNameForegroundColor={color:"red"},n.typeForegroundColor={color:"#333333"},n.PKIconColor={color:"red"},n.isColor=!0):n.type==="Type"?(n.columnNameForegroundColor={color:"orange"},n.typeForegroundColor={color:"orange"},n.PKIconColor={color:"#6a9ca7"},n.isColor=!0):(n.columnNameForegroundColor={color:"#333333"},n.typeForegroundColor={color:"#333333"},n.PKIconColor={color:"#6a9ca7"},n.isColor=!1)})});i.each(n.compareList,function(n){i.each(n.compareInfoList,function(t){var r=u.findWhereIgnorecase(n.sourcePart.item.column_list,t,"column_name"),i;r!=undefined&&(r.isColor===undefined||r.isColor===!1)&&(r.columnNameForegroundColor=t.columnNameForegroundColor,r.typeForegroundColor=t.typeForegroundColor,r.PKIconColor=t.PKIconColor,r.isColor=t.isColor,t.type==="Type"&&(r.columnNameForegroundColor={color:"#333333"}));i=u.findWhereIgnorecase(n.targetPart.item.column_list,t,"column_name");i!=undefined&&(i.isColor===undefined||i.isColor===!1)&&(i.columnNameForegroundColor=t.columnNameForegroundColor,i.typeForegroundColor=t.typeForegroundColor,i.PKIconColor=t.PKIconColor,i.isColor=t.isColor,t.type==="Type"&&(i.columnNameForegroundColor={color:"#333333"}))})})};n.getTableTargetErdTableName=function(n,t,r){var f,e,o;return i.each(n,function(n){(u.ConvertToLowerCase(r)==u.ConvertToLowerCase(n.table_name)||u.ConvertToLowerCase(r)==u.ConvertToLowerCase(n.target_erd_table_name))&&(f=n)}),i.each(t,function(n){(u.ConvertToLowerCase(r)==u.ConvertToLowerCase(n.table_name)||u.ConvertToLowerCase(r)==u.ConvertToLowerCase(n.target_erd_table_name))&&(e=n)}),o={table_name:r},f!=undefined&&f.target_erd_table_name!=undefined&&f.target_erd_table_name!=""&&(o.target_erd_table_name=f.target_erd_table_name),e!=undefined&&e.target_erd_table_name!=undefined&&e.target_erd_table_name!=""&&(o.target_erd_table_name=e.target_erd_table_name),o};n.getTable=function(n,t){var r;return i.each(n.table_list,function(n){u.ConvertToLowerCase(t.table_name)==u.ConvertToLowerCase(n.table_name)||u.ConvertToLowerCase(t.table_name)==u.ConvertToLowerCase(n.target_erd_table_name)?r=n:r==undefined&&t.target_erd_table_name!=undefined&&t.target_erd_table_name!=""&&(u.ConvertToLowerCase(t.target_erd_table_name)==u.ConvertToLowerCase(n.table_name)||u.ConvertToLowerCase(t.target_erd_table_name)==u.ConvertToLowerCase(n.target_erd_table_name))&&(r=n)}),r};n.ok=function(){t.close({})};n.cancel=function(){t.dismiss({})};n.init()}])}(),function(){"use strict";app.controller("createSqlPopupController",["$scope","$modalInstance","$timeout","_","aqueryResourceService","utilService","securityService","clipboard","params",function(n,t,i,r,u,f,e,o,s){n.init=function(){n.sqlResult=s.sqlResult;n.sendData=s.sendData;n.title=s.title};n.fixToContent=function(){n.timer!=undefined&&i.cancel(n.timer);n.timer=i(function(){$("textarea[name=sql-textarea]").flexible();$("textarea[name=sql-textarea]").trigger("updateHeight")},50)};n.sqlCopy=function(n){o.copyText(n)};n.ok=function(){t.close({temp:""})};n.cancel=function(){t.dismiss()};n.init()}])}(),function(){"use strict";app.controller("importCreateTableSqlPopupController",["$scope","$modalInstance","$timeout","_","alertServices","aqueryResourceService","utilService","securityService","params",function(n,t,i,r,u,f,e,o,s){n.init=function(){n.information="하나 이상의 Create Table 관련 SQL을 입력하세요.";n.sql="";n.db_type=s.db_type;n.title=s.title;n.database_info_list=s.database_info_list;n.selectedDB=n.database_info_list[0];n.x_position_plus=0;n.y_position_plus=0;n.is_comment_to_logicalname=!1};n.fixToContent=function(){n.timer!=undefined&&i.cancel(n.timer);n.timer=i(function(){$("textarea[name=sql-textarea]").flexible();$("textarea[name=sql-textarea]").trigger("updateHeight")},50)};n.showHelpAboutERDCode=function(){var n="1. Oracle, MySQL, MSSQL을 지원합니다.<br />";n=n+"2. 관계가 설정 되어있는 테이블은 한 번에 넣어주세요.<br />순서는 상관 없습니다.<br />";n=n+"3. DB에서 테이블 생성 관련 SQL(DB 스키마)을 추출하는 방법은<br />상단 메뉴 Help를 클릭해서 도움말 화면으로 들어가신 후<br />[21. ERD Import - SQL로 테이블 생성] 내용 참고해주시면<br />감사하겠습니다<br />";u.alert("Alert",n)};n.readContent=function(t){n.content=t;n.sql="Click Load Button";i(function(){},50)};n.ok=function(){if(n.sql==""&&n.content==undefined){u.alert("Alert","SQL이 입력되지 않았습니다");return}var i={db_type:n.db_type,create_table_sql:n.content==undefined?n.sql:n.content},r=angular.copy(i);f.importsql("aquery","importsql",r).then(function(i){var r=angular.fromJson(i.Response.erd_json_data),u={tableList:r,selectedDB:n.selectedDB,x_position_plus:n.x_position_plus,y_position_plus:n.y_position_plus,is_comment_to_logicalname:n.is_comment_to_logicalname};t.close(u)})};n.cancel=function(){t.dismiss()};n.init()}])}(),function(){"use strict";app.controller("requestErdAuthPopupController",["$scope","$modalInstance","$location","$sce","_","aqueryResourceService","utilService","params",function(n,t,i,r,u,f){n.init=function(){n.information1=r.trustAsHtml("ERD 생성자에게서 받은 ERD 코드를 입력하세요<br>");n.information2=r.trustAsHtml("ERD 생성자의 허가 후 상단 도구모음 Load 버튼을 클릭하여<br>ERD에 접근할 수 있습니다.");n.alert="";n.erd_guid=""};n.ok=function(){if(n.alert="",n.myForm.input.$valid==!1){n.alert="올바른 값이 입력되지 않았습니다.";return}var i={erd_guid:n.erd_guid};f.requesterdauth("aquery","requesterdauth",i).then(function(n){var i={erd_info:n.Response};t.close(i)})};n.cancel=function(){t.dismiss()};n.init()}])}(),function(){"use strict";app.controller("saveErdPopupController",["$scope","$modalInstance","_","aqueryResourceService","utilService","securityService","utfByteCountServices","params",function(n,t,i,r,u,f,e,o){n.init=function(){n.information="ERD를 서버에 저장 합니다.";n.alert="";n.source=o.source;n.erdVersion=o.erdVersion;n.newERDGuid=o.newERDGuid;n.oldDBType=n.source.erd_info.db_type;n.dbTypeList=[{name:"--- select DB type ---",code:""},{name:"ORACLE",code:"ORACLE"},{name:"MySQL",code:"MySQL"},{name:"MSSQL",code:"MSSQL"},{name:"MariaDB",code:"MariaDB"},{name:"PostgreSQL",code:"PostgreSQL"},];n.selectedDBTypeItem=n.source.erd_info.db_type!=""?i.findWhere(n.dbTypeList,{code:n.source.erd_info.db_type}):n.dbTypeList[0]};n.ok=function(){if(n.alert="",n.myForm.input.$valid===!1){n.alert="올바른 값이 입력되지 않았습니다.";return}if(n.source.erd_info.db_type=n.selectedDBTypeItem.code,n.source.erd_info.db_type===""){n.alert="DB Type을 선택하지 않았습니다.";return}n.source.erd_info.erd_guid==""&&(n.source.erd_info.erd_guid=u.guid());n.alert="";n.saveERDtoServer()};n.saveERDtoServer=function(){var u,o,s;n.source.erd_info.erd_saved=!0;u=0;i.each(n.source.table_list,function(n){n.column_list.length>u&&(u=n.column_list.length)});n.source.memo_list==undefined&&(n.source.memo_list=[]);n.newERDGuid!=""&&(n.source.erd_info.erd_guid=n.newERDGuid);o={erd_guid:n.source.erd_info.erd_guid,erd_name:n.source.erd_info.erd_name,db_type:n.source.erd_info.db_type,erd_json_data:JSON.stringify(n.source),erd_version:n.erdVersion,table_count:n.source.table_list.length,table_count_enc:f.encrypt(n.source.table_list.length),memo_count:n.source.memo_list.length,memo_count_enc:f.encrypt(n.source.memo_list.length),max_column_count:u,max_column_count_enc:f.encrypt(u),pay_type:"",pay_status:""};o.erd_byte_size=e.utf8ByteCount(o.erd_json_data);s=angular.copy(o);r.saveErd("aquery","erd",s).then(function(){n.oldDBType!=n.source.erd_info.db_type&&n.$root.$broadcast("updateDBType",n.source.erd_info.db_type);t.close({temp:""})})};n.cancel=function(){t.dismiss()};n.init()}])}(),function(){"use strict";app.controller("selectDatabasePopupController",["$scope","$modal","$modalInstance","_","aqueryResourceService","utilService","securityService","$sce","alertServices","settings","params",function(n,t,i,r,u,f,e,o,s,h,c){n.init=function(){n.information=o.trustAsHtml(c.information);n.databaseList=[];n.databaseList.push({database_guid:"all",database_name:"모든 데이터 베이스 선택",text_color:"#000000",selected:!0});r.each(c.database_info_list,function(t){n.databaseList.push({database_guid:t.database_guid,database_name:t.database_name,database_logical_name:t.database_logical_name,database_comment:t.database_comment,database_table_header_color:t.database_table_header_color,text_color:"#FFFFFF",selected:!1})})};n.radioClick=function(t){r.each(n.databaseList,function(n){n.selected=!1});t.selected=!0};n.ok=function(){var t=r.findWhere(n.databaseList,{selected:!0}),u=t.database_guid,f={database_guid:u};i.close(f)};n.cancel=function(){i.dismiss()};n.init()}])}(),function(){"use strict";app.controller("selectErdPopupController",["$scope","$modal","$modalInstance","_","aqueryResourceService","utilService","securityService","$sce","alertServices","settings","params",function(n,t,i,r,u,f,e,o,s,h,c){n.init=function(){if(c.erdList!=undefined&&c.erdList.length>0){var t=r.findWhere(c.erdList,{erd_guid:c.current_erd_guid});t!=undefined?t.selected=!0:c.erdList[0].selected=!0}n.erdList=c.erdList;n.type=c.type;n.current_erd_guid=c.current_erd_guid;n.information=n.type==="LoadDic"?o.trustAsHtml("사전을 불러올 ERD를 선택하세요."):n.type==="LoadLayout"?o.trustAsHtml("1. 레이아웃을 가져올 ERD를 선택하세요.<br/>2. 현재 ERD와 선택한 ERD에 모두 존재하는 테이블의 경우 크기, 위치 및 기타 레이아웃이 선택한 ERD에 맞춰집니다.<br/>3. 현재 ERD 테이블에 논리명, 커멘트가 없는 경우 선택한 ERD의 테이블에서 가져옵니다.<\/br>4. 제목과 내용이 같은 메모가 없다면 해당 메모가 추가 됩니다.<\/br>5. ERD의 여러가지 보기 설정이 선택한 ERD에 맞춰집니다."):n.type==="CompareAnyERD"?o.trustAsHtml("현재의 ERD와 비교할 다른 ERD를 선택하세요."):o.trustAsHtml("불러올 ERD를 선택하세요.");r.each(n.erdList,function(n){n.update_date=n.update_date.substring(0,10);n.reg_date=n.reg_date.substring(0,10)})};n.radioClick=function(t){r.each(n.erdList,function(n){n.selected=!1});t.selected=!0};n.deleteERDPopup=function(i){var r="",u;r=i.auth_type=="C"?"생성한 ERD를 삭제하면 해당 ERD에 접근 권한을 가지고 있는<br/>모든 회원들 또한 해당 ERD를 볼 수 없게 됩니다.<br/>정말 "+i.erd_name+"를 삭제하시겠습니까?":"목록에서만 사라질뿐 원본 ERD는 삭제되지 않습니다.<br/>정말 "+i.erd_name+"를 목록에서 삭제 하시겠습니까?";u=t.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:r,okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});u.result.then(function(){n.deleteERDCore(i)},function(){})};n.deleteERDCore=function(t){u.deleteerd("aquery","erd",t.erd_guid).then(function(){n.erdList=r.without(n.erdList,r.findWhere(n.erdList,{erd_guid:t.erd_guid}));s.alert("Alert",t.erd_name+" ERD가 삭제 되었습니다.")})};n.ok=function(){n.alert="";var t=r.findWhere(n.erdList,{selected:!0});if(t==undefined){n.alert="ERD를 선택하지 않았습니다.";return}if(t.auth_type=="W"||t.auth_type=="N"){n.alert="접근 권한이 없는 ERD 입니다.";return}n.LoadERDfromServer(t)};n.LoadERDfromServer=function(n){var t=angular.copy(n);u.erddtail("aquery","erddtail",t).then(function(n){var t={erd:n.Response};i.close(t)})};n.cancel=function(){i.dismiss()};n.init()}])}(),function(){"use strict";app.controller("setColumnDatatypePopupController",["$scope","$modalInstance","_","params",function(n,t,i,r){n.init=function(){var t,u;n.dataTypeLength01=0;n.dataTypeLength02=0;n.col=r.col;n.dataTypeList=[{name:"--- select item ---",code:"",lengthType:0},{name:"int",code:"int",lengthType:0},{name:"tinyint",code:"tinyint",lengthType:0},{name:"smallint",code:"smallint",lengthType:0},{name:"bigint",code:"bigint",lengthType:0},{name:"varchar",code:"varchar",lengthType:1},{name:"varchar(max)",code:"varchar(max)",lengthType:0},{name:"nvarchar",code:"nvarchar",lengthType:1},{name:"nvarchar(max)",code:"nvarchar(max)",lengthType:0},{name:"char",code:"char",lengthType:1},{name:"nchar",code:"nchar",lengthType:1},{name:"text",code:"text",lengthType:0},{name:"ntext",code:"ntext",lengthType:0},{name:"date",code:"date",lengthType:0},{name:"datetime",code:"datetime",lengthType:0},{name:"decimal",code:"decimal",lengthType:2},{name:"numeric",code:"numeric",lengthType:2},{name:"bit",code:"bit",lengthType:0},{name:"datetime2",code:"datetime2",lengthType:1},{name:"datetimeoffset",code:"datetimeoffset",lengthType:1},{name:"float",code:"float",lengthType:0},{name:"binary",code:"binary",lengthType:1},{name:"binary(max)",code:"binary(max)",lengthType:0},{name:"money",code:"money",lengthType:0},{name:"real",code:"real",lengthType:0},{name:"smallmoney",code:"smallmoney",lengthType:0},{name:"variant",code:"variant",lengthType:0},{name:"time",code:"time",lengthType:1},{name:"timestamp",code:"timestamp",lengthType:0},{name:"uniqueidentifier",code:"uniqueidentifier",lengthType:0},{name:"varbinary",code:"varbinary",lengthType:1},{name:"xml",code:"xml",lengthType:0},];n.selectedDataTypeItem=i.findWhere(n.dataTypeList,{code:n.col.type});n.selectedDataTypeItem==undefined&&(t=n.col.type.split("("),t.length==2&&(n.selectedDataTypeItem=i.findWhere(n.dataTypeList,{code:t[0]}),t[1]=t[1].replace(")",""),u=t[1].split(","),n.dataTypeLength01=u[0],u.length==2&&(n.dataTypeLength02=u[1])));n.information=n.col.column_name+" 컬럼의 데이터 타입을 설정하세요."};n.selectionChanged=function(){var t=n.selectedDataTypeItem.code;t=="decimal"||t=="numeric"?(n.dataTypeLength01=18,n.dataTypeLength02=0):t=="binary"||t=="varbinary"||t=="varchar"||t=="nvarchar"?(n.dataTypeLength01=50,n.dataTypeLength02=0):t=="char"||t=="nchar"?(n.dataTypeLength01=10,n.dataTypeLength02=0):(t=="time"||t=="datetime2"||t=="datetimeoffset")&&(n.dataTypeLength01=7,n.dataTypeLength02=0)};n.ok=function(){if(n.selectedDataTypeItem!=null&&n.selectedDataTypeItem.code!=""){var i=n.selectedDataTypeItem.code;n.selectedDataTypeItem.lengthType==1?i=i+"("+n.dataTypeLength01+")":n.selectedDataTypeItem.lengthType==2&&(i=i+"("+n.dataTypeLength01+", "+n.dataTypeLength02+")");n.col.type=i}t.close(n.col)};n.cancel=function(){t.dismiss(n.col)};n.init()}])}(),function(){"use strict";app.controller("setErdInformationPopupController",["$scope","$modal","$modalInstance","$sce","_","alertServices","commonResourceServices","utilService","securityService","settings","params",function(n,t,i,r,u,f,e,o,s,h,c){n.init=function(){if(n.lang=h.lang,n.information=n.lang.C00520,n.validationMessage="",n.popupTitle=c.popupTitle,n.erd_guid=c.erd_guid,(n.erd_guid===undefined||n.erd_guid==="")&&(n.erd_guid=o.guid()),n.erd_saved=c.erd_saved,n.db_type=c.db_type,n.oldDBType=c.db_type,n.erd_name=c.erd_name,n.user_key=c.user_key,n.canvasWidth=c.canvasWidth,n.canvasHeight=c.canvasHeight,n.database_info_list=c.database_info_list,n.database_info_list_old=angular.copy(c.database_info_list),n.allTableList=c.allTableList,u.each(n.database_info_list,function(n){n.database_guid===""&&(n.database_guid=o.guid())}),n.dbTypeList=[{name:"--- select DB type ---",code:""},{name:"ORACLE",code:"ORACLE"},{name:"MySQL",code:"MySQL"},{name:"MSSQL",code:"MSSQL"},{name:"MariaDB",code:"MariaDB"},{name:"PostgreSQL",code:"PostgreSQL"},],n.selectedDBTypeItem="",n.selectedDBTypeItem=n.db_type!=""?u.findWhere(n.dbTypeList,{code:n.db_type}):n.dbTypeList[0],n.alert=r.trustAsHtml(""),n.user_key==0){var t=n.lang.C00540;n.alert=r.trustAsHtml(t)}n.maxZIndex=100010;n.updatenoDataBaseTableCount()};n.updatenoDataBaseTableCount=function(){n.noDataBaseTableCount=0;u.each(n.allTableList,function(t){(t.database_guid===undefined||t.database_guid==="")&&n.noDataBaseTableCount++})};n.showColorPicker=function(){var t=$(".color-picker-extra-large");t.css("z-index",n.maxZIndex++)};n.addDataBase=function(){var t={database_guid:"",database_name:"",database_logical_name:"",database_comment:"",database_table_header_color:"#5EAEC9",database_order:1,is_show_database_table:!0,is_show_database_name_in_table:!1,is_default_database:!1};t.database_guid=o.guid();t.database_order=n.database_info_list.length+1;t.table_list=[];n.database_info_list.push(t)};n.deleteDataBase=function(i,r){if(r.table_list.length>0){f.alert("Alert","해당 데이터베이스에 테이블이 존재합니다.<br/>테이블을 삭제하거나 다른 데이터베이스로 이동 후<br/>다시 시도해주세요.");return}var e=t.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:r.database_name+" 데이터베이스를 삭제 하시겠습니까?",okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});e.result.then(function(){n.database_info_list=u.without(n.database_info_list,u.findWhere(n.database_info_list,{database_guid:r.database_guid}));n.updateDataBaseOrder()},function(){})};n.updateDataBaseOrder=function(){var t=1;u.each(n.database_info_list,function(n){n.database_order=t++})};n.setTableInDataBase=function(i){var r=t.open({templateUrl:"/templates/app/aquery/set-table-In-database-popup.html",controller:"setTableInDatabasePopupController",resolve:{params:function(){return{information:i.database_name+" 데이터베이스의 테이블을 선택하세요.<br/>테이블명(데이터베이스명)",db:i,allTableList:n.allTableList,database_info_list:n.database_info_list}}}});r.result.then(function(t){t.db.table_list=[];u.each(t.allTableList,function(i){var r=u.where(n.allTableList,{table_guid:i.table_guid});u.each(r,function(n){i.is_selected===!0?n.database_guid=t.db.database_guid:i.is_selected===!1&&n.database_guid==t.db.database_guid&&(n.database_guid="")})});u.each(n.database_info_list,function(n){n.table_list=[]});n.noDataBaseTableCount=0;u.each(n.allTableList,function(t){if(t.database_guid===undefined||t.database_guid==="")n.noDataBaseTableCount++;else{var i=u.where(n.database_info_list,{database_guid:t.database_guid});i.length>0&&i[0].table_list.push({table_guid:t.table_guid,table_name:t.table_name})}})},function(){})};n.ok=function(){var t,r;if(n.validationMessage="",n.selectedDBTypeItem.code===""){n.validationMessage=n.lang.C00560;return}if(n.erd_name===undefined||n.erd_name===""){n.validationMessage="ERD 이름이 입력되지 않았습니다.";return}if(n.database_info_list.length==0){n.validationMessage="하나 이상의 데이터베이스 설정이 필요합니다.";return}if(n.noDataBaseTableCount>0){n.validationMessage="데이터베이스에 속하지 않은 테이블이 있습니다.";return}if(t=0,u.each(n.database_info_list,function(n){(n.database_name===undefined||n.database_name==="")&&t++}),t>0){n.validationMessage="데이터베이스 이름이 입력되지 않았습니다.";return}r={erd_guid:n.erd_guid,db_type:n.selectedDBTypeItem.code,erd_name:n.erd_name,canvasWidth:n.canvasWidth,canvasHeight:n.canvasHeight,database_info_list:n.database_info_list,allTableList:n.allTableList};n.oldDBType!=n.selectedDBTypeItem.code&&n.$root.$broadcast("updateDBType",n.selectedDBTypeItem.code);i.close(r)};n.cancel=function(){i.dismiss()};n.init()}])}(),function(){"use strict";app.controller("setIndexPopupController",["$scope","$modal","$modalInstance","$timeout","$sce","_","aqueryResourceService","utilService","securityService","alertServices","params",function(n,t,i,r,u,f,e,o,s,h,c){n.init=function(){n.title=c.title;n.information=u.trustAsHtml("하나의 인덱스로 설정할 컬럼들을 Index cart에 Drag&Drop 한 후에<br/>주황색 Add Index 버튼을 클릭하면 Index가 만들어집니다.");n.table=angular.copy(c.table);n.db_type=c.db_type;n.view_attributes_info=c.view_attributes_info;n.selectedIndexList=[];n.table.index_list===undefined&&(n.table.index_list=[]);n.indexBoxHeightDefault=140;n.indexBoxHeight=n.indexBoxHeightDefault;n.completedIndexHeight=84;n.isInitDropDiv=!1;f.each(n.table.column_list,function(n){n.isShow=!0})};n.columnLoaded=function(t){f.each(t.column_list,function(t){n.setColumnDrag(t.column_guid)});$('[data-toggle="tooltip"]').tooltip()};n.maxZIndex=11e4;n.setColumnDrag=function(t){var i=$("#"+t+"forIndex");i.draggable({cursor:"move",drag:function(){i.addClass("column-drag");i.next().addClass("column-drag");i.css("z-index",n.maxZIndex++)},stop:function(){n.snapToStart($(this))}})};n.snapToStart=function(t){t.animate({top:0,left:0},{duration:1e3,easing:"easeOutBack",progress:function(){},complete:function(){n.updateUIForVisibleHidden()}})};n.initDropDiv=function(){var t=$("#drop-index-box");t.droppable({over:function(){t.addClass("status-droppable")},out:function(){t.removeClass("status-droppable")},drop:function(i,r){t.removeClass("status-droppable");n.dropIndexColomn(i,r)}})};n.dropIndexColomn=function(t,i){var e=i.draggable[0].id,u,o;e=e.replace("forIndex","");u=f.findWhere(n.table.column_list,{column_guid:e});o=f.findWhere(n.selectedIndexList,{column_guid:u.column_guid});o===undefined&&r(function(){n.selectedIndexList.push(angular.copy(u));u.isShow=!1;var t=(n.selectedIndexList.length+2)*28;t>n.indexBoxHeight&&(n.indexBoxHeight=t)},100)};n.updateUIForVisibleHidden=function(){f.each(n.table.column_list,function(n){n.isShow===!1?$("#"+n.column_guid+"forIndex").next().addClass("column-drag"):$("#"+n.column_guid+"forIndex").next().removeClass("column-drag")})};n.deleteColumn=function(t,i){var r=f.findWhere(n.selectedIndexList,{column_guid:i.column_guid}),u;n.selectedIndexList=f.without(n.selectedIndexList,f.findWhere(n.selectedIndexList,{column_guid:r.column_guid}));u=f.findWhere(n.table.column_list,{column_guid:r.column_guid});u.isShow=!0};n.addIndex=function(){for(var e,i,o=n.table.table_name+"_Index_",r="",t="",u=1;u<100;u++)if(r=o+u,e=f.findWhere(n.table.index_list,{index_name:r}),e===undefined)break;i={index_name:r,index_column_comment:"",index_column_list:[]};f.each(n.selectedIndexList,function(n){i.index_column_list.push({column_guid:n.column_guid,column_name:n.column_name});t=t+n.column_name+", "});t=t+" ";t=t.replace(",  ","");i.index_column_comment=t;n.table.index_list.push(i);n.selectedIndexList=[];n.indexBoxHeight=n.indexBoxHeightDefault;f.each(n.table.column_list,function(n){n.isShow=!0});n.updateUIForVisibleHidden()};n.deleteIndex=function(t,i){var r=f.findWhere(n.table.index_list,{index_name:i.index_name});n.table.index_list=f.without(n.table.index_list,f.findWhere(n.table.index_list,{index_name:r.index_name}))};n.ok=function(){var i=!1,r="",u;if(f.each(n.table.index_list,function(t){var u=f.where(n.table.index_list,{index_name:t.index_name});u!==undefined&&u.length>1&&(i=!0,r=t.index_name)}),i===!0){h.alert("Alert","중복된 인덱스 이름이 존재합니다.("+r+")");return}if(n.selectedIndexList.length===0){n.closepoup();return}u=t.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:"index cart에 등록한 컬럼이 인덱스로 추가되지 않았습니다.<br/>index cart에 등록한 컬럼을 무시하고 인덱스 설정 작업을<br/>마무리 하시겠습니까?",okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});u.result.then(function(){n.closepoup()},function(){})};n.closepoup=function(){var t={index_list:n.table.index_list};i.close(t)};n.cancel=function(){i.dismiss()};n.init()}])}(),function(){"use strict";app.controller("setLogicalNameAndCommentPopupController",["$scope","$modalInstance","$sce","_","commonResourceServices","utilService","securityService","settings","params",function(n,t,i,r,u,f,e,o,s){n.init=function(){n.lang=o.lang;n.validationMessage="";n.popupTitle=s.popupTitle;n.table_list=s.table_list;n.sourceTypeList=[{name:"--- Select Source ---",code:""},{name:"주석(Commant)",code:"c"},{name:"논리명(logical Name)",code:"l"},];n.selectedSourceType=n.sourceTypeList[0];n.targetTypeList=[{name:"--- Select Target ---",code:""},{name:"주석(Commant)",code:"c"},{name:"논리명(logical Name)",code:"l"},];n.selectedTargetType=n.targetTypeList[0];n.controlTypeList=[{name:"--- Select Control ---",code:""},{name:"이동",code:"m"},{name:"복사",code:"cp"},{name:"교환",code:"ch"},{name:"삭제",code:"d"},];n.selectedControlType=n.controlTypeList[0]};n.ok=function(){if(n.validationMessage="",n.myForm.input.$valid==!1){n.validationMessage=n.lang.C00550;return}if(n.selectedDBTypeItem.code==""){n.validationMessage=n.lang.C00560;return}n.information="";t.close(result)};n.cancel=function(){t.dismiss()};n.init()}])}(),function(){"use strict";app.controller("setRequestErdAuthPopupController",["$scope","$modalInstance","_","aqueryResourceService","utilService","securityService","alertServices","clipboard","params",function(n,t,i,r,u,f,e,o,s){n.init=function(){n.information1="현재 ERD 관련 권한 요청 목록입니다..";n.information2="모든 ERD 관련 권한 요청 목록입니다..";n.erdList=s.erdList;n.nowErdList=[];n.etcErdList=[];n.erd_guid=s.erd_guid;n.user_name=s.user_name;n.erd_saved=s.erd_saved;i.each(n.erdList,function(t){t.user_name=f.decrypt(t.user_name);t.user_email=f.decrypt(t.user_email);t.update_date=t.update_date.substring(0,10);t.reg_date=t.update_date.substring(0,10);t.auth_type=="W"||t.auth_type=="N"?(t.isEdit=!1,t.isRead=!1):t.auth_type=="E"?(t.isEdit=!0,t.isRead=!0):t.auth_type=="R"&&(t.isEdit=!1,t.isRead=!0);t.erd_guid==n.erd_guid?n.nowErdList.push(t):n.etcErdList.push(t)});n.erdListBackup=angular.copy(n.erdList)};n.loadButton=function(){if(n.erd_saved==!1){var t=$("#erd-code-copy-button");t.removeClass("btn-warning");t.addClass("btn-default");t.addClass("disabled")}};n.copyERDCode=function(){if(n.erd_saved==!1){e.alert("Alert","ERD가 서버에 저장되지 않았습니다.<br/>ERD를 서버에 저장 후 공유 할 수 있습니다.");return}o.copyText(n.erd_guid)};n.showHelpAboutERDCode=function(){var t="ERD 코드를 다른 회원에게 전달 하면 다른 회원이<br />상단 도구모음 [ERD] - [공유 요청] 메뉴를 선택해서<br />";t=t+n.user_name+"님에게 현재 ERD에 대한 접근 권한 요청을 할 수 있습니다.<br /><br />";t=t+"접근 요청만으로는 ERD에 접근할 수 없으며 현재 팝업에서<br />"+n.user_name+"님이 권한 설정을 하면 ERD에 접근이 가능해집니다.<br />";t=t+"Edit 권한은 신중하게 설정하는 것을 추천드립니다.";e.alert("Alert",t)};n.changedEdit=function(n){n.isEdit==!0&&(n.isRead=!0)};n.changedRead=function(n){n.isRead==!1&&(n.isEdit=!1)};n.ok=function(){var r=[],u;i.each(n.erdList,function(n){n.isEdit==!0?n.auth_type="E":n.isEdit==!1&&n.isRead==!0?n.auth_type="R":n.isEdit==!1&&n.isRead==!1&&(n.auth_type="N")});i.each(n.erdList,function(t){var u=i.where(n.erdListBackup,{join_key:t.join_key});u.length==1&&t.auth_type!=u[0].auth_type&&r.push(t)});r.length==0?(u={updateList:r},t.close(u)):n.updateErdAuth(r)};n.updateErdAuth=function(n){var u=angular.copy(n);i.each(u,function(n){n.user_name="";n.user_email=""});r.updateerdauth("aquery","updateerdauth",u).then(function(){var i={updateList:n};t.close(i)})};n.cancel=function(){t.dismiss()};n.init()}])}(),function(){"use strict";app.controller("setTableInDatabasePopupController",["$scope","$modal","$modalInstance","_","aqueryResourceService","utilService","securityService","$sce","alertServices","settings","params",function(n,t,i,r,u,f,e,o,s,h,c){n.init=function(){n.information=o.trustAsHtml(c.information);n.db=c.db;n.allTableList=[];var t=[],i=[],u=[];r.each(n.db.table_list,function(i){t.push({table_guid:i.table_guid,table_name:i.table_name,database_guid:i.database_guid,database_name:n.db.database_name,is_selected:!0})});t=r.sortBy(t,function(n){return n.table_name});r.each(c.allTableList,function(n){(n.database_guid===undefined||n.database_guid==="")&&i.push({table_guid:n.table_guid,table_name:n.table_name,database_guid:"",database_name:"No DataBase",is_selected:!1})});i=r.sortBy(i,function(n){return n.table_name});r.each(c.allTableList,function(t){if(t.database_guid!=n.db.database_guid&&t.database_guid!=undefined&&t.database_guid!=""){var i="No DataBase",f=r.where(c.database_info_list,{database_guid:t.database_guid});f.length>0&&(i=f[0].database_name);u.push({table_guid:t.table_guid,table_name:t.table_name,database_guid:t.database_guid,database_name:i,is_selected:!1})}});u=r.sortBy(u,function(n){return n.table_name});r.each(t,function(t){n.allTableList.push(t)});r.each(i,function(t){n.allTableList.push(t)});r.each(u,function(t){n.allTableList.push(t)})};n.ok=function(){var t={allTableList:n.allTableList,db:n.db};i.close(t)};n.cancel=function(){i.dismiss()};n.init()}])}(),function(){"use strict";app.controller("setTestDataCountPopupController",["$scope","$modalInstance","params",function(n,t){n.init=function(){n.popupTitle="Set Test Data Count";n.information="생성할 테스트 데이터 Row 수를 입력하세요.";n.test_data_count=1e3};n.ok=function(){var i={test_data_count:n.test_data_count};t.close(i)};n.cancel=function(){t.dismiss()};n.init()}])}(),function(){"use strict";app.controller("shareErdLoginPopupController",["$scope","$modalInstance","$location","_","aqueryResourceService","utilService","securityService","params",function(n,t,i,r,u,f,e,o){n.init=function(){n.popupTitle="Load Readonly ERD";n.information="비밀번호를 입력하세요.";n.readonly_guid=o.readonly_guid;n.readonly_url_password="";n.validationMessage=""};n.readonlyUrlLogin=function(){};n.ok=function(){if(n.validationMessage="",n.readonly_url_password==""){n.validationMessage="비밀번호를 입력하지 않았습니다.";return}var i={readonly_url:n.readonly_guid,readonly_url_password:e.encrypt(n.readonly_url_password)};u.readonlyUrlLogin("aquery","readonlyurllogin",i).then(function(n){var i={erd:n.Response};t.close(i)})};n.cancel=function(){t.dismiss()};n.init()}])}(),function(){"use strict";app.controller("shareErdPopupController",["$scope","$modalInstance","$location","$sce","_","aqueryResourceService","utilService","securityService","clipboard","params",function(n,t,i,r,u,f,e,o,s,h){n.init=function(){n.information=r.trustAsHtml("비회원도 접근 가능한 읽기 전용 바로 가기 URL을 생성할 수 있습니다.");n.erd_info=h.erd_info};n.newLink=function(){var t=angular.copy(n.erd_info);f.readonlyurl("aquery","readonlyurl",t).then(function(t){n.erd_info.readonly_url=e.getBaseUrl()+t.Response.readonly_url;n.erd_info.readonly_url_password=o.decrypt(t.Response.readonly_url_password)})};n.linkCopy=function(){s.copyText("URL : "+n.erd_info.readonly_url+"&\nPassword : "+n.erd_info.readonly_url_password)};n.ok=function(){t.close({erd:""})};n.cancel=function(){t.dismiss()};n.init()}])}(),function(){"use strict";app.controller("viewAttributesSettingPopupController",["$scope","$modalInstance","_","alertServices","params",function(n,t,i,r,u){n.init=function(){t.view_attributes_info_backup=angular.copy(u.view_attributes_info);t.auto_sql_option_backup=angular.copy(u.auto_sql_option);n.view_attributes_info=u.view_attributes_info;n.auto_sql_option=u.auto_sql_option;n.information1="테이블에서 화면에 보여질 항목을 선택하세요.";n.information2="ERD 표현 방식을 선택하세요.";n.information3="자동 생성 SQL 옵션을 선택하세요.";n.isAllTableViewOption=n.CheckAllSelectTableViewOption()};n.clickAttribute=function(){n.$root.$broadcast("updateViewAttributes","")};n.fitWidth=function(){};n.checkAllTableViewOption=function(){var t=n.CheckAllSelectTableViewOption();n.isAllTableViewOption=t==!0?!1:!0;n.SetAllSelectTableViewOption(n.isAllTableViewOption);n.$root.$broadcast("updateViewAttributes","")};n.CheckAllSelectTableViewOption=function(){return n.view_attributes_info.isViewTableName==!0&&n.view_attributes_info.isViewTableLogicalName==!0&&n.view_attributes_info.isViewTableComment==!0&&n.view_attributes_info.isViewColumnOrder==!0&&n.view_attributes_info.isViewPK==!0&&n.view_attributes_info.isViewAI==!0&&n.view_attributes_info.isViewFK==!0&&n.view_attributes_info.isViewUQ==!0&&n.view_attributes_info.isViewNull==!0&&n.view_attributes_info.isViewLogicalName==!0&&n.view_attributes_info.isViewName==!0&&n.view_attributes_info.isViewType==!0&&n.view_attributes_info.isViewDefaultValue==!0&&n.view_attributes_info.isViewComment==!0?!0:!1};n.SetAllSelectTableViewOption=function(t){n.view_attributes_info.isViewTableName=t;n.view_attributes_info.isViewTableLogicalName=t;n.view_attributes_info.isViewTableComment=t;n.view_attributes_info.isViewColumnOrder=t;n.view_attributes_info.isViewPK=t;n.view_attributes_info.isViewAI=t;n.view_attributes_info.isViewFK=t;n.view_attributes_info.isViewUQ=t;n.view_attributes_info.isViewNull=t;n.view_attributes_info.isViewLogicalName=t;n.view_attributes_info.isViewName=t;n.view_attributes_info.isViewType=t;n.view_attributes_info.isViewDefaultValue=t;n.view_attributes_info.isViewComment=t;t==!1&&(n.view_attributes_info.isViewTableName=!0,n.view_attributes_info.isViewName=!0,n.view_attributes_info.nameWidth<155&&(n.view_attributes_info.nameWidth=155))};n.ok=function(){var i="",u;n.view_attributes_info.isViewTableName==!1&&n.view_attributes_info.isViewTableLogicalName==!1&&(i=i+"Table physical name, Table logical name 중에 한가지 이상 선택해야 합니다.",n.view_attributes_info.isViewTableName=!0);n.view_attributes_info.isViewLogicalName==!1&&n.view_attributes_info.isViewName==!1&&(i!=""&&(i=i+"<br/>"),i=i+"Column comment, Column logical name 중에 한가지 이상 선택해야 합니다.",n.view_attributes_info.isViewName=!0);i!=""&&r.alert("Alert",i);u={view_attributes_info:n.view_attributes_info,auto_sql_option:n.auto_sql_option};t.close(u)};n.cancel=function(){var n={view_attributes_info:t.view_attributes_info_backup,auto_sql_option:t.auto_sql_option_backup};t.dismiss(n)};n.init()}])}(),function(){"use strict";app.directive("aqueryPanel",["$rootScope","$window","$modal","$timeout","$sce","_","utilService","alertServices","aqueryResourceService","dataTypeService","dataCheckService","saveFileService","tableSizeHelper","aqueryService","connectSvgLineServices","settings",function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){return{restrict:"E",scope:{data:"=?",type:"=",genrecd:"=?"},templateUrl:"/templates/app/aquery/aquery-panel-template.html",link:function(w){w.workStartTime="";w.init=function(){w.osBrowser=e.checkOSBrowser();w.$watchGroup(["data.view_attributes_info.isViewTableName","data.view_attributes_info.isViewTableLogicalName","data.view_attributes_info.isViewTableComment","data.view_attributes_info.isViewColumnOrder","data.view_attributes_info.isViewPK","data.view_attributes_info.isViewUQ","data.view_attributes_info.isViewAI","data.view_attributes_info.isViewFK","data.view_attributes_info.isViewNull","data.view_attributes_info.isViewLogicalName","data.view_attributes_info.isViewName","data.view_attributes_info.isViewType","data.view_attributes_info.isViewDefaultValue","data.view_attributes_info.isViewComment","data.view_attributes_info.isViewButton","data.view_attributes_info.logicalNameWidth","data.view_attributes_info.nameWidth","data.view_attributes_info.typeWidth","data.view_attributes_info.defaultValueWidth","data.view_attributes_info.commentWidth","data.view_attributes_info.isCurveConnectionLine"],function(n,t,i){i.updateAllTableWidth();i.redrawAllLine()});w.$watchGroup(["data.view_attributes_info.isShowOnlyImportantColumnsForERD"],function(n,t,i){i.updateShowOnlyImportantColumnsForERD(i.data.view_attributes_info.isShowOnlyImportantColumnsForERD);i.redrawAllLine()});w.$on("updateViewAttributes",function(){n.$broadcast("autoTableAlign","");w.updateAllTableWidth();w.redrawAllLine()});w.$on("applyPositionToRealTable",function(){w.updateAllTableWidth();w.redrawAllLine()});w.$on("updateSource",function(t,i){w.deleteAllColumnPanel();w.updateAllTableWidth();i==!0?(n.loadingCount++,SpinnerForLoading.instance.initCanvasLoader(),r(function(){n.loadingCount>0&&(n.loadingCount--,SpinnerForLoading.instance.removeCanvasLoader())},6e4)):r(function(){v.checkCanvasSizeForAllObject(w.data)},1e3);r(function(){w.checkLoadLastColumnDiv();w.updateNameDicListForTable("","")},100)});w.$on("updateDBType",function(n,t){w.updateDataType(t)});w.$on("allTableCreateSql",function(){w.allTableCreateSql()});w.$on("updateAllColumnData",function(t,i){n.loadingCount++;SpinnerForLoading.instance.initCanvasLoader();r(function(){w.allColumnList=i},100)});w.lang=p.lang;w.$on("updateMultiLanguage",function(){w.lang==undefined&&(w.lang=p.lang)});w.$on("isCanvasMove",function(n,t){w.isCanvasMove=t});w.$on("changedSelectRectangleArea",function(n,t){t.isStop==!1?$("#select-rect-area-panel").css("z-index",2147483647):$("#select-rect-area-panel").css("z-index",0);w.multiSelectItem(t)});w.$on("cancelSelectFKLine",function(){y.cancelSelectFKLine()});w.table_column_drag_type="";w.multiSelectItemList=[];w.dataTypeList=[];w.dataTypeDicList=[];w.logicalNameDicList=[];w.physicalNameDicList=[];w.unableWordInColumnName=[];w.unableWordInColumnName.push("index")};w.isCanvasMove=!0;w.isMouseOverTable=!1;w.dragBackground=function(){if(w.osBrowser.os.name!="Android"&&w.osBrowser.os.name!="iOS"){var t=0,i=0,n=!1;$("#rootdiv").on("mousedown",function(r){w.isCanvasMove!==!1&&w.isMouseOverTable!==!0&&(n=!0,t=r.pageY,i=r.pageX)});$("#rootdiv").on("mousemove",function(r){n===!0&&($("html").css("cursor","move"),$(window).scrollTop($(window).scrollTop()+(t-r.pageY)),$(window).scrollLeft($(window).scrollLeft()+(i-r.pageX)))});$("#rootdiv").on("mouseup",function(){n=!1;$("html").css("cursor","auto")});$(window).on("mouseup",function(){n=!1;$("html").css("cursor","auto")})}};w.updateAllTableWidth=function(){f.each(w.data.table_list,function(n){n.tableNameWidth=a.getTableNameWidth(w.data,n)})};w.updateShowOnlyImportantColumnsForERD=function(t){var i=w.getReferenceColoumnGUIDList();f.each(w.data.table_list,function(n){n.show_only_important_columns_for_table=t;f.each(n.column_list,function(t){w.setColumnShow(t,n.show_only_important_columns_for_table,i)})});n.$broadcast("autoTableAlign","")};w.updateShowOnlyImportantColumnsForTable=function(t,i){i.show_only_important_columns_for_table=!i.show_only_important_columns_for_table;var r=w.getReferenceColoumnGUIDList();f.each(i.column_list,function(n){w.setColumnShow(n,i.show_only_important_columns_for_table,r)});n.$broadcast("autoTableAlign","")};w.setColumnShow=function(n,t,i){if(t==!1)n.show_column=!0;else{var r=f.findWhere(i,{column_guid:n.column_guid});n.show_column=r!=undefined?!0:n.is_primary_key==!0||n.is_foreign_key==!0?!0:!1}};w.getReferenceColoumnGUIDList=function(){var n=this;return n.referenceColoumnGUIDList=[],f.each(w.data.table_list,function(t){t.join_list!=undefined&&f.each(t.join_list,function(t){n.referenceColoumnGUIDList.push({column_guid:t.references_key_column_guid})})}),n.referenceColoumnGUIDList};w.checkLoadLastColumnDiv=function(){var t=!0,i=w.getLastColumn("table"),u=w.getLastColumn("memo"),f=w.getLastColumn("word"),e=w.getLastColumn("name"),o=w.getLastColumn("type");i!=undefined&&$("#"+i.column_guid).length!=1&&(t=!1);u!=undefined&&$("#"+u.table_guid).length!=1&&(t=!1);f!=undefined&&$("#"+f.column_guid).length!=1&&(t=!1);e!=undefined&&$("#"+e.column_guid).length!=1&&(t=!1);o!=undefined&&$("#"+o.column_guid).length!=1&&(t=!1);console.log("isLoadCompleted : "+t);t==!0?(console.log("isLoadCompleted : "+t),r(function(){w.data.isFirstLoad==!0&&($(".dic-scroll").each(function(){$(this).scrollTop($(this)[0].scrollHeight)}),w.data.isFirstLoad=!1);w.addJoinLineFirstTime();w.setAllElementDrag();w.setAllColorPickerZIndex();w.updateTypeDicList("","");w.updateNameDicListForTable("","");w.checkWordErrFullScan();v.checkCanvasSizeForAllObject(w.data);n.loadingCount>0&&(console.log("SpinnerForLoading.instance.removeCanvasLoader()"),n.loadingCount--,SpinnerForLoading.instance.removeCanvasLoader())},100)):r(function(){w.checkLoadLastColumnDiv()},100)};w.setAllElementDrag=function(){f.each(w.data.table_list,function(n){w.setTableDrag(n);f.each(n.column_list,function(n){w.setColumnDrag(n.column_guid)})});f.each(w.data.memo_list,function(n){w.setMemoDrag(n)});f.each(w.data.type_dic_list,function(n){w.setTypeDicDrag(n);f.each(n.column_list,function(n){w.setTypeDrag(n.column_guid)})});f.each(w.data.word_dic_list,function(n){w.setWordDicDrag(n);f.each(n.column_list,function(n){w.setWordDrag(n.column_guid)})});f.each(w.data.name_dic_list,function(n){w.setNameDicDrag(n);f.each(n.column_list,function(n){w.setNameDrag(n.column_guid)})});w.initTableColumnDivSplitter();w.initDicColumnDivSplitter()};w.setTableDrag=function(t){var i=$("#"+t.table_guid),u;if(w.checkInitDrag(i)!=!0){i.on("mouseover",function(){w.isMouseOverTable=!0;w.setZIndexMax(i)});i.on("mouseleave",function(){w.isMouseOverTable=!1});i.draggable({cursor:"move",handle:".table-drag-handle",containment:$("#rootdiv"),start:function(n,t){var i=$("#"+t.helper.context.id);w.setZIndexMax(i);w.isDragging=!0},drag:function(n,t){var i=v.getElementDataByGUID(t.helper.context.id,w.data);w.redrawLineFromColumnList(i.column_list);w.multiItemDrag(t.helper.context.id)},stop:function(t,u){var o=$("#"+u.helper.context.id),f=v.getElementDataByGUID(u.helper.context.id,w.data),s=e.getElementPosition($("#aquery-top-control-panel")[0]),h;o.css("width","auto");o.css("height","auto");h=e.getElementPosition(o[0]);f.position_x=h.left;f.position_y=h.top;f.position_x<s.right&&f.position_y<s.bottom&&r(function(){i.animate({top:s.bottom+20+"px"},$.extend(!0,{},{progress:function(){w.redrawLineFromColumnList(f.column_list)}}))},100);v.checkCanvasSizeForAllObject(w.data);w.resetMultiSelectItemList();w.isDragging=!1;n.$broadcast("autoTableAlign","")}});u=$("#"+t.table_guid+"_header");u.droppable({over:function(n,t){var i=$("#"+t.helper.context.id);i.addClass("status-droppable")},out:function(n,t){var i=$("#"+t.helper.context.id);i.removeClass("status-droppable")},drop:function(n,t){var i=$("#"+t.helper.context.id);i.removeClass("status-droppable");w.tableJoin(n,t)}})}};w.setColumnDrag=function(t){var i=$("#"+t);w.checkInitDrag(i)!=!0&&(i.draggable({cursor:"move",handle:".col-drag-handle",start:function(n,t){w.setColumnZIndexMax(t.helper.context.id,"table");w.isDragging=!0},drag:function(n,t){var i=$("#"+t.helper.context.id);i.addClass("column-drag");i.next().addClass("column-drag")},stop:function(t,i){var r=$("#"+i.helper.context.id);r.css("width","auto");r.css("height","auto");w.snapToStart($(this),i.helper.context.id);r.removeClass("column-drag");r.next().removeClass("column-drag");w.isDragging=!1;n.$broadcast("autoTableAlign","")}}),i.droppable({hoverClass:"status-droppable",over:function(){},out:function(){},drop:function(n,t){w.tableJoin(n,t)}}))};w.setColumnZIndexMax=function(n,t){var r,i,u;if(n!=undefined&&n!=""){if(r=$("#"+n),i=w.getParentOrDragInfo(n,n,t),i.sourceTable==undefined){console.log("Not found table : "+n+", "+t);return}u=$("#"+i.sourceTable.table_guid);w.setZIndexMax(u);w.setZIndexMax(r)}};w.setColumnDragWithTimeout=function(n,t){r(function(){w.setColumnDrag(n)},t)};w.snapToStart=function(n,t){n.animate({top:0,left:0},{duration:400,easing:"easeOutBack",progress:function(){w.redrawLineFromColomn(t)}})};w.setTableColumnDragType=function(n){w.table_column_drag_type=n};w.setMemoDrag=function(t){var i=$("#"+t.table_guid);if(w.checkInitDrag(i)!=!0){i.on("mouseover",function(){w.isMouseOverTable=!0;w.setZIndexMax(i)});i.on("mouseleave",function(){w.isMouseOverTable=!1});i.resizable({minWidth:150,minHeight:60,stop:function(n,t){var i=v.getElementDataByGUID(t.helper.context.id,w.data),u=$("#"+t.helper.context.id),r=e.getElementPosition(u[0]);i.width=r.width;i.height=r.height;v.checkCanvasSizeForAllObject(w.data)}});i.draggable({cursor:"move",handle:".table-drag-handle",containment:$("#rootdiv"),start:function(n,t){w.setZIndexMax(t.helper);w.isDragging=!0},drag:function(n,t){w.multiItemDrag(t.helper.context.id)},stop:function(t,i){var o=$("#"+i.helper.context.id),u=v.getElementDataByGUID(i.helper.context.id,w.data),f=e.getElementPosition($("#aquery-top-control-panel")[0]),s=e.getElementPosition(o[0]);u.position_x=s.left;u.position_y=s.top;u.position_x<f.right&&u.position_y<f.bottom&&r(function(){o.animate({top:f.bottom+10+"px"},$.extend(!0,{},{progress:function(){}}))},100);v.checkCanvasSizeForAllObject(w.data);w.resetMultiSelectItemList();w.isDragging=!1;n.$broadcast("autoTableAlign","")}})}};w.maxZIndex=2e3;w.isDragging=!1;w.setZIndexMax=function(n){w.isDragging!=!0&&n.css("z-index")!=w.maxZIndex-1&&n.css("z-index",w.maxZIndex++)};w.checkInitDrag=function(n){return n===undefined?!1:n.attr("initDrag")=="true"?!0:(n.attr("initDrag","true"),!1)};w.multiItemDrag=function(n){if(w.multiSelectItemList.length!==0){var t=f.where(w.multiSelectItemList,{table_guid:n});t!==undefined&&t.length!==0&&r(function(){var r=$("#"+n),i=e.getElementPosition(r[0]),u=i.left-t[0].position_x,o=i.top-t[0].position_y;f.each(w.multiSelectItemList,function(t){var i=v.getElementDataByGUID(t.table_guid,w.data),r;n!=t.table_guid&&(i.position_x=t.position_x+u,i.position_y=t.position_y+o);r=v.getElementTypeByGUID(t.table_guid,w.data);r=="table"&&w.redrawLineFromColumnList(i.column_list)})},100)}};w.resetMultiSelectItemList=function(){w.multiSelectItemList.length!==0&&(f.each(w.multiSelectItemList,function(n){var t=$("#"+n.table_guid);t.removeClass("selected_table_for_drag")}),w.multiSelectItemList=[])};w.setAllColorPickerZIndex=function(){var n=$(".color-picker-extra-large");n.on("mouseover",function(){w.isMouseOverTable=!0;w.setZIndexMax(n)});n.on("mouseleave",function(){w.isMouseOverTable=!1})};w.showColorPicker=function(){var n=$(".color-picker-extra-large");n.css("z-index",w.maxZIndex++)};w.setTypeDicDrag=function(n){var t=$("#"+n.table_guid),i=$("#"+n.table_guid+" > div > .item-list");if(w.checkInitDrag(t)!=!0){w.setMaxHeightToDicItemList(w.data.type_dic_list,t);t.on("mouseover",function(){w.isMouseOverTable=!0;w.setZIndexMax(t)});t.on("mouseleave",function(){w.isMouseOverTable=!1});i.resizable({handles:"n, s",minWidth:150,minHeight:60,start:function(n,t){var i=$("#"+t.helper.context.offsetParent.id);w.setMaxHeightToDicItemList(w.data.type_dic_list,i)},resize:function(n,t){var i=$("#"+t.helper.context.offsetParent.id),r=$("#"+t.helper.context.offsetParent.id+" > div > .item-list");w.setHeightToDicItemList(w.data.type_dic_list,i,r)},stop:function(n,t){var i=$("#"+t.helper.context.offsetParent.id),r=$("#"+t.helper.context.offsetParent.id+" > div > .item-list");w.setHeightToDicItemList(w.data.type_dic_list,i,r);v.checkCanvasSizeForAllObject(w.data)}});t.draggable({cursor:"move",handle:".table-drag-handle",containment:$("#rootdiv"),start:function(n,t){var i=$("#"+t.helper.context.id);w.setZIndexMax(i);w.isDragging=!0},drag:function(n,t){w.multiItemDrag(t.helper.context.id)},stop:function(n,t){var i=$("#"+t.helper.context.id),u=v.getElementDataByGUID(t.helper.context.id,w.data),f=e.getElementPosition($("#aquery-top-control-panel")[0]),o=e.getElementPosition(i[0]);i.css("width","auto");i.css("height","auto");u.position_x=o.left;u.position_y=o.top;u.position_x<f.right&&u.position_y<f.bottom&&r(function(){i.animate({top:f.bottom+10+"px"},$.extend(!0,{},{progress:function(){}}))},100);v.checkCanvasSizeForAllObject(w.data);w.resetMultiSelectItemList();w.isDragging=!1}})}};w.setTypeDrag=function(n){var t=$("#"+n);w.checkInitDrag(t)!=!0&&(t.draggable({helper:"clone",scroll:"true",refreshPositions:!0,cursor:"move",handle:".col-drag-handle",start:function(n,t){w.setColumnZIndexMax(t.helper.context.id,"type");w.isDragging=!0},drag:function(n,t){var i=$("#"+t.helper.context.id);i.addClass("column-hide");i.addClass("column-drag");i.next().addClass("column-drag")},stop:function(n,t){var i=$("#"+t.helper.context.id);i.css("width","auto");i.css("height","auto");i.removeClass("column-hide");i.removeClass("column-drag");i.next().removeClass("column-drag");w.isDragging=!1}}),t.droppable({hoverClass:"status-droppable-type-dic",over:function(){},out:function(){},drop:function(n,t){var r=t.draggable[0].id,u=n.target.id,i;r!=undefined&&u!=undefined&&(i=w.getParentOrDragInfo(r,u,"type"),i.sourceTable!=undefined&&i.sourceColumn!=undefined&&i.targetTable!=undefined&&i.targetColumn!=undefined)&&(i.sourceTable.table_guid==i.targetTable.table_guid?w.changeColumnOrder(i):w.moveDicColumn(i,"type"))}}))};w.getParentOrDragInfo=function(n,t,i){var r={sourceTable:undefined,sourceColumn:undefined,targetTable:undefined,targetColumn:undefined},u=w.getTableList(i);if(u!=undefined)return f.each(u,function(i){var e=f.where(i.column_list,{column_guid:n}),u;e.length==1&&(r.sourceTable=i,r.sourceColumn=e[0]);u=f.where(i.column_list,{column_guid:t});u.length==1&&(r.targetTable=i,r.targetColumn=u[0])}),r};w.getLastColumn=function(n){var i=undefined,t=w.getTableList(n);return t==undefined||t.length==0?i:(n=="memo"?t.length>0&&(i=t[t.length-1]):f.each(t,function(n){n.column_list!=undefined&&n.column_list.length>0&&(i=n.column_list[n.column_list.length-1])}),i)};w.getTableList=function(n){var t=undefined;return n==="table"?t=w.data.table_list:n==="memo"?t=w.data.memo_list:n==="word"?t=w.data.word_dic_list:n==="name"?t=w.data.name_dic_list:n==="type"&&(t=w.data.type_dic_list),t};w.changeColumnOrder=function(n){n.sourceColumn.order=n.targetColumn.order;n.targetColumn.order=n.targetColumn.order+1;var t=n.targetColumn.order+1;f.each(n.sourceTable.column_list,function(n){n.order>=t&&(n.order=n.order+1)});n.sourceTable.column_list=f.sortBy(n.sourceTable.column_list,function(n){return n.order});w.resetOrderNumber(n.sourceTable);r(function(){},50)};w.moveDicColumn=function(n,t){n.sourceTable.column_list=f.without(n.sourceTable.column_list,f.findWhere(n.sourceTable.column_list,{column_guid:n.sourceColumn.column_guid}));n.sourceTable.column_list=f.sortBy(n.sourceTable.column_list,function(n){return n.order});w.resetOrderNumber(n.sourceTable);n.sourceColumn.order=n.targetTable.column_list.length+1;n.targetTable.column_list.push(n.sourceColumn);n.targetTable.column_list=f.sortBy(n.targetTable.column_list,function(n){return n.order});w.resetOrderNumber(n.targetTable);var i=w.getTableList(t);i!=undefined&&r(function(){w.checkNewWordDiv(n.sourceColumn.column_guid);w.setMaxHeightToDicItemListByDicData(i,n.targetTable)},100)};w.setMaxHeightToDicItemListByDicData=function(n,t){var i=$("#"+t.table_guid);w.setMaxHeightToDicItemList(n,i)};w.setMaxHeightToDicItemList=function(n,t){var u=t.attr("id"),i=f.findWhere(n,{table_guid:u});i.maxHeight=i.column_list!=undefined?i.column_list.length*28:112;r(function(){},50)};w.setHeightToDicItemList=function(n,t,i){var o=t.attr("id"),u=f.findWhere(n,{table_guid:o}),s=e.getElementPosition(i[0]);i.css("max-height",u.maxHeight);u.height=s.height;r(function(){},50)};w.initTableColumnDivSplitter=function(){$(".table-column-div-splitter").resizable({autoHide:!0,handles:"e",resize:function(n,t){w.updateTableColumnWidthBySplitterDrag(n,t)},stop:function(t,i){w.updateTableColumnWidthBySplitterDrag(t,i);n.$broadcast("autoTableAlign","")}})};w.updateTableColumnWidthBySplitterDrag=function(n,t){var u=e.getElementPosition(t.element[0]),i=t.element.attr("name");i!=""&&i!=undefined&&(w.data.view_attributes_info[i+"Width"]=u.width,r(function(){},10))};w.initDicColumnDivSplitter=function(){$(".dic-column-div-splitter").resizable({autoHide:!0,handles:"e",resize:function(n,t){w.noSort=!0;w.updateDicColumnWidthBySplitterDrag(n,t)},stop:function(n,t){w.updateDicColumnWidthBySplitterDrag(n,t)}})};w.updateDicColumnWidthBySplitterDrag=function(n,t){var o=e.getElementPosition(t.element[0]),i=t.element.attr("data-parent-guid"),u=t.element.attr("name"),f;i!=""&&i!=undefined&&u!=""&&u!=undefined&&(f=v.getElementDataByGUID(i,w.data),f!=undefined)&&(f[u+"Width"]=o.width,r(function(){},10))};w.loadedAllColumnElement=function(){r(function(){w.setShowAllColumnElementDrag()},100)};w.setShowAllColumnElementDrag=function(){var u=w.allColumnList[0],i=$("#"+u.all_column_guid),f;w.setZIndexMax(i);i.on("mouseover",function(){w.isMouseOverTable=!0;w.setZIndexMax(i)});i.on("mouseleave",function(){w.isMouseOverTable=!1});i.draggable({cursor:"move",handle:".table-drag-handle",containment:$("#rootdiv"),start:function(){w.setZIndexMax(i);w.isDragging=!0},drag:function(){},stop:function(){var n=e.getElementPosition($("#aquery-top-control-panel")[0]),t=e.getElementPosition(i[0]);i.css("width","auto");i.css("height","auto");u.position_x=t.left;u.position_y=t.top;u.position_x<n.right&&u.position_y<n.bottom&&r(function(){i.animate({top:n.bottom+10+"px"},$.extend(!0,{},{progress:function(){}}))},100);v.checkCanvasSizeForAllObject(w.data);w.isDragging=!1}});var o=e.getElementPosition(i[0]),s=t.innerWidth/2,h=s-o.width/2;r(function(){u.position_x=h},100);f=$("html, body");f.stop().animate({scrollTop:0,scrollLeft:0},"800","swing",function(){});w.initAllColumnDivSplitter();n.loadingCount--;SpinnerForLoading.instance.removeCanvasLoader()};w.sortShowAllColumn=function(n){if(w.noSort==!0){w.noSort=!1;return}var t=w.allColumnList[0];n=="column_name"||n=="column_logical_name"?t.all_column_list=f.sortBy(t.all_column_list,function(t){return t.col[n]}):(n=="table_name"||n=="table_logical_name")&&(t.all_column_list=f.sortBy(t.all_column_list,function(t){return t.table[n]}));t.orderProperty=n};w.showTableForAllColumn=function(t,i,r){n.$broadcast("searchTableForAllColumn",r.table.table_guid)};w.noSort=!1;w.initAllColumnDivSplitter=function(){$(".all-column-div-splitter").resizable({autoHide:!0,handles:"e",resize:function(n,t){w.noSort=!0;w.updateAllColumnWidthBySplitterDrag(n,t)},stop:function(n,t){w.updateAllColumnWidthBySplitterDrag(n,t)}})};w.updateAllColumnWidthBySplitterDrag=function(n,t){var u=e.getElementPosition(t.element[0]),i=t.element.attr("name");i!=""&&i!=undefined&&(w.allColumnList[0][i+"_width"]=u.width,r(function(){},10))};w.tableJoin=function(t,r){var k=r.draggable[0].getAttribute("name"),b,c,l,d,y,g,p,nt,a;if(k!="index-column"&&k!="type-dic"&&k!="word-dic"){b=r.draggable[0].id;c=t.target.id;c=c.replaceAll("_header2","");c=c.replaceAll("_header3","");c=c.replaceAll("_header","");var tt=f.where(w.data.table_list,{table_guid:b}),it=f.where(w.data.table_list,{table_guid:c}),h,e,u,s,v=!1;if(w.table_column_drag_type=="column_order"){if(l=w.getParentOrDragInfo(b,c,"table"),l.sourceTable==undefined||l.sourceColumn==undefined||l.targetTable==undefined||l.targetColumn==undefined)return;l.sourceTable.table_guid==l.targetTable.table_guid&&w.changeColumnOrder(l);return}if(!(tt.length>0)&&(it.length>0,f.each(w.data.table_list,function(n){var i=f.where(n.column_list,{column_guid:b}),t;i.length==1&&(h=n,u=i[0]);t=f.where(n.column_list,{column_guid:c});t.length==1?(e=n,s=t[0]):n.table_guid==c&&(v=!0,e=n)}),h!=undefined&&e!=undefined)){if(v==!0&&(d=f.where(e.column_list,{column_name:u.column_name,type:u.type}),d.length==1?(s=d[0],v=!1):s=w.copyColumnData(u)),w.data.view_attributes_info.isViewTableName==!0){if(h.table_name==""||e.table_name==""){o.alert("Alert","<b>테이블 이름<\/b>이 입력되지 않았습니다.");return}}else if(w.data.view_attributes_info.isViewTableName==!1&&(h.table_logical_name==""||e.table_logical_name=="")){o.alert("Alert","<b>테이블 논리 이름<\/b>이 입력되지 않았습니다.");return}if(w.data.view_attributes_info.isViewName==!0){if(u.column_name==""||s.column_name==""){o.alert("Alert","<b>컬럼 이름<\/b>이 입력되지 않았습니다.");return}}else if(w.data.view_attributes_info.isViewLogicalName==!0&&(u.column_logical_name==""||s.column_logical_name=="")){o.alert("Alert","<b>컬럼 논리 이름<\/b>이 입력되지 않았습니다.");return}if(w.data.view_attributes_info.isViewType==!0&&(u.type==""||s.type=="")){o.alert("Alert","<b>컬럼 타입<\/b>이 입력되지 않았습니다.");return}if(y=f.findWhere(e.join_list,{references_table_guid:h.table_guid}),y!=undefined&&e.table_guid!=h.table_guid){g="이미 "+e.table_name+" 테이블의 "+y.foreign_key_name+" 컬럼이 "+y.references_table_name+" 테이블의 "+y.references_key_name+" 컬럼을 참조하고 있습니다.<br/><b>양방향으로 참조하는 관계를 설정할 수 없습니다.<\/b>";o.alert("Alert",g);return}if(p={join_name:"FK_"+h.table_name+"_"+u.column_name+"_"+e.table_name+"_"+s.column_name,join_type:2,foreign_table_guid:h.table_guid,foreign_table_name:h.table_name,foreign_key_column_guid:u.column_guid,foreign_key_name:u.column_name,references_table_guid:e.table_guid,references_table_name:e.table_name,references_key_column_guid:s.column_guid,references_key_name:s.column_name},h.table_guid==e.table_guid&&v==!1){if(w.table_column_drag_type=="column_fk"){a=i.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:"참조를 위한 부모 테이블과 자식 테이블이 같습니다.<br/><b>자기 참조(self reference)<\/b>를 하시겠습니까?",okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});a.result.then(function(){w.tableJoinDataAdd(h,p,u,s)},function(){});return}return}if(u.type!=s.type&&w.data.view_attributes_info.isViewType==!0){a=i.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:"조인 설정을 하려는 <b>두 컬럼의 데이터 타입이 다릅니다<\/b>.<br/>타입을 같게 설정한 후에 조인하는 것을 추천합니다.<br/>두 컬럼의 타입이 달라도 정말 조인 하시겠습니까?",okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});a.result.then(function(){w.tableJoinDataAdd(h,p,u,s)},function(){});return}if(v==!0){nt=e.table_name+" 테이블에 "+u.column_name+" 컬럼과 이름과 타입이 같은 컬럼이 없습니다.<br/>자동으로 추가하시겠습니까?";a=i.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:nt,okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});a.result.then(function(){e.column_list.push(s);w.checkLoadTargetColumnDivForJoin(h,p,u,s);n.$broadcast("autoTableAlign","")},function(){});return}w.tableJoinDataAdd(h,p,u,s)}}};w.tableJoinDataAdd=function(n,t,i,r){n.join_list.push(t);w.addJoinLine(t.foreign_key_column_guid,t.references_key_column_guid);i.is_foreign_key=!0;w.tableJoinDataAddCompleted(t,i,r)};w.tableJoinDataAddCompleted=function(n,t,i){if(t.is_primary_key==!0&&i.is_primary_key==!0){var r="일대일 관계가 설정 되었습니다.";t.auto_increment==!0&&(r=r+"<br/>"+n.foreign_table_name+"테이블의 "+t.column_name+"컬럼의 auto increment 설정을<br/>해제하는 것을 추천해 드립니다.");o.alert("Alert",r);return}};w.checkLoadTargetColumnDivForJoin=function(n,t,i,u){$("#"+u.column_guid).length==1?r(function(){w.setColumnDrag(u.column_guid);w.tableJoinDataAdd(n,t,i,u)},100):r(function(){w.checkLoadTargetColumnDivForJoin(n,t,i,u)},100)};w.addJoinLineFirstTime=function(){y.clearAllLine();f.each(w.data.table_list,function(n){f.each(n.join_list,function(n){w.addJoinLine(n.foreign_key_column_guid,n.references_key_column_guid)})});w.redrawAllLine()};w.addJoinLine=function(n,t){var i={left_node:"#"+n,right_node:"#"+t,horizantal_gap:10,error:!1,width:1};y.addLine(i);w.redrawLineFromColomn(i.left_node)};var b,k=100;w.redrawAllLine=function(){w.data.isFirstLoad!=!0&&(b=r(function(){y.redrawAllLine(w.data.view_attributes_info.isCurveConnectionLine)},k))};w.redrawLineFromColumnList=function(n){b=r(function(){f.each(n,function(n){y.redrawLine(n.column_guid)})},k)};w.redrawLineFromColomn=function(n){b=r(function(){y.redrawLine(n)},k)};w.clickFKCheckBox=function(n,t){t.is_foreign_key=!t.is_foreign_key;var r=i.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:t.column_name+" 컬럼의 Foreign Key 설정을 제거 하시겠습니까?",okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});r.result.then(function(){var i=f.findWhere(n.join_list,{foreign_key_column_guid:t.column_guid});w.cancelForeignKey(n,i);w.redrawAllLine()},function(){t.is_foreign_key=!0})};w.cancelForeignKey=function(n,t){if(t!=undefined){n.join_list=f.without(n.join_list,t);w.deleteJoinLine(t);var i=f.findWhere(n.column_list,{column_guid:t.foreign_key_column_guid});i.is_foreign_key=!1}};w.addTable=function(n,t){t.column_list.push({column_guid:e.guid(),order:0,column_name:"",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"varchar(50)",is_null:!0});w.$apply()};w.deleteTable=function(n,t){var r=i.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:t.table_name+" 테이블을 삭제 하시겠습니까?",okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});r.result.then(function(){w.deleteTableCore(n,t)},function(){})};w.deleteTableCore=function(n,t){f.each(w.data.table_list,function(n){var i=f.where(n.join_list,{references_table_guid:t.table_guid});f.each(i,function(t){w.cancelForeignKey(n,t)})});f.each(t.join_list,function(n){w.cancelForeignKey(t,n)});w.data.table_list=f.without(w.data.table_list,f.findWhere(w.data.table_list,{table_guid:t.table_guid}));w.updateSource()};w.updateSource=function(){n.$broadcast("updateSource",!1)};w.addColumn=function(t,i){var r=e.guid();i.column_list.push({column_guid:r,order:i.column_list.length+1,column_name:"",is_primary_key:!1,is_unique_index:!1,auto_increment:!1,is_foreign_key:!1,type:"",is_null:!0,show_column:!0});w.checkNewColumnDiv(r);n.$broadcast("autoTableAlign","")};w.copyColumnData=function(n){var t=e.guid();return{column_guid:t,order:0,column_name:n.column_name,is_primary_key:!1,is_unique_index:!1,auto_increment:!1,is_foreign_key:!1,type:n.type,is_null:!1,show_column:!0}};w.checkNewColumnDiv=function(n){e.waitLoadElement(n).then(function(){w.setColumnDrag(n)})};w.deleteColumn=function(n,t,r){if(r.column_name==""){w.deleteColumnCore(n,t,r);return}var u=w.columnDeleteConfirmMessage(t,r),f=i.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:u,okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});f.result.then(function(){w.deleteColumnCore(n,t,r)},function(){})};w.columnDeleteConfirmMessage=function(n,t){var r=w.checkIndexColumn(n,t),i="";return(t.is_primary_key==!0||t.is_foreign_key==!0||r==!0)&&(i=t.column_name+" 컬럼은 아래와 같은 중요한 설정들이 되어있는 컬럼 입니다.<br/>",t.is_primary_key==!0&&(i=i+"&nbsp;&nbsp;&nbsp;&nbsp;- Primary key<br/>"),t.is_foreign_key==!0&&(i=i+"&nbsp;&nbsp;&nbsp;&nbsp;- Foreign key<br/>"),r==!0&&(i=i+"&nbsp;&nbsp;&nbsp;&nbsp;- Index<br/>"),i=i+"컬럼을 삭제할 경우 관련된 설정이 삭제 됩니다.<br/>"),i+t.column_name+" 컬럼을 삭제 하시겠습니까?"};w.deleteColumnCore=function(t,i,r){var u,e;w.deleteIndexColumn(i,r);r.is_foreign_key==!0&&(u=f.findWhere(i.join_list,{foreign_key_column_guid:r.column_guid}),w.cancelForeignKey(i,u));f.each(w.data.table_list,function(n){var t=f.findWhere(n.join_list,{references_key_column_guid:r.column_guid});w.cancelForeignKey(n,t)});i.column_list=f.without(i.column_list,f.findWhere(i.column_list,{column_guid:r.column_guid}));e=1;f.each(i.column_list,function(n){n.order=e++});w.redrawAllLine();n.$broadcast("autoTableAlign","")};w.deleteJoinLine=function(n){y.clearLine("#"+n.foreign_key_column_guid,"#"+n.references_key_column_guid)};w.checkIndexColumn=function(n,t){var i=!1;return f.each(n.index_list,function(n){var r=f.where(n.index_column_list,{column_guid:t.column_guid});r.length>0&&(i=!0)}),i};w.deleteIndexColumn=function(n,t){f.each(n.index_list,function(i){i.index_column_list=f.without(i.index_column_list,f.findWhere(i.index_column_list,{column_guid:t.column_guid}));i.index_column_list.length==0&&(n.index_list=f.without(n.index_list,f.findWhere(n.index_list,{index_name:i.index_name})))});c.checkIndexColumnName(n)};w.setIndex=function(n,t){var u=f.where(t.column_list,{column_name:""}),r;if(u.length>0){o.alert("Alert","Column name이 입력되지 않은 컬럼이 있습니다.<br/>Column name을 입력 후에 다시 시도해 주세요.");return}r=i.open({templateUrl:"/templates/app/aquery/set-index-popup.html",controller:"setIndexPopupController",windowClass:"set-index",resolve:{params:function(){return{title:"Setting Index("+t.table_name+")",table:t,db_type:w.data.erd_info.db_type,view_attributes_info:w.data.view_attributes_info}}}});r.result.then(function(n){t.index_list=n.index_list;c.checkIndexColumnName(t)},function(){})};w.updateColumnName=function(n,t){w.checkColumnNameError(t.column_name);w.updateNameDicListForTable("","")};w.checkColumnNameError=function(n){var t=f.find(w.unableWordInColumnName,function(t){return t.toLowerCase()==n.toLowerCase()});t!=undefined&&o.alert("Alert",n+" 컬럼명은 사용할 수 없습니다.")};w.updateColumnNameList=function(n,t,i){i=="logical_name"?(w.logicalNameDicList=[],f.each(w.data.table_list,function(n){f.each(n.column_list,function(n){if(n.column_logical_name!=""){var t=f.findWhere(w.logicalNameDicList,{column_logical_name:n.column_logical_name});t==undefined&&w.logicalNameDicList.push(n)}})}),w.logicalNameDicList=f.sortBy(w.logicalNameDicList,function(n){return n.column_logical_name})):i=="physical_name"&&(w.physicalNameDicList=[],f.each(w.data.table_list,function(n){f.each(n.column_list,function(n){if(n.column_name!=""){var t=f.findWhere(w.physicalNameDicList,{column_name:n.column_name});t==undefined&&w.physicalNameDicList.push(n)}})}),w.physicalNameDicList=f.sortBy(w.physicalNameDicList,function(n){return n.column_name}))};w.updateColumnNameListAll=function(){w.updateColumnNameList("","","logical_name");w.updateColumnNameList("","","physical_name")};w.deleteMemo=function(n,t){var r=i.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:t.memo_name+" 메모를 삭제 하시겠습니까?",okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});r.result.then(function(){w.deleteMemoCore(n,t)},function(){})};w.deleteMemoCore=function(n,t){w.data.memo_list=f.without(w.data.memo_list,f.findWhere(w.data.memo_list,{table_guid:t.table_guid}));w.updateSource()};w.deleteAllColumnPanel=function(){w.allColumnList!=undefined&&(w.allColumnList.length=0)};w.ctSQL=function(n,t){var i=[],u=[],h=f.where(i,{table_guid:t.table_guid}),e;if(h.length==0&&(t.table_short_name=w.getTableShortName(t.table_name,u),t.is_selected_table=!0,i.push(t)),f.each(t.join_list,function(n){var t=f.where(w.data.table_list,{table_guid:n.references_table_guid});f.each(t,function(n){var t=f.where(i,{table_guid:n.table_guid});t.length==0&&(n.table_short_name=w.getTableShortName(n.table_name,u),n.is_selected_table=!1,i.push(n))})}),f.each(w.data.table_list,function(n){var r=f.where(n.join_list,{references_table_guid:t.table_guid});f.each(r,function(){var t=f.where(i,{table_guid:n.table_guid});t.length==0&&(n.table_short_name=w.getTableShortName(n.table_name,u),n.is_selected_table=!1,i.push(n))})}),f.each(i,function(n){var r=f.where(i,{table_short_name:n.table_short_name+2}),t;r.length>0&&(n.table_short_name=n.table_short_name+1);t=f.where(n.join_list,{table_short_name:n.table_short_name+2});t.length>0&&(n.table_short_name=n.table_short_name+1)}),c.checkJoinTableColumnName(w.data.table_list),f.each(i,function(n){c.checkIndexColumnName(n)}),e=c.checkDuplicationName(i),e!=""){o.alert("Alert",e);return}var l={db_type:w.data.erd_info.db_type,sql_type:"1",database_info_list:w.getSimpleDataBaseInfoList(),is_append_db_name_when_create_sql:w.data.auto_sql_option.is_append_db_name_when_create_sql,is_ignore_fk:w.data.auto_sql_option.is_ignore_fk,is_ignore_comment:w.data.auto_sql_option.is_ignore_comment,table_list:i},r=angular.copy(l),a=w.checkNameLength(r.table_list);a!=!1&&s.createSql("aquery","createsql",r).then(function(n){var t="Create Table SQL("+r.db_type+")";w.ctSQLPopup(n.Response,r,t)})};w.getSimpleDataBaseInfoList=function(){var n=[];return f.each(w.data.database_info_list,function(t){n.push({database_guid:t.database_guid,database_name:t.database_name})}),n};w.getTableShortName=function(n,t){var u,r,i,o;for(n=e.deleteFirstWord(n,"tb_"),n=e.deleteFirstWord(n,"t_"),n=e.deleteFirstWord(n,"ut_"),u=n.substring(0,1).toLowerCase(),r=0;r<99;r++)if(i=u,r>1&&(i=i+r),o=f.contains(t,i),o==!1)return t.push(i),i.toLowerCase()};w.fSQL=function(n,t){var i=[],r=[],h=f.where(i,{table_guid:t.table_guid}),e;if(h.length==0&&(t.table_short_name=w.getTableShortName(t.table_name,r),t.is_selected_table=!0,i.push(t)),f.each(t.join_list,function(n){n.references_table_guid==n.foreign_table_guid&&(n.table_short_name=w.getTableShortName(t.table_name,r))}),f.each(t.join_list,function(n){var t=f.where(w.data.table_list,{table_guid:n.references_table_guid});f.each(t,function(n){var t=f.where(i,{table_guid:n.table_guid});t.length==0&&(n.table_short_name=w.getTableShortName(n.table_name,r),n.is_selected_table=!1,i.push(n))})}),f.each(w.data.table_list,function(n){var u=f.where(n.join_list,{references_table_guid:t.table_guid});f.each(u,function(){var t=f.where(i,{table_guid:n.table_guid});t.length==0&&(n.table_short_name=w.getTableShortName(n.table_name,r),n.is_selected_table=!1,i.push(n))})}),f.each(i,function(n){var r=f.where(i,{table_short_name:n.table_short_name+2}),t;r.length>0&&(n.table_short_name=n.table_short_name+1);t=f.where(n.join_list,{table_short_name:n.table_short_name+2});t.length>0&&(n.table_short_name=n.table_short_name+1)}),c.checkJoinTableColumnName(w.data.table_list),f.each(i,function(n){c.checkIndexColumnName(n)}),e=c.checkDuplicationName(i),e!=""){o.alert("Alert",e);return}var l={db_type:w.data.erd_info.db_type,sql_type:"2",database_info_list:w.getSimpleDataBaseInfoList(),is_append_db_name_when_create_sql:w.data.auto_sql_option.is_append_db_name_when_create_sql,is_ignore_fk:w.data.auto_sql_option.is_ignore_fk,is_ignore_comment:w.data.auto_sql_option.is_ignore_comment,table_list:i},u=angular.copy(l),a=w.checkNameLength(u.table_list);a!=!1&&s.createSql("aquery","createsql",u).then(function(n){var t="Favorite SQL("+u.db_type+")";w.ctSQLPopup(n.Response,u,t)})};w.checkNameLength=function(n){if(w.data.erd_info.db_type=="ORACLE"){var t=!1;f.each(n,function(n){n.table_name.length>30&&t==!1&&(o.alert("Alert","ORACLE의 경우 테이블명이 30글자를 넘을 수 없습니다.<br/>("+n.table_name+", "+n.table_name.length+"글자)"),t=!0);f.each(n.column_list,function(n){n.column_name.length>30&&t==!1&&(o.alert("Alert","ORACLE의 경우 컬럼명이 30글자를 넘을 수 없습니다.<br/>("+n.column_name+", "+n.column_name.length+"글자)"),t=!0)})})}return t==!0?!1:!0};w.testDataSQLPopup=function(n,t){var r=i.open({templateUrl:"/templates/app/aquery/set-test-data-count-popup.html",controller:"setTestDataCountPopupController",resolve:{params:function(){return{temp:""}}}});r.result.then(function(i){i.test_data_count!=0&&w.testDataSQLCore(n,t,i.test_data_count)},function(){})};w.testDataSQLCore=function(n,t,i){var u;if(t.is_selected_table=!0,t.table_short_name=w.getTableShortName(t.table_name,[]),c.checkJoinTableColumnName(w.data.table_list),c.checkIndexColumnName(t),u=c.checkDuplicationName([t]),u!=""){o.alert("Alert",u);return}var f={db_type:w.data.erd_info.db_type,sql_type:"3",database_info_list:w.getSimpleDataBaseInfoList(),is_append_db_name_when_create_sql:w.data.auto_sql_option.is_append_db_name_when_create_sql,is_ignore_fk:w.data.auto_sql_option.is_ignore_fk,is_ignore_comment:w.data.auto_sql_option.is_ignore_comment,test_data_count:i,table_list:[t]},r=angular.copy(f),h=w.checkNameLength(r.table_list);h!=!1&&s.createSql("aquery","createsql",r).then(function(n){var u,i,f;if(n.Response.length!=0){for(u=n.Response[0].sql,n.Response[0].sql="",i=1;i<=r.test_data_count;i++)f=u.replaceAll("+[TestDataRowCount]",e.leftPad(i,r.test_data_count.toString().length)),n.Response[0].sql=n.Response[0].sql+(i==1?"":"\r\n")+f;l.saveTextFile(t.table_name+"_test_data",n.Response[0].sql)}})};String.prototype.replaceAll=function(n,t){return this.split(n).join(t)};w.ctSQLPopup=function(n,r,u){var f="",e=t.innerWidth,o;f=e>=1050?"create-sql":e>=850?"select-erd":"set-index";o=i.open({templateUrl:"/templates/app/aquery/create-sql-popup.html",controller:"createSqlPopupController",windowClass:f,resolve:{params:function(){return{title:u,sendData:r,sqlResult:n}}}});o.result.then(function(){},function(){})};w.createModel=function(n,t,i){var u;if(t.is_selected_table=!0,t.table_short_name=w.getTableShortName(t.table_name,[]),c.checkJoinTableColumnName(w.data.table_list),c.checkIndexColumnName(t),u=c.checkDuplicationName([t]),u!=""){o.alert("Alert",u);return}var f={db_type:w.data.erd_info.db_type,sql_type:i,table_list:[t]},r=angular.copy(f),e=w.checkNameLength(r.table_list);e!=!1&&s.createmodel("aquery","createmodel",r).then(function(n){var t="Create Model("+r.sql_type+")";w.ctSQLPopup(n.Response,r,t)})};w.allTableCreateSql=async function(){var t,i,n,r,e;if(w.data.erd_info.db_type==undefined||w.data.erd_info.db_type==""){o.alert("Alert","SQL을 생성할 ERD가 없습니다.");return}if(w.data.table_list.length==0){o.alert("Alert","SQL을 생성할 테이블이 없습니다.");return}if(t="all",i=[],!(w.data.database_info_list.length>1)||(t=await w.selectDataBase(),t!==null)){for(t=="all"?i=w.data.table_list:f.each(w.data.table_list,function(n){n.database_guid==t&&i.push(n)}),n=angular.copy(i),c.checkJoinTableColumnName(n),r=0;r<n.length;r++)c.checkIndexColumnName(n[r]);if(e=c.checkDuplicationName(n),e!=""){o.alert("Alert",e);return}var h={db_type:w.data.erd_info.db_type,sql_type:"4",database_info_list:w.getSimpleDataBaseInfoList(),is_append_db_name_when_create_sql:w.data.auto_sql_option.is_append_db_name_when_create_sql,is_ignore_fk:w.data.auto_sql_option.is_ignore_fk,is_ignore_comment:w.data.auto_sql_option.is_ignore_comment,table_list:n},u=angular.copy(h),a=w.checkNameLength(u.table_list);a!=!1&&(u.table_list=w.tableListOrderByJoin(u.table_list),s.createSql("aquery","createsql",u).then(function(n){var t,i;if(n.Response.length!=0){for(t="-- 테이블 순서는 관계를 고려하여 한 번에 실행해도 에러가 발생하지 않게 정렬되었습니다.\r\n\r\n",i=0;i<n.Response.length;i++)t=t+n.Response[i].sql+"\r\n\r\n\r\n";l.saveTextFile(w.data.erd_info.erd_name,t)}}))}};w.tableListOrderByJoin=function(n){f.each(n,function(n){n.order=1e4});for(var t=0;t<4;t++)f.each(n,function(t){f.each(t.join_list,function(i){var r=f.findWhere(n,{table_guid:i.references_table_guid});r!=undefined&&(r.order=r.order<=t.order?r.order-1:t.order-1)})}),n=f.sortBy(n,function(n){return n.order}).reverse();return n=f.sortBy(n,function(n){return n.order})};w.selectDataBase=function(){return new Promise(function(n){var t=i.open({templateUrl:"/templates/app/aquery/select-database-popup.html",controller:"selectDatabasePopupController",resolve:{params:function(){return{information:"[테이블 생성 SQL]을 진행할 데이터베이스를 선택하세요.",database_info_list:w.data.database_info_list}}}});t.result.then(function(t){n(t.database_guid)},function(){n(null)})})};w.updateDataType=function(n){n=="MySQL"||n=="MariaDB"?w.dataTypeList=h.getMySQLDataTypeList():n=="MSSQL"?w.dataTypeList=h.getMSSQLDataTypeList():n=="ORACLE"?w.dataTypeList=h.getOracleDataTypeList():n=="PostgreSQL"&&(w.dataTypeList=h.getPostgreSQLDataTypeList());w.updateTypeDicList("","");r(function(){w.checkType(n)},1e3)};w.checkType=function(n){var i=[],t=[];n=="ORACLE"&&(i=["datetime"],f.each(w.data.table_list,function(n){f.each(n.column_list,function(n){var r=$.inArray(n.type.toLowerCase(),i)>-1;r==!0&&(r=$.inArray(n.type,t)>-1,r==!1&&t.push(n.type))})}));t.length>0&&o.alert("Alert","<b>"+t.join()+"<\/b>타입은 "+n+"에서 지원하지 않는 타입입니다.")};w.showColoumnOrder=function(t,i){i.show_column_order==undefined&&(i.show_column_order=!1);i.show_column_order=!i.show_column_order;i.tableNameWidth=a.getTableNameWidth(w.data,i);w.redrawAllLine();n.$broadcast("autoTableAlign",!1)};w.showComment=function(t,i){i.show_comment==undefined&&(i.show_comment=!1);i.show_comment=!i.show_comment;i.tableNameWidth=a.getTableNameWidth(w.data,i);w.redrawAllLine();n.$broadcast("autoTableAlign",!1)};w.tableCopy=function(t,i){var r=angular.copy(i),u,o,s;for(r.table_guid=e.guid(),r.position_x=i.position_x+50,r.position_y=r.position_y+50,r.join_list=[],r.index_list=[],f.each(r.column_list,function(n){n.column_guid=e.guid()}),u=1;u<100;u++)if(o=r.table_name+"_copy"+u,s=f.where(w.data.table_list,{table_name:o}),s.length==0){r.table_name=o;break}e.waitLoadElement(r.table_guid).then(function(t){t.css("z-index",w.maxZIndex++);r.position_x=i.position_x+50;v.selectTableEffect(t,6,!0);n.$broadcast("updateSource","")});w.data.table_list.push(r)};w.updateTypeDicList=function(n,t){w.checkTypeError(t);r(function(){w.updateTypeDicListCore(n,t)},50)};w.updateTypeDicListCore=function(n,t){t!=undefined&&t!=""&&w.syncType(t);w.dataTypeDicList=[];f.each(w.data.type_dic_list,function(n){f.each(n.column_list,function(t){t.type_name!=""&&t.type!=""&&(t.type_display_name="",n.table_name!=""&&(t.type_display_name="["+n.table_name+"] "),t.type_display_name=t.type_display_name+t.type_name,w.dataTypeDicList.push(t))})});w.dataTypeDicList=f.sortBy(w.dataTypeDicList,function(n){return n.type_display_name});f.each(w.dataTypeList,function(n){var t={type_display_name:n};w.dataTypeDicList.push(t)})};w.sortTypeDic=function(n,t){if(w.noSort==!0){w.noSort=!1;return}var i=f.filter(n.column_list,function(n){return n.type_name!=""&&n.type!=""?!0:!1}),u=f.filter(n.column_list,function(n){return n.type_name==""||n.type==""?!0:!1});r(function(){n.column_list=f.sortBy(i,function(n){return n[t]});n.column_list=n.column_list.concat(u)},50);n.orderProperty=t};w.resetTypeDicOrder=function(n){for(var t=0;t<n.column_list.length;t++)n.column_list[t].order=t+1};w.syncType=function(n){f.each(w.data.table_list,function(t){f.each(t.column_list,function(t){t.type_dic!=undefined&&t.type_dic.column_guid==n.column_guid&&(t.type_dic=angular.copy(n),t.type=t.type_dic.type)})});f.each(w.data.name_dic_list,function(t){f.each(t.column_list,function(t){t.type_dic!=undefined&&t.type_dic.column_guid==n.column_guid&&(t.type_dic=angular.copy(n),t.type=t.type_dic.type)})})};w.typeDicHelp=function(){var n="1. 일관된 타입 설정을 위한 기능입니다.<br/>",n=n+"2. 여기에 타입을 등록하면 테이블에서 타입을 입력할 때<br/>&ensp;&ensp;&ensp;type name으로 바로 입력할 수 있습니다.<br/>",n=n+"3. 타입사전에서 타입을 수정하면 이 타입을 참조하는<br/>&ensp;&ensp;&ensp;모든 용어사전과 테이블의 타입이 함께 변경됩니다.<br/>",n=n+"4. 타입사전의 타입을 참조하면 테이블의 해당 컬럼에서<br/>&ensp;&ensp;&ensp;타입을 직접 수정할 수 없습니다.<br/>",n=n+"&ensp;&ensp;&ensp;타입 오른편 <i class='fa fa-times-circle icon-color' style='margin-top:7px;vertical-align:top;'><\/i> 버튼 클릭하여 참조를 해제한 후에 직접<br/>&ensp;&ensp;&ensp;입력할 수 있습니다.<br/>",n=n+"5. 타입사전의 타입을 참조하는 용어사전, 테이블의 타입 항목에<br/>&ensp;&ensp;&ensp;마우스를 가져다 대면 툴팁으로 Type name을 확인할 수<br/>&ensp;&ensp;&ensp;있습니다.<br/>",n=n+"6. 타입사전의 하단 선을 마우스로 드래그하여 높이를 조정할 수<br/>&ensp;&ensp;&ensp;있습니다.<br/>",n=n+"7. 타입사전(도메인사전)에 대한 더 많은 내용은 <b><a target='_blank' href='https://www.google.co.kr/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&ved=2ahUKEwjKrKrj8rvvAhWFLqYKHbXRCn4QFjAbegQIVRAD&url=https%3A%2F%2Fdevse.tistory.com%2Fattachment%2Fcfile21.uf%402304B74756013C9534B4E7.pdf&usg=AOvVaw3yTBMa6zUNUpj72_h7Fig8'>여기<\/a><\/b>를<br/>&ensp;&ensp;&ensp;참고해주세요.<br/>";o.alert("Alert",n)};w.onTypeSelect=function(n,t){w.findTypeInDic(t,t.type)};w.updateType=function(n,t){w.checkTypeError(t);r(function(){w.findTypeInDic(t,t.type)},50)};w.checkTypeError=function(n){var t,i;n.type&&(t=n.type.split("("),t[0].toLowerCase()=="char"&&t.length==2&&(i=t[1].split(")"),i[0]>255&&o.alert("Alert",t[0]+" 타입은 최대 255까지만 설정 가능합니다.")))};w.findTypeInDic=function(n,t){if(w.data.type_dic_list!=undefined&&w.data.type_dic_list.length!=0&&t!=""){var i;(f.each(w.data.type_dic_list,function(n){var r=f.where(n.column_list,{type_display_name:t});r.length==1?i=r[0]:r.length>1&&o.alert("Alert","타입사전에 같은 이름의 타입이 다수 존재합니다. "+t)}),i!=undefined)&&(n.type_dic=angular.copy(i),n.type=n.type_dic.type)}};w.removeDicType=function(n){n.type_dic=undefined;n.type=""};w.addType=function(t,i){var r=e.guid();i.column_list.push({column_guid:r,order:i.column_list.length+1,type_name:"",type_display_name:"",type:"",type_comment:""});w.setMaxHeightToDicItemListByDicData(w.data.type_dic_list,i);w.checkNewTypeDiv(r);n.$broadcast("autoTableAlign","")};w.checkNewTypeDiv=function(n){e.waitLoadElement(n).then(function(){w.setTypeDrag(n);w.DicScrollGoToBottom(n)})};w.deleteTypeDic=function(n,t){var r=i.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:t.table_name+" 타입사전을 삭제 하시겠습니까?",okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});r.result.then(function(){w.deleteTypeDicCore(n,t)},function(){})};w.deleteTypeDicCore=function(n,t){f.each(w.data.table_list,function(n){f.each(n.column_list,function(n){if(n.type_dic!=undefined){var i=f.where(t.column_list,{column_guid:n.type_dic.column_guid});i.length==1&&(n.type_dic=undefined)}})});f.each(w.data.name_dic_list,function(n){f.each(n.column_list,function(n){if(n.type_dic!=undefined){var i=f.where(t.column_list,{column_guid:n.type_dic.column_guid});i.length==1&&(n.type_dic=undefined)}})});w.data.type_dic_list=f.without(w.data.type_dic_list,f.findWhere(w.data.type_dic_list,{table_guid:t.table_guid}));w.updateSource()};w.deleteTypeInDic=function(n,t,r){if(r.type==""&&r.type_display_name==""){w.deleteTypeCore(n,t,r);return}var u=i.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:r.type_name+" 타입을 삭제 하시겠습니까?",okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});u.result.then(function(){w.deleteTypeCore(n,t,r)},function(){})};w.deleteTypeCore=function(n,t,i){f.each(w.data.table_list,function(n){f.each(n.column_list,function(n){n.type_dic!=undefined&&n.type_dic.column_guid==i.column_guid&&(n.type_dic=undefined)})});f.each(w.data.name_dic_list,function(n){f.each(n.column_list,function(n){n.type_dic!=undefined&&n.type_dic.column_guid==i.column_guid&&(n.type_dic=undefined)})});t.column_list=f.without(t.column_list,f.findWhere(t.column_list,{column_guid:i.column_guid}));var r=1;f.each(t.column_list,function(n){n.order=r++});w.setMaxHeightToDicItemListByDicData(w.data.type_dic_list,t)};w.setWordDicDrag=function(n){var t=$("#"+n.table_guid),i=$("#"+n.table_guid+" > div > .item-list");if(w.checkInitDrag(t)!=!0){w.setMaxHeightToDicItemList(w.data.word_dic_list,t);t.on("mouseover",function(){w.isMouseOverTable=!0;w.setZIndexMax(t)});t.on("mouseleave",function(){w.isMouseOverTable=!1});i.resizable({handles:"n, s",minWidth:150,minHeight:60,start:function(n,t){var i=$("#"+t.helper.context.offsetParent.id);w.setMaxHeightToDicItemList(w.data.word_dic_list,i)},resize:function(n,t){var i=$("#"+t.helper.context.offsetParent.id),r=$("#"+t.helper.context.offsetParent.id+" > div > .item-list");w.setHeightToDicItemList(w.data.word_dic_list,i,r)},stop:function(n,t){var i=$("#"+t.helper.context.offsetParent.id),r=$("#"+t.helper.context.offsetParent.id+" > div > .item-list");w.setHeightToDicItemList(w.data.word_dic_list,i,r);v.checkCanvasSizeForAllObject(w.data)}});t.draggable({cursor:"move",handle:".table-drag-handle",containment:$("#rootdiv"),start:function(n,t){var i=$("#"+t.helper.context.id);w.setZIndexMax(i);w.isDragging=!0},drag:function(n,t){w.multiItemDrag(t.helper.context.id)},stop:function(t,i){var u=$("#"+i.helper.context.id),f=e.getElementPosition($("#aquery-top-control-panel")[0]),o=e.getElementPosition(u[0]);u.css("width","auto");u.css("height","auto");n.position_x=o.left;n.position_y=o.top;n.position_x<f.right&&n.position_y<f.bottom&&r(function(){u.animate({top:f.bottom+10+"px"},$.extend(!0,{},{progress:function(){w.redrawAllLine()}}))},100);v.checkCanvasSizeForAllObject(w.data);w.resetMultiSelectItemList();w.isDragging=!1}})}};w.setWordDrag=function(n){var t=$("#"+n);w.checkInitDrag(t)!=!0&&(t.draggable({helper:"clone",scroll:"true",refreshPositions:!0,cursor:"move",handle:".col-drag-handle",start:function(n,t){w.setColumnZIndexMax(t.helper.context.id,"word");w.isDragging=!0},drag:function(n,t){var i=$("#"+t.helper.context.id);i.addClass("column-hide");i.addClass("column-drag");i.next().addClass("column-drag")},stop:function(n,t){var i=$("#"+t.helper.context.id);i.css("width","auto");i.css("height","auto");i.removeClass("column-hide");i.removeClass("column-drag");i.next().removeClass("column-drag");w.isDragging=!1}}),t.droppable({hoverClass:"status-droppable-word-dic",over:function(){},out:function(){},drop:function(n,t){var r=t.draggable[0].id,u=n.target.id,i;r!=undefined&&u!=undefined&&(i=w.getParentOrDragInfo(r,u,"word"),i.sourceTable!=undefined&&i.sourceColumn!=undefined&&i.targetTable!=undefined&&i.targetColumn!=undefined)&&(i.sourceTable.table_guid==i.targetTable.table_guid?w.changeColumnOrder(i):w.moveDicColumn(i,"word"))}}))};w.sortWordDic=function(n,t){if(w.noSort==!0){w.noSort=!1;return}var i=f.filter(n.column_list,function(n){return n.logical_name!=""&&n.physical_name!=""?!0:!1}),u=f.filter(n.column_list,function(n){return n.logical_name==""||n.physical_name==""?!0:!1});r(function(){n.column_list=t=="logical_name"||t=="physical_name"?f.sortBy(i,function(n){return n[t].toLowerCase()}):f.sortBy(i,function(n){return n[t]});n.column_list=n.column_list.concat(u)},50);n.orderProperty=t};w.resetOrderNumber=function(n){for(var t=0;t<n.column_list.length;t++)n.column_list[t].order=t+1};w.wordDicHelp=function(){var n="1. 일관된 단어 설정을 위한 기능입니다.<br/>",n=n+"2. 여기에 단어를 등록하면 용어사전에서 여기에 등록된 단어만을<br/>&ensp;&ensp;&ensp;조합하여 논리명, 물리명을 정의할 수 있습니다.<br/>",n=n+"3. 단어사전에서 단어를 수정하면 이 단어를 참조하는<br/>&ensp;&ensp;&ensp;모든 용어사전의 단어가 함께 변경됩니다.<br/>",n=n+"4. 단어사전에 없는 단어를 용어사전에서 사용하면 용어사전 해당<br/>&ensp;&ensp;&ensp;항목이 빨간색 글자로 표시됩니다.<br/>",n=n+"5. <i class='fa fa-ban icon-grey' style='margin-top:0px;'><\/i>(Unable)항목의 경우 실수로 사용할 가능성이 있는 비슷한<br/>&ensp;&ensp;&ensp;단어를 등록하면 됩니다. 예를 들어 '고객', '손님' 중에 '고객'을<br/>&ensp;&ensp;&ensp;사용하기로 하고 '손님'은 사용하지 않기로 했다면 '손님'을<br/>&ensp;&ensp;&ensp;등록하고 Unable을 체크하면 됩니다.<br/>",n=n+"6. 단어사전의 하단 선을 마우스로 드래그하여 높이를 조정할 수<br/>&ensp;&ensp;&ensp;있습니다.<br/>",n=n+"7. 단어사전에 대한 더 많은 내용은 <b><a target='_blank' href='https://www.google.co.kr/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&ved=2ahUKEwjKrKrj8rvvAhWFLqYKHbXRCn4QFjAbegQIVRAD&url=https%3A%2F%2Fdevse.tistory.com%2Fattachment%2Fcfile21.uf%402304B74756013C9534B4E7.pdf&usg=AOvVaw3yTBMa6zUNUpj72_h7Fig8'>여기<\/a><\/b>를 참고해주세요.<br/>";o.alert("Alert",n)};w.addWord=function(n,t){var i=e.guid();t.column_list.push({column_guid:i,order:t.column_list.length+1,logical_name:"",physical_name:"",word_comment:"",unable:!1});w.checkNewWordDiv(i);w.setMaxHeightToDicItemListByDicData(w.data.word_dic_list,t)};w.checkNewWordDiv=function(n){e.waitLoadElement(n).then(function(){w.setWordDrag(n);w.DicScrollGoToBottom(n)})};w.deleteWordDic=function(n,t){var r=i.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:t.table_name+" 단어사전을 삭제 하시겠습니까?",okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});r.result.then(function(){w.deleteWordDicCore(n,t)},function(){})};w.deleteWordDicCore=function(n,t){f.each(t.column_list,function(n){w.syncWord(n,!0)});w.data.word_dic_list=f.without(w.data.word_dic_list,f.findWhere(w.data.word_dic_list,{table_guid:t.table_guid}));w.checkWordErrFullScan();w.updateSource()};w.deleteWordInDic=function(n,t,r){if(r.logical_name==""&&r.physical_name==""){w.deleteWordCore(n,t,r);return}var u=i.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:(r.logical_name!=""?r.logical_name:r.physical_name)+" 단어를 삭제 하시겠습니까?",okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});u.result.then(function(){w.deleteWordCore(n,t,r)},function(){})};w.deleteWordCore=function(n,t,i){w.syncWord(i,!0);f.each(t.column_list,function(n){n.order>i.order&&(n.order=n.order-1)});t.column_list=f.without(t.column_list,f.findWhere(t.column_list,{column_guid:i.column_guid}));var r=1;f.each(t.column_list,function(n){n.order=r++});w.checkWordErrFullScan();w.setMaxHeightToDicItemListByDicData(w.data.word_dic_list,t)};w.updateWordDicList=function(){r(function(){w.checkWordErrFullScan()},50)};w.checkWordErrFullScan=function(){var n=!1;f.each(w.data.word_dic_list,function(t){f.each(t.column_list,function(i){var r=w.checkErrWord(t,i,"logical_name"),u=w.checkErrWord(t,i,"physical_name");(r==!0||u==!0)&&(n=!0)})});n!=!0&&w.syncWordNameFullScan();n!=!0&&(n=w.checkNameErrFullScan())};w.checkErrWord=function(n,t,i){if(n==undefined||t[i]==undefined||t==undefined||t==""||i=="")return!0;var r=w.checkErrWordUseSeparator(n,t,i);return(r==!1&&(r=w.checkErrWordDuplication(n,t,i)),r==!0)?!0:(w.findErrInDic(n)==!1&&w.clearDicErrorMassage(n),r)};w.findErrInDic=function(n){var t=!1;return f.each(n.column_list,function(n){(n.logical_name_err==!0||n.physical_name_err==!0)&&(t=!0)}),t};w.checkErrWordUseSeparator=function(n,t,i){var r=t[i].indexOf(" "),u=t[i].indexOf("_");return r>-1||u>-1?(w.setDicErrorMassage(n,"단어사전에는 공백이나 _를 사용할 수 없습니다."),t[i+"_err"]=!0,!0):(t[i+"_err"]=!1,!1)};w.checkErrWordDuplication=function(n,t,i){var r=!1;return f.each(w.data.word_dic_list,function(u){f.each(u.column_list,function(u){var o,f,e;u[i]==undefined||t[i]==undefined||t.logical_name==""||t.physical_name==""||u.column_guid!=t.column_guid&&u[i].toLowerCase()==t[i].toLowerCase()&&(t[i]=="고유키"&&(o=""),f=w.getAnyPropertyNameForDic(i),u[f].toLowerCase()==t[f].toLowerCase()?(w.setDicErrorMassage(n,"같은 단어가 존재합니다.("+u[f]+")"),r=!0):t.unable==!0&&u[f].toLowerCase()!=t[f].toLowerCase()||t.unable==!1&&u[f]==""||(e=w.getDuplicationCount(t,i),e>1&&(w.setDicErrorMassage(n,"같은 단어가 존재합니다.("+u[i]+")<br/>able인 단어는 하나만 존재할 수 있습니다."),r=!0)))})}),t[i+"_err"]=r==!0?!0:!1,r};w.getDuplicationCount=function(n,t){var i=0;return f.each(w.data.word_dic_list,function(r){f.each(r.column_list,function(r){n[t].toLowerCase()==r[t].toLowerCase()&&r[t]!=""&&r.unable==!1&&i++})}),i};w.getAnyPropertyNameForDic=function(n){return n=="logical_name"?"physical_name":n=="physical_name"?"logical_name":""};w.syncWordNameFullScan=function(){f.each(w.data.word_dic_list,function(n){f.each(n.column_list,function(n){w.syncWord(n,!1)})})};w.syncWord=function(n,t){f.each(w.data.name_dic_list,function(i){f.each(i.column_list,function(r){for(var e=!1,o=!1,u=0;u<r.word_list.length;u++)r.word_list[u].column_guid==n.column_guid&&(t==!0?(r.word_list=f.without(r.word_list,r.word_list[u]),e=!0):r.word_list[u].logical_name!=n.logical_name||r.word_list[u].physical_name!=n.physical_name?(r.word_list[u]=angular.copy(n),e=!0):r.word_list[u].unable!=n.unable&&(r.word_list[u]=angular.copy(n),o=!0));e==!0&&w.updateNameDicItem(i,r);o==!0&&w.updateNameInWordBan(i,r);(e==!0||o==!0)&&(w.updateNameDicListForTable("",""),w.syncName(r,!1))})})};w.updateNameDicItem=function(n,t){w.setNameFromWordList(t,"logical_name");w.setNameFromWordList(t,"physical_name")};w.setNameFromWordList=function(n,t){var i=[],r=w.getNameSeparator(t);f.each(n.word_list,function(n){i.push(n[t])});n[t]=i.join(r);n[t+"_err"]=!1};w.getNameSeparator=function(n){return n=="logical_name"?" ":n=="physical_name"?"_":""};w.updateNameInWordBan=function(n,t){var i="";return t.logical_name_err=!1,t.physical_name_err=!1,f.each(t.word_list,function(n){var r=w.checkWordBanList(n,"logical_name"),u=w.checkWordBanList(n,"physical_name");r==!0&&i==""&&(i=n.logical_name,t.logical_name_err=!0);u==!0&&i==""&&(i=n.physical_name,t.physical_name_err=!0)}),i!=""?(w.setDicErrorMassage(n,'"'+i+'" 단어는 사용 금지 입니다.'),!0):(w.findErrInDic(n)==!1&&w.clearDicErrorMassage(n),!1)};w.checkWordBanList=function(n,t){var i=!0;return n.unable==!1?!1:(f.each(w.data.word_dic_list,function(r){f.each(r.column_list,function(r){n[t]==r[t]&&r.unable==!1&&(i=!1)})}),i)};w.mappingWord=function(n,t,i,r){var u,e;return t==undefined||t==""||i==""?!1:t[i]==""?!1:(t[i+"_err"]=!1,u=t[i].split(w.getNameSeparator(i)),t.word_list=[],f.each(u,function(r){var u=w.getWordItem(r,i),f;u==undefined?t[i+"_err"]==!1&&(w.setDicErrorMassage(n,'"'+r+'" 단어를 단어사전에서 찾을 수 없습니다.'),t[i+"_err"]=!0):(f=w.checkWordBanList(u,i),f==!0&&t[i+"_err"]==!1&&(w.setDicErrorMassage(n,'"'+r+'" 단어는 사용 금지 입니다.'),t[i+"_err"]=!0),t.word_list.push(angular.copy(u)))}),t[i+"_err"]==!1&&r==!1&&(e=w.getAnyPropertyNameForDic(i),w.setNameFromWordList(t,e)),t[i+"_err"])};w.getWordItem=function(n,t){var i=[],r;return(f.each(w.data.word_dic_list,function(r){f.each(r.column_list,function(r){r[t]==n&&i.push(r)})}),i.length==0)?undefined:i.length==1?i[0]:(r=f.where(i,{unable:!1}),r.length==1)?r[0]:undefined};w.setNameDicDrag=function(n){var t=$("#"+n.table_guid),i=$("#"+n.table_guid+" > div > .item-list");if(w.checkInitDrag(t)!=!0){w.setMaxHeightToDicItemList(w.data.name_dic_list,t);t.on("mouseover",function(){w.isMouseOverTable=!0;w.setZIndexMax(t)});t.on("mouseleave",function(){w.isMouseOverTable=!1});i.resizable({handles:"n, s",minWidth:150,minHeight:60,start:function(n,t){var i=$("#"+t.helper.context.offsetParent.id);w.setMaxHeightToDicItemList(w.data.name_dic_list,i)},resize:function(n,t){var i=$("#"+t.helper.context.offsetParent.id),r=$("#"+t.helper.context.offsetParent.id+" > div > .item-list");w.setHeightToDicItemList(w.data.name_dic_list,i,r)},stop:function(n,t){var i=$("#"+t.helper.context.offsetParent.id),r=$("#"+t.helper.context.offsetParent.id+" > div > .item-list");w.setHeightToDicItemList(w.data.name_dic_list,i,r);v.checkCanvasSizeForAllObject(w.data)}});t.draggable({cursor:"move",handle:".table-drag-handle",containment:$("#rootdiv"),start:function(n,t){var i=$("#"+t.helper.context.id);w.setZIndexMax(i);w.isDragging=!0},drag:function(n,t){w.multiItemDrag(t.helper.context.id)},stop:function(n,i){var f=$("#"+i.helper.context.id),u=v.getElementDataByGUID(i.helper.context.id,w.data),o=e.getElementPosition($("#aquery-top-control-panel")[0]),s=e.getElementPosition(f[0]);f.css("width","auto");f.css("height","auto");u.position_x=s.left;u.position_y=s.top;u.position_x<o.right&&u.position_y<o.bottom&&r(function(){t.animate({top:o.bottom+10+"px"},$.extend(!0,{},{progress:function(){w.redrawAllLine()}}))},100);v.checkCanvasSizeForAllObject(w.data);w.resetMultiSelectItemList();w.isDragging=!1}})}};w.setNameDrag=function(n){var t=$("#"+n);w.checkInitDrag(t)!=!0&&(t.draggable({helper:"clone",scroll:"true",refreshPositions:!0,cursor:"move",handle:".col-drag-handle",start:function(n,t){w.setColumnZIndexMax(t.helper.context.id,"name");w.isDragging=!0},drag:function(n,t){w.redrawAllLine();var i=$("#"+t.helper.context.id);i.addClass("column-hide");i.addClass("column-drag");i.next().addClass("column-drag")},stop:function(n,t){var i=$("#"+t.helper.context.id);i.css("width","auto");i.css("height","auto");i.removeClass("column-hide");i.removeClass("column-drag");i.next().removeClass("column-drag");w.isDragging=!1}}),t.droppable({hoverClass:"status-droppable-name-dic",over:function(){},out:function(){},drop:function(n,t){var r=t.draggable[0].id,u=n.target.id,i;r!=undefined&&u!=undefined&&(i=w.getParentOrDragInfo(r,u,"name"),i.sourceTable!=undefined&&i.sourceColumn!=undefined&&i.targetTable!=undefined&&i.targetColumn!=undefined)&&(i.sourceTable.table_guid==i.targetTable.table_guid?w.changeColumnOrder(i):w.moveDicColumn(i,"name"))}}))};w.sortNameDic=function(n,t){if(w.noSort==!0){w.noSort=!1;return}var i=f.filter(n.column_list,function(n){return n.logical_name!=""&&n.physical_name!=""?!0:!1}),u=f.filter(n.column_list,function(n){return n.logical_name==""||n.physical_name==""?!0:!1});r(function(){n.column_list=t=="logical_name"||t=="physical_name"?f.sortBy(i,function(n){return n[t].toLowerCase()}):f.sortBy(i,function(n){return n[t]});n.column_list=n.column_list.concat(u)},50);n.orderProperty=t};w.resetNameDicOrder=function(n){for(var t=0;t<n.column_list.length;t++)n.column_list[t].order=t+1};w.nameDicHelp=function(){var n="1. 일관된 용어(컬럼 이름) 설정을 위한 기능입니다.<br/>",n=n+"2. 단어사전에 등록한 단어만을 이용하여 용어사전을 등록할 수<br/>&ensp;&ensp;&ensp;있습니다.<br/>",n=n+"3. 단어사전에 없는 단어를 용어사전에서 사용하면 용어사전 해당<br/>&ensp;&ensp;&ensp;항목이 빨간색 글자로 표시됩니다.<br/>",n=n+"4. 논리 명 또는 물리 명을 입력하면 다른 항목이 자동 입력 됩니다. <br/>",n=n+"5. 논리 명은 단어마다 공백으로 구분하고 물리 명은 단어마다<br/>&ensp;&ensp;&ensp;_ 로 구분하여 작성합니다.<br/>",n=n+"6. 단어사전이 변경되면 해당 단어를 사용하는 용어사전도<br/>&ensp;&ensp;&ensp;함께 변경됩니다.<br/>",n=n+"7. 이렇게 등록한 용어사전은 테이블 컬럼 이름으로 이용됩니다.<br/>",n=n+"8. 용어사전이 있으면 테이블 컬럼 이름 입력 시 용어사전 목록이<br/>&ensp;&ensp;&ensp;자동으로 나타나며 용어사전이 없으면 다른 테이블에 입력한<br/>&ensp;&ensp;&ensp;컬럼이름 목록이 자동으로 나타납니다.<br/>",n=n+"9. 용어사전의 하단 선을 마우스로 드래그하여 높이를 조정할 수<br/>&ensp;&ensp;&ensp;있습니다.<br/>",n=n+"10. 용어사전에 대한 더 많은 내용은 <b><a target='_blank' href='https://www.google.co.kr/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&ved=2ahUKEwjKrKrj8rvvAhWFLqYKHbXRCn4QFjAbegQIVRAD&url=https%3A%2F%2Fdevse.tistory.com%2Fattachment%2Fcfile21.uf%402304B74756013C9534B4E7.pdf&usg=AOvVaw3yTBMa6zUNUpj72_h7Fig8'>여기<\/a><\/b>를 참고해주세요.<br/>";o.alert("Alert",n)};w.removeDicName=function(n){n.name_dic!=undefined&&((n.name_dic.type_dic!=undefined||n.name_dic.type!="")&&(n.type_dic=undefined,n.type=""),n.name_dic=undefined,n.column_logical_name="",n.column_name="")};w.addName=function(n,t){var i=e.guid();t.column_list.push({column_guid:i,order:t.column_list.length+1,logical_name:"",physical_name:"",column_logical_name:"",column_name:"",logical_name_err:!1,physical_name_err:!1,type:"",name_comment:"",word_list:[]});w.checkNewNameDiv(i,t)};w.checkNewNameDiv=function(n,t){e.waitLoadElement(n).then(function(){w.setNameDrag(n);w.setMaxHeightToDicItemListByDicData(w.data.name_dic_list,t);w.DicScrollGoToBottom(n)})};w.DicScrollGoToBottom=function(n){var r=$("#"+n),t=r.parent(),i;t.length!=0&&(i=t[0].scrollHeight,t.scrollTop(i))};w.deleteNameDic=function(n,t){var r=i.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:t.table_name+" 용어사전을 삭제 하시겠습니까?",okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});r.result.then(function(){w.deleteNameDicCore(n,t)},function(){})};w.deleteNameDicCore=function(n,t){f.each(t.column_list,function(n){w.syncName(n,!0)});w.data.name_dic_list=f.without(w.data.name_dic_list,f.findWhere(w.data.name_dic_list,{table_guid:t.table_guid}));w.updateNameDicListForTable("","");w.updateSource()};w.deleteNameInDic=function(n,t,r){if(r.logical_name==""&&r.physical_name==""){w.deleteNameCore(n,t,r);return}var u=i.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:(r.logical_name!=""?r.logical_name:r.physical_name)+" 용어를 삭제 하시겠습니까?",okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});u.result.then(function(){w.deleteNameCore(n,t,r)},function(){})};w.deleteNameCore=function(n,t,i){f.each(t.column_list,function(n){n.order>i.order&&(n.order=n.order-1)});w.syncName(i,!0);t.column_list=f.without(t.column_list,f.findWhere(t.column_list,{column_guid:i.column_guid}));var r=1;f.each(t.column_list,function(n){n.order=r++});w.updateNameDicList(n,t,i,"logical_name");w.updateNameDicListForTable("","");w.setMaxHeightToDicItemListByDicData(w.data.name_dic_list,t)};w.updateNameDicList=function(n,t,i,u){r(function(){var n=w.checkNameErrFullScan();w.mappingWord(t,i,u,!1);n==!1&&(w.syncNameFullScan(),w.updateNameDicListForTable(t,i))},50)};w.checkNameErrFullScan=function(){var n=!1;return f.each(w.data.name_dic_list,function(t){w.clearDicErrorMassage(t);f.each(t.column_list,function(i){var r=w.checkErrName(t,i,"logical_name"),u=w.checkErrName(t,i,"physical_name");(r==!0||u==!0)&&(n=!0)});w.findErrInDic(t)==!1&&w.clearDicErrorMassage(t)}),n};w.checkErrName=function(n,t,i){var r,u,f;if(t==undefined||t==""||i=="")return!1;if(r=0,i=="logical_name"){if(r=t[i].indexOf("_"),r>-1)return w.setDicErrorMassage(n,"논리명은 단어를 공백으로 연결하세요. "),t[i+"_err"]=!0}else if(i=="physical_name"&&(r=t[i].indexOf(" "),r>-1))return w.setDicErrorMassage(n,"물리명은 단어를 _으로 연결하세요. "),t[i+"_err"]=!0;return(u=w.checkSameNameInNameDic(t),u==!0)?(w.setDicErrorMassage(n,"중복된 용어가 존재합니다.("+t[i]+")"),t[i+"_err"]=!0,t[i+"_err"]):(f=w.mappingWord(n,t,i,!0),f==!0)?t[i+"_err"]:(t[i+"_err"]=!1,t[i+"_err"])};w.setDicErrorMassage=function(n,t){n.errorMassage||(n.errorMassage=t,n.errorMassageHTML=u.trustAsHtml(t))};w.clearDicErrorMassage=function(n){n.errorMassage="";n.errorMassageHTML=u.trustAsHtml("")};w.checkSameNameInNameDic=function(n){var t=!1;return f.each(w.data.name_dic_list,function(i){f.each(i.column_list,function(i){n.column_guid!=i.column_guid&&n.logical_name.toLowerCase()==i.logical_name.toLowerCase()&&n.logical_name!=""?(i.logical_name_err=!0,t=!0):n.column_guid!=i.column_guid&&n.physical_name.toLowerCase()==i.physical_name.toLowerCase()&&n.physical_name!=""&&(i.physical_name=!0,t=!0)})}),t};w.syncNameFullScan=function(){f.each(w.data.name_dic_list,function(n){f.each(n.column_list,function(n){var t=w.syncName(n,!1)})})};w.syncName=function(n,t){f.each(w.data.table_list,function(i){f.each(i.column_list,function(i){i.name_dic!=undefined&&i.name_dic.column_guid==n.column_guid&&(t==!0?(i.name_dic.type_dic!=undefined&&(i.type_dic=undefined),i.name_dic=undefined):w.copyColumnNameFromNameDic(i,n))})})};w.onNameSelect=function(n,t,i,r){w.findNameInDic(n,t,r)};w.updateNameFromNameDic=function(n,t,i){r(function(){w.findNameInDic(n,t,i)},50)};w.findNameInDic=function(n,t,i){var u,r;w.logicalNameDicList.length!=0&&i!=""&&(u=[],i=="logical_name"?u=w.logicalNameDicList:i=="physical_name"&&(u=w.physicalNameDicList),f.each(u,function(n){i=="logical_name"?(n.column_logical_name==t.column_logical_name||n.logical_name==t.column_logical_name)&&(r=n):i=="physical_name"&&(n.column_name==t.column_name||n.physical_name==t.column_name)&&(r=n)}),r!=undefined&&r.is_foreign_key==undefined)&&w.copyColumnNameFromNameDic(t,r)};w.copyColumnNameFromNameDic=function(n,t){if(t.logical_name==""&&t.physical_name==""){w.removeDicName(n);return}n.name_dic=angular.copy(t);n.column_logical_name=n.name_dic.logical_name;n.column_name=n.name_dic.physical_name;(n.column_comment==""||n.column_comment==undefined)&&(n.column_comment=n.name_dic.name_comment);t.type_dic!=undefined?(n.type_dic=angular.copy(t.type_dic),n.type=n.type_dic.type):t.type!=""&&t.type_dic==undefined&&(n.type_dic=undefined,n.type=t.type)};w.updateNameDicListForTable=function(n,t){r(function(){w.updateNameDicListCore(n,t)},50)};w.updateNameDicListCore=function(){w.logicalNameDicList=[];w.physicalNameDicList=[];f.each(w.data.name_dic_list,function(n){var t=f.sortBy(n.column_list,function(n){return n.order});f.each(t,function(t){t.logical_name!=""&&t.physical_name!=""&&(t.column_logical_name="["+n.table_name+"]"+t.logical_name,t.column_name="["+n.table_name+"]"+t.physical_name,w.logicalNameDicList.push(t),w.physicalNameDicList.push(t))})});w.logicalNameDicList.length==0&&w.updateColumnNameListAll()};w.getRefTypeDicItemInNameDic=function(n){var t=[];return f.each(w.data.name_dic_list,function(i){f.each(i.column_list,function(i){i.type_dic!=undefined&&i.type_dic.column_guid==n.column_guid&&t.push(i)})}),t};w.getRefTypeDicItemInTable=function(n){var t=[];return f.each(w.data.table_list,function(i){f.each(i.column_list,function(i){i.type_dic!=undefined&&i.type_dic.column_guid==n.column_guid&&t.push(i)})}),t};w.getRefWordDicItemInNameDic=function(n){var t=[];return f.each(w.data.name_dic_list,function(i){f.each(i.column_list,function(i){for(var r=0;r<i.word_list.length;r++)i.word_list[r].column_guid==n.column_guid&&t.push(i)})}),t};w.getRefWordDicItemInTable=function(n){var t=[];return f.each(w.data.table_list,function(i){f.each(i.column_list,function(i){i.name_dic!=undefined&&i.name_dic.column_guid==n.column_guid&&t.push(i)})}),t};w.lastRefTypeDicInTableColumnList=[];w.lastRefTypeDicInNameDicList=[];w.lastRefWordDicInNameDicList=[];w.lastRefNameDicInTableColumnList=[];w.typeDicBackgroundColor="#7092BE";w.wordDicBackgroundColor="#628066";w.nameDicBackgroundColor="#A3C97B";w.updateStypeRefTypeDic=function(n,t,i){i==!1&&(w.lastRefTypeDicInNameDicList=w.getRefTypeDicItemInNameDic(n),w.lastRefTypeDicInTableColumnList=w.getRefTypeDicItemInTable(n));w.aplyStypeRefDicCore(w.lastRefTypeDicInNameDicList,t,i,w.typeDicBackgroundColor);w.aplyStypeRefDicCore(w.lastRefTypeDicInTableColumnList,t,i,w.typeDicBackgroundColor);i==!0&&(w.lastRefTypeDicInNameDicList=[],w.lastRefTypeDicInTableColumnList=[])};w.updateStypeRefWordDic=function(n,t,i){i==!1&&(w.lastRefWordDicInNameDicList=w.getRefWordDicItemInNameDic(n));w.aplyStypeRefDicCore(w.lastRefWordDicInNameDicList,t,i,w.wordDicBackgroundColor);i==!0&&(w.lastRefWordDicInNameDicList=[])};w.updateStypeRefNameDic=function(n,t,i){i==!1&&(w.lastRefNameDicInTableColumnList=w.getRefWordDicItemInTable(n));w.aplyStypeRefDicCore(w.lastRefNameDicInTableColumnList,t,i,w.nameDicBackgroundColor);i==!0&&(w.lastRefNameDicInTableColumnList=[])};w.aplyStypeRefDicCore=function(n,t,i,r){var u=w.getInputNameByProperty(t);i==!0&&(r="white");f.each(n,function(n){var f=$("#"+n.column_guid),t;f.length==1&&(t=f.find("input[type=text][name="+u+"]"),t.length==1&&(i==!0?t.css("color","grey"):(t.addClass("ref-type-dic-input"),t.css("color","white")),t.css("background-color",r)))})};w.getInputNameByProperty=function(n){return n=="logical_name"?"inputLogicalName":n=="physical_name"?"inputPhysicalName":n=="type"?"inputType":""};w.multiSelectItem=function(n){w.multiSelectItemList=[];w.filterItemFromList(w.data.table_list,w.multiSelectItemList,n);w.filterItemFromList(w.data.memo_list,w.multiSelectItemList,n);w.filterItemFromList(w.data.type_dic_list,w.multiSelectItemList,n);w.filterItemFromList(w.data.word_dic_list,w.multiSelectItemList,n);w.filterItemFromList(w.data.name_dic_list,w.multiSelectItemList,n);w.setSelectEffectToItem(w.data.table_list,w.multiSelectItemList);w.setSelectEffectToItem(w.data.memo_list,w.multiSelectItemList);w.setSelectEffectToItem(w.data.type_dic_list,w.multiSelectItemList);w.setSelectEffectToItem(w.data.word_dic_list,w.multiSelectItemList);w.setSelectEffectToItem(w.data.name_dic_list,w.multiSelectItemList)};w.filterItemFromList=function(n,t,i){f.each(n,function(n){i.left<=n.position_x&&n.position_x<=i.right&&i.top<=n.position_y&&n.position_y<=i.bottom&&t.push({table_guid:n.table_guid,position_x:n.position_x,position_y:n.position_y})})};w.setSelectEffectToItem=function(n,t){f.each(n,function(n){var i=$("#"+n.table_guid),r=f.where(t,{table_guid:n.table_guid});r.length==1?i.addClass("selected_table_for_drag"):i.removeClass("selected_table_for_drag")})};w.setFocus=function(n){n.toElement.focus()};w.inputKeydown=function(n,t,i){var s=$("ul[id*=typeahead]:not(.ng-hide)"),o,u,f,e;if(!(s.length>0)&&(o=n.target.name,u="",i==undefined&&(i=""),t.column_guid!=undefined?u=t.column_guid+i:t.column_guid!=undefined?u=t.column_guid+i:t.col!=undefined&&t.col.column_guid!=undefined&&(u=t.col.column_guid+i),u!="")){if(n.keyCode==38)e=$("#"+u).prev();else if(n.keyCode==40||n.keyCode==13)e=$("#"+u).next();else return;(f=e.find("input[type=text][name="+o+"]"),f.length!=0)&&r(function(){f[0].focus()},100)}};w.inputKeydownTable=function(n){var f=$("ul[id*=typeahead]:not(.ng-hide)"),r,i,t,u;if(!(f.length>0))if(r=n.target.name,n.keyCode==38){if(i=$(n.target).parent().parent().prev(),t=i.find("input[type=text][name="+r+"]"),t.length==0)return;t[0].focus();u=""}else if(n.keyCode==40){if(i=$(n.target).parent().parent().next(),t=i.find("input[type=text][name="+r+"]"),t.length==0)return;t[0].focus();u=""}};w.init();w.dragBackground()}}}])}(),function(n){n.fn.connect=function(t){var o,i,r=[],u=this,s=t||document,f=!0,e=!0;return o=n("#myCanvas"),this.lineCount=0,this.drawLine=function(n){r.push(n);r=_.uniq(r,function(n){return n.left_node+n.right_node});this.lineCount=r.length;this.connect(n)},this.allLineClear=function(){r=[]},this.drawAllLine=function(t){t.left_selector!=""&&typeof t.left_selector!="undefined"&&n(t.left_selector).length>0&&n(t.left_selector).each(function(){var i={};n.extend(i,t);i.left_node=n(this).attr("id");i.right_node=n(this).data(t.data_attribute);i.right_node!=""&&typeof i.right_node!="undefined"&&u.drawLine(i)})},this.connect=function(t){i=o[0].getContext("2d");i.beginPath();try{var r,s,h=t.error=="show"||!1;if(t.left_node!=""&&typeof t.left_node!="undefined"&&t.right_node!=""&&typeof t.right_node!="undefined"&&n(t.left_node).length>0&&n(t.right_node).length>0){switch(t.status){case"accepted":r="#0969a2";break;case"rejected":r="#e7005d";break;case"modified":r="#bfb230";break;case"none":r="grey";break;default:r="grey"}switch(t.style){case"dashed":s=[4,2];break;case"solid":s=[0,0];break;case"dotted":s=[2,2];break;default:s=[2,2]}n(t.right_node).each(function(o,h){_left_node=n(t.left_node);_right_node=n(h);var y=_left_node[0].getBoundingClientRect(),p=_right_node[0].getBoundingClientRect(),c={left:0,right:0,top:0,width:0,height:0},l={left:0,right:0,top:0,width:0,height:0},v={x:0,y:0},a={x:0,y:0},w=30,k=0,b=0,d=!1;window.scrollX==undefined?(c.left=y.left+document.documentElement.scrollLeft,c.right=y.right+document.documentElement.scrollLeft,c.top=y.top+document.documentElement.scrollTop,l.left=p.left+document.documentElement.scrollLeft,l.right=p.right+document.documentElement.scrollLeft,l.top=p.top+document.documentElement.scrollTop):(c.left=y.left+window.scrollX,c.right=y.right+window.scrollX,c.top=y.top+window.scrollY,l.left=p.left+window.scrollX,l.right=p.right+window.scrollX,l.top=p.top+window.scrollY);c.width=y.width;c.height=y.height;l.width=p.width;l.height=p.height;f=c.left>=l.left?!1:!0;d=c.right<l.left||c.left>l.right?!1:!0;d==!0?(v.x=c.left,v.y=c.top+c.height/2,a.x=l.left,a.y=l.top+l.height/2,k=-w,b=-w):(f==!0&&(v.x=c.left+c.width,v.y=c.top+c.height/2,a.x=l.left,a.y=l.top+l.height/2,k=w,b=-w),f==!1&&(v.x=c.left,v.y=c.top+c.height/2,a.x=l.left+l.width,a.y=l.top+l.height/2,k=-w,b=w));c.top>l.top?a.y=a.y+5:c.top<l.top&&(a.y=a.y-5);i.moveTo(v.x,v.y);e==!0?i.quadraticCurveTo(v.x+k,v.y,a.x+b,a.y):(i.lineTo(v.x+k,v.y),i.lineTo(a.x+b,a.y));u.drawWithArrowheads(a.x+b,a.y,a.x,a.y);i.setLineDash?i.setLineDash(s):(i.setLineDash=function(){},console.log("_ctx.setLineDash = function () { }"));i.lineWidth=t.width||2;i.strokeStyle=r;i.stroke()})}else h&&alert("Mandatory Fields are missing or incorrect")}catch(c){h&&alert("Mandatory Fields are missing or incorrect")}},n(window).resize(function(){u.redrawLines(e)}),this.redrawLines=function(t){i!=undefined&&(e=t,i.clearRect(0,0,n(s).width(),n(s).height()),r.forEach(function(n){n.resize=!0;u.connect(n)}))},this.deleteLine=function(n,t){for(var u=null,i=0;i<r.length;i++)if(r[i].left_node==n&&r[i].right_node==t){u=r[i];break}else if(r[i].left_node==t&&r[i].right_node==n){u=r[i];break}u!=null&&u!=undefined&&(r=_.without(r,_.findWhere(r,{left_node:u.left_node,right_node:u.right_node})),this.lineCount=r.length,this.redrawLines(e))},this.drawWithArrowheads=function(n,t,r,f){i.fillStyle="grey";i.lineTo(r,f);i.stroke();var e=Math.atan((f-t)/(r-n));e+=(r>n?90:-90)*Math.PI/180;u.drawArrowhead(i,r,f,e)},this.drawArrowhead=function(n,t,i,r){n.save();n.beginPath();n.translate(t,i);n.rotate(r);n.moveTo(0,0);n.lineTo(4,17);n.lineTo(-4,17);n.closePath();n.restore();n.fill()},this}}(jQuery),function(){"use strict";app.factory("aqueryDemoErdServices",["$window","$rootScope",function(){return{getData:function(n){var t;return n=="1"||n==undefined||n==""?t={erd_info:{erd_guid:"ca79f019-f84e-c89c-3b01-52f4ad289393",erd_name:"Demo Blog",db_type:"MySQL",table_count:0,p_type:"N",p_status:"N",erd_saved:!0,readonly_url:"",readonly_url_password:"",is_append_db_name_when_create_sql:!1},table_list:[{table_guid:"d7fadb10-3914-6ed7-661a-f41331787fe3",table_name:"blog_category",table_comment:"",table_short_name:"b1",position_x:425,position_y:100,column_list:[{column_guid:"1f2a3da4-d774-059b-d9db-4ba962f27bff",column_name:"id",column_comment:"",order:1,is_primary_key:!0,auto_increment:!0,is_foreign_key:!1,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"카테고리 아이디",is_unique_index:!1,show_column:!0},{column_guid:"eb2fb8b3-d534-a728-236e-c40ebefaefc0",column_name:"name",column_comment:"",order:2,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!1,column_default_value:"",column_logical_name:"카테고리 이름",is_unique_index:!1,show_column:!0},{column_guid:"790ac5d8-b41c-ab43-6bf2-85e7f42bc2ec",column_name:"name_clean",column_comment:"",order:3,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!0,column_default_value:"",column_logical_name:"수정된 카테고리 이름",is_unique_index:!1,show_column:!0},{column_guid:"e95db264-6a59-e7b6-3a43-fa891e8188ba",column_name:"enabled",column_comment:"",order:4,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TINYINT",is_null:!1,column_default_value:"",column_logical_name:"활성화 여부",is_unique_index:!1,show_column:!0},{column_id:0,column_guid:"da05b1b3-e017-6a5c-ad29-1e1799210c10",order:5,column_name:"date_created",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TIMESTAMP",is_null:!0,column_default_value:"",column_logical_name:"등록일",is_unique_index:!1,show_column:!0}],join_list:[],$$hashKey:"object:36",index_list:[{index_name:"blog_category_Index_1",index_column_comment:"id",index_column_list:[{column_guid:"1f2a3da4-d774-059b-d9db-4ba962f27bff",column_name:"id"}]},{index_name:"blog_category_Index_2",index_column_comment:"name_clean",index_column_list:[{column_guid:"790ac5d8-b41c-ab43-6bf2-85e7f42bc2ec",column_name:"name_clean"}]}],show_comment:!1,tableNameWidth:279,table_logical_name:"카테고리",is_selected_table:!0,database_guid:"854ef5cd-1995-8d3c-268b-41f51b59272f",show_column_order:!1,order_width:45,show_only_important_columns_for_table:!1,table_header_color:"#5EAEC9"},{table_guid:"7faba608-e1c2-cf04-c9d4-35390c047393",table_name:"blog_author",table_comment:"",table_short_name:"b1",position_x:35,position_y:100,column_list:[{column_guid:"ea7dbde6-02ed-4414-656b-9719fea45da5",column_name:"id",column_comment:"",order:1,is_primary_key:!0,auto_increment:!0,is_foreign_key:!1,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"저자 아이디",is_unique_index:!1,show_column:!0},{column_guid:"14efacde-6d2b-7f9f-7191-8706ad699575",column_name:"display_name",column_comment:"",order:2,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!1,column_default_value:"",column_logical_name:"필명",is_unique_index:!1,show_column:!0},{column_guid:"9796812d-1373-19c1-311a-b6abb5cabf08",column_name:"first_name",column_comment:"",order:3,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!0,column_default_value:"",column_logical_name:"성",is_unique_index:!1,show_column:!0},{column_guid:"cea594a6-9360-ca89-3fd2-78c2f286e39a",column_name:"last_name",column_comment:"",order:4,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!0,column_default_value:"",column_logical_name:"이름",is_unique_index:!1,show_column:!0}],join_list:[],$$hashKey:"object:360",index_list:[{index_name:"blog_author_Index_2",index_column_comment:"display_name",index_column_list:[{column_guid:"14efacde-6d2b-7f9f-7191-8706ad699575",column_name:"display_name"}]},{index_name:"blog_author_Index_1",index_column_comment:"id",index_column_list:[{column_guid:"ea7dbde6-02ed-4414-656b-9719fea45da5",column_name:"id"}]}],is_selected_table:!0,show_comment:!1,tableNameWidth:279,table_logical_name:"저자",database_guid:"e1b4b1ae-9fc7-275f-6459-021a5e4776ec",show_column_order:!1,order_width:45,show_only_important_columns_for_table:!1,table_header_color:"#506c75"},{table_guid:"c9df3eee-acff-95b4-e3be-959c46e2c70e",table_name:"blog_post",table_comment:"",table_short_name:"b2",position_x:425,position_y:342,column_list:[{column_guid:"e6b6cb5b-0293-504a-5c81-bb843e94d4c5",column_name:"id",column_comment:"",order:1,is_primary_key:!0,auto_increment:!0,is_foreign_key:!1,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"게시글 아이디",is_unique_index:!1,show_column:!0},{column_guid:"164607cf-2717-840c-44bb-60494b7d5b6a",column_name:"title",column_comment:"",order:2,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(144)",is_null:!1,column_default_value:"",column_logical_name:"게시글 제목",is_unique_index:!1,show_column:!0},{column_guid:"09ece48e-e628-9f3e-ae5a-e0e0a432b759",column_name:"article",column_comment:"",order:3,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TEXT",is_null:!0,column_default_value:"",column_logical_name:"게시글 내용",is_unique_index:!1,show_column:!0},{column_guid:"bd053a32-4a4a-d238-4fb2-92b6fb53a66b",column_name:"title_clean",column_comment:"",order:4,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(144)",is_null:!0,column_default_value:"",column_logical_name:"수정된 게시글 제목",is_unique_index:!1,show_column:!0},{column_id:0,column_guid:"ae2560a4-3cc5-86d7-ffec-8d4e40515545",order:5,column_name:"file",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!0,column_default_value:"",column_logical_name:"첨부 파일",is_unique_index:!1,show_column:!0},{column_id:0,column_guid:"3e3defe7-1061-d745-0227-c92d6bf273b9",order:6,column_name:"author_id",is_primary_key:!1,auto_increment:!1,is_foreign_key:!0,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"저자 아이디",is_unique_index:!1,show_column:!0},{column_id:0,column_guid:"fc11168f-fbf8-26c9-0b47-4460245a8d7b",order:7,column_name:"date_published",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TIMESTAMP",is_null:!1,column_default_value:"",column_logical_name:"공개 일자",is_unique_index:!1,show_column:!0},{column_id:0,column_guid:"0e9fc97d-835c-9c24-339b-198f3ad6709c",order:8,column_name:"banner_image",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(144)",is_null:!0,column_default_value:"",column_logical_name:"광고 이미지",is_unique_index:!1,show_column:!0},{column_id:0,column_guid:"518a80d0-616a-b22e-b02c-3a51ce13689e",order:9,column_name:"featured",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TINYINT(1)",is_null:!1,column_default_value:"",column_logical_name:"특징",is_unique_index:!1,show_column:!0},{column_id:0,column_guid:"131c3965-c711-c7e6-5393-e08de194375a",order:10,column_name:"enabled",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TINYINT(1)",is_null:!1,column_default_value:"",column_logical_name:"활성화 여부",is_unique_index:!1,show_column:!0},{column_id:0,column_guid:"e38d5ae2-7a16-7274-01d7-ce48eddbda07",order:11,column_name:"comments_enabled",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TINYINT(1)",is_null:!1,column_default_value:"",column_logical_name:"댓글 가능 여부",is_unique_index:!1,show_column:!0},{column_id:0,column_guid:"b02546c8-9e61-be59-9a35-e91f86f1e410",order:12,column_name:"views",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"읽은 횟수",is_unique_index:!1,show_column:!0}],join_list:[{join_name:"FK_blog_post_author_id_blog_author_id",join_type:2,foreign_table_guid:"c9df3eee-acff-95b4-e3be-959c46e2c70e",foreign_table_name:"blog_post",foreign_key_column_guid:"3e3defe7-1061-d745-0227-c92d6bf273b9",foreign_key_name:"author_id",references_table_guid:"7faba608-e1c2-cf04-c9d4-35390c047393",references_table_name:"blog_author",references_key_column_guid:"ea7dbde6-02ed-4414-656b-9719fea45da5",references_key_name:"id"}],$$hashKey:"object:497",index_list:[{index_name:"blog_post_Index_2",index_column_comment:"author_id",index_column_list:[{column_guid:"3e3defe7-1061-d745-0227-c92d6bf273b9",column_name:"author_id"}]},{index_name:"blog_post_Index_1",index_column_comment:"id",index_column_list:[{column_guid:"e6b6cb5b-0293-504a-5c81-bb843e94d4c5",column_name:"id"}]},{index_name:"blog_post_Index_3",index_column_comment:"title_clean",index_column_list:[{column_guid:"bd053a32-4a4a-d238-4fb2-92b6fb53a66b",column_name:"title_clean"}]}],show_comment:!1,is_selected_table:!1,tableNameWidth:279,table_logical_name:"게시글",database_guid:"854ef5cd-1995-8d3c-268b-41f51b59272f",show_column_order:!1,order_width:45,show_only_important_columns_for_table:!1,table_header_color:"#5EAEC9"},{table_guid:"c17c8f75-d781-83ae-640d-8a3927a01b2b",table_name:"blog_post_to_category",table_comment:"",table_short_name:"b2",position_x:815,position_y:100,column_list:[{column_guid:"bc97ef2e-21a1-f22d-69cd-751b964c9cdf",column_name:"category_id",column_comment:"",order:1,is_primary_key:!0,auto_increment:!1,is_foreign_key:!0,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"카테고리 아이디",is_unique_index:!1,show_column:!0},{column_guid:"b3f9dbbd-d050-12cf-edd8-10cab9d2a8da",column_name:"post_id",column_comment:"",order:2,is_primary_key:!0,auto_increment:!1,is_foreign_key:!0,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"게시글 아이디",is_unique_index:!1,show_column:!0}],join_list:[{join_name:"FK_blog_post_to_category_category_id_blog_category_id",join_type:2,foreign_table_guid:"c17c8f75-d781-83ae-640d-8a3927a01b2b",foreign_table_name:"blog_post_to_category",foreign_key_column_guid:"bc97ef2e-21a1-f22d-69cd-751b964c9cdf",foreign_key_name:"category_id",references_table_guid:"d7fadb10-3914-6ed7-661a-f41331787fe3",references_table_name:"blog_category",references_key_column_guid:"1f2a3da4-d774-059b-d9db-4ba962f27bff",references_key_name:"id"},{join_name:"FK_blog_post_to_category_post_id_blog_post_id",join_type:2,foreign_table_guid:"c17c8f75-d781-83ae-640d-8a3927a01b2b",foreign_table_name:"blog_post_to_category",foreign_key_column_guid:"b3f9dbbd-d050-12cf-edd8-10cab9d2a8da",foreign_key_name:"post_id",references_table_guid:"c9df3eee-acff-95b4-e3be-959c46e2c70e",references_table_name:"blog_post",references_key_column_guid:"e6b6cb5b-0293-504a-5c81-bb843e94d4c5",references_key_name:"id"}],$$hashKey:"object:798",index_list:[{index_name:"blog_post_to_category_Index_1",index_column_comment:"category_id",index_column_list:[{column_guid:"bc97ef2e-21a1-f22d-69cd-751b964c9cdf",column_name:"category_id"}]},{index_name:"blog_post_to_category_Index_2",index_column_comment:"post_id",index_column_list:[{column_guid:"b3f9dbbd-d050-12cf-edd8-10cab9d2a8da",column_name:"post_id"}]}],show_comment:!1,tableNameWidth:279,table_logical_name:"게시글 카테고리",is_selected_table:!1,database_guid:"854ef5cd-1995-8d3c-268b-41f51b59272f",show_column_order:!1,order_width:45,show_only_important_columns_for_table:!1,table_header_color:"#5EAEC9"},{table_guid:"2d52466a-d2d1-9264-75c0-3b2fd1653ee0",table_name:"blog_user",table_comment:"",table_short_name:"",position_x:425,position_y:780,column_list:[{column_guid:"d50df6e7-2fda-9530-5efc-815354fea24f",column_name:"id",column_comment:"",order:1,is_primary_key:!0,auto_increment:!0,is_foreign_key:!1,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"회원 아이디",is_unique_index:!1,show_column:!0},{column_guid:"9db858e9-b582-f984-463e-bb449cf46ac1",column_name:"name",column_comment:"",order:2,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!0,column_default_value:"",column_logical_name:"회원 이름",is_unique_index:!1,show_column:!0},{column_guid:"98ead381-f17f-8ff4-badf-c49e74e8ca95",column_name:"email",column_comment:"",order:3,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!0,column_default_value:"",column_logical_name:"회원 이메일",is_unique_index:!1,show_column:!0},{column_guid:"7bcbb08c-b7d2-de65-d3f3-58cb6920ccfb",column_name:"website",column_comment:"",order:4,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!0,column_default_value:"",column_logical_name:"웹사이트 주소",is_unique_index:!1,show_column:!0}],join_list:[],$$hashKey:"object:971",index_list:[{index_name:"blog_user_Index_2",index_column_comment:"email",index_column_list:[{column_guid:"98ead381-f17f-8ff4-badf-c49e74e8ca95",column_name:"email"}]},{index_name:"blog_user_Index_1",index_column_comment:"id",index_column_list:[{column_guid:"d50df6e7-2fda-9530-5efc-815354fea24f",column_name:"id"}]}],show_comment:!1,tableNameWidth:279,table_logical_name:"회원",database_guid:"e1b4b1ae-9fc7-275f-6459-021a5e4776ec",show_column_order:!1,order_width:45,show_only_important_columns_for_table:!1,table_header_color:"#506c75"},{table_guid:"9f37cc5d-c68c-4793-982e-2b75f0ed36fc",table_name:"blog_comment",table_comment:"",table_short_name:"",position_x:815,position_y:630,column_list:[{column_guid:"2a9001ce-40a3-d889-32a6-9fafbf8a8c6c",column_name:"id",column_comment:"",order:1,is_primary_key:!0,auto_increment:!0,is_foreign_key:!1,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"댓글 아이디",is_unique_index:!1,show_column:!0},{column_id:0,column_guid:"2b7ce48b-2db5-7d6f-3de0-6a5d1f00a9ac",order:2,column_name:"post_id",is_primary_key:!1,auto_increment:!1,is_foreign_key:!0,type:"INT",is_null:!0,column_default_value:"",column_logical_name:"게시글 아이디",is_unique_index:!1,show_column:!0},{column_guid:"1be7884d-b85e-8c4c-54fc-3bafe4f8fa2d",column_name:"is_reply_to_id",column_comment:"",order:3,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"원본 댓글 아이디",is_unique_index:!1,show_column:!0},{column_guid:"e3864931-5a06-06b6-e22f-e674873f84dd",column_name:"comment",column_comment:"",order:4,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TEXT",is_null:!1,column_default_value:"",column_logical_name:"댓글 내용",is_unique_index:!1,show_column:!0},{column_id:0,column_guid:"9487e660-1481-48ca-2ba7-b6fa9c400772",order:5,column_name:"user_id",is_primary_key:!1,auto_increment:!1,is_foreign_key:!0,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"회원 아이디",is_unique_index:!1,show_column:!0},{column_id:0,column_guid:"83258eab-4df7-c2fd-af60-edae81ccbd70",order:6,column_name:"mark_read",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TINYINT(1)",is_null:!0,column_default_value:"",column_logical_name:"읽음 표시",is_unique_index:!1,show_column:!0},{column_id:0,column_guid:"75d33954-11b4-1d86-b613-df17dd90453b",order:7,column_name:"enabled",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TINYINT(1)",is_null:!1,column_default_value:"",column_logical_name:"활성화 여부",is_unique_index:!1,show_column:!0},{column_id:0,column_guid:"663f1ef6-f10c-d548-0b3c-4a704b3c3ea7",order:8,column_name:"date",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TIMESTAMP",is_null:!0,column_default_value:"",column_logical_name:"등록일",is_unique_index:!1,show_column:!0}],join_list:[{join_name:"FK_blog_comment_user_id_blog_user_id",join_type:2,foreign_table_guid:"9f37cc5d-c68c-4793-982e-2b75f0ed36fc",foreign_table_name:"blog_comment",foreign_key_column_guid:"9487e660-1481-48ca-2ba7-b6fa9c400772",foreign_key_name:"user_id",references_table_guid:"2d52466a-d2d1-9264-75c0-3b2fd1653ee0",references_table_name:"blog_user",references_key_column_guid:"d50df6e7-2fda-9530-5efc-815354fea24f",references_key_name:"id"},{join_name:"FK_blog_comment_post_id_blog_post_id",join_type:2,foreign_table_guid:"9f37cc5d-c68c-4793-982e-2b75f0ed36fc",foreign_table_name:"blog_comment",foreign_key_column_guid:"2b7ce48b-2db5-7d6f-3de0-6a5d1f00a9ac",foreign_key_name:"post_id",references_table_guid:"c9df3eee-acff-95b4-e3be-959c46e2c70e",references_table_name:"blog_post",references_key_column_guid:"e6b6cb5b-0293-504a-5c81-bb843e94d4c5",references_key_name:"id"}],$$hashKey:"object:1142",index_list:[{index_name:"blog_comment_Index_1",index_column_comment:"id",index_column_list:[{column_guid:"2a9001ce-40a3-d889-32a6-9fafbf8a8c6c",column_name:"id"}]},{index_name:"blog_comment_Index_2",index_column_comment:"post_id",index_column_list:[{column_guid:"2b7ce48b-2db5-7d6f-3de0-6a5d1f00a9ac",column_name:"post_id"}]},{index_name:"blog_comment_Index_3",index_column_comment:"user_id",index_column_list:[{column_guid:"9487e660-1481-48ca-2ba7-b6fa9c400772",column_name:"user_id"}]}],show_comment:!1,tableNameWidth:279,table_logical_name:"댓글",database_guid:"854ef5cd-1995-8d3c-268b-41f51b59272f",show_column_order:!1,order_width:45,show_only_important_columns_for_table:!1,table_header_color:"#5EAEC9"},{table_guid:"8b34218e-bfb9-7254-3e72-893ef5045cac",table_name:"blog_tag",table_comment:"",table_short_name:"",position_x:815,position_y:258,column_list:[{column_guid:"887d1939-bad8-f493-308c-bea303ce2228",column_name:"id",column_comment:"",order:1,is_primary_key:!0,auto_increment:!0,is_foreign_key:!1,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"테그 아이디",is_unique_index:!1,show_column:!0},{column_guid:"1bdc5b89-8423-8ca2-c38d-29abfc0f771f",column_name:"post_id",column_comment:"",order:2,is_primary_key:!1,auto_increment:!1,is_foreign_key:!0,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"게시글 아이디",is_unique_index:!1,show_column:!0},{column_guid:"bd0fbcce-ffb9-82a1-64ba-224504f7ea62",column_name:"tag",column_comment:"",order:3,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!1,column_default_value:"",column_logical_name:"테그 내용",is_unique_index:!1,show_column:!0},{column_guid:"55150a4a-d0cf-3367-a4e2-ea72cd8acdcc",column_name:"tag_clean",column_comment:"",order:4,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!1,column_default_value:"",column_logical_name:"수정된 태그 내용",is_unique_index:!1,show_column:!0}],join_list:[{join_name:"FK_blog_tag_post_id_blog_post_id",join_type:2,foreign_table_guid:"8b34218e-bfb9-7254-3e72-893ef5045cac",foreign_table_name:"blog_tag",foreign_key_column_guid:"1bdc5b89-8423-8ca2-c38d-29abfc0f771f",foreign_key_name:"post_id",references_table_guid:"c9df3eee-acff-95b4-e3be-959c46e2c70e",references_table_name:"blog_post",references_key_column_guid:"e6b6cb5b-0293-504a-5c81-bb843e94d4c5",references_key_name:"id"}],$$hashKey:"object:1666",index_list:[{index_name:"blog_tag_Index_1",index_column_comment:"id",index_column_list:[{column_guid:"887d1939-bad8-f493-308c-bea303ce2228",column_name:"id"}]},{index_name:"blog_tag_Index_2",index_column_comment:"post_id",index_column_list:[{column_guid:"1bdc5b89-8423-8ca2-c38d-29abfc0f771f",column_name:"post_id"}]},{index_name:"blog_tag_Index_3",index_column_comment:"tag_clean",index_column_list:[{column_guid:"55150a4a-d0cf-3367-a4e2-ea72cd8acdcc",column_name:"tag_clean"}]}],show_comment:!1,tableNameWidth:279,table_logical_name:"테그",database_guid:"854ef5cd-1995-8d3c-268b-41f51b59272f",show_column_order:!1,order_width:45,show_only_important_columns_for_table:!1,table_header_color:"#5EAEC9"},{table_guid:"7cba9016-4a2d-ef63-cbc0-9989b550529d",table_name:"blog_related",table_comment:"게시글과 연결된 다른 게시글",table_short_name:"",position_x:815,position_y:472,column_list:[{column_guid:"368a9938-8115-7996-4ec5-467d396612d4",column_name:"blog_post_id",column_comment:"",order:1,is_primary_key:!0,auto_increment:!1,is_foreign_key:!0,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"게시글 아이디",is_unique_index:!1,show_column:!0},{column_guid:"3ee2624e-8ed5-d2fb-edee-4a4f1d62c3c4",column_name:"blog_related_post_id",column_comment:"",order:2,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"INT",is_null:!0,column_default_value:"",column_logical_name:"연결된 게시글 아이디",is_unique_index:!1,show_column:!0}],join_list:[{join_name:"FK_blog_related_blog_post_id_blog_post_id",join_type:2,foreign_table_guid:"7cba9016-4a2d-ef63-cbc0-9989b550529d",foreign_table_name:"blog_related",foreign_key_column_guid:"368a9938-8115-7996-4ec5-467d396612d4",foreign_key_name:"blog_post_id",references_table_guid:"c9df3eee-acff-95b4-e3be-959c46e2c70e",references_table_name:"blog_post",references_key_column_guid:"e6b6cb5b-0293-504a-5c81-bb843e94d4c5",references_key_name:"id"}],$$hashKey:"object:1851",index_list:[{index_name:"blog_related_Index_1",index_column_comment:"blog_post_id",index_column_list:[{column_guid:"368a9938-8115-7996-4ec5-467d396612d4",column_name:"blog_post_id"}]}],show_comment:!1,tableNameWidth:279,table_logical_name:"연결정보",database_guid:"854ef5cd-1995-8d3c-268b-41f51b59272f",show_column_order:!1,order_width:45,show_only_important_columns_for_table:!1,table_header_color:"#5EAEC9"}],memo_list:[{memo_name:"도움말",memo_content:"HELP 메뉴를 클릭해서 도움말을 읽어보시는 것을 추천 드립니다.",position_x:35,position_y:314,width:161,height:107,table_guid:"47a86b39-a839-4d99-ca6a-9c8096b00777"}],view_attributes_info:{isViewPK:!0,isViewAI:!0,isViewFK:!0,isViewNull:!0,isViewComment:!1,isViewName:!0,isViewType:!0,isViewButton:!0,commentWidth:100,nameWidth:129,typeWidth:90,isViewTableComment:!1,isViewTableName:!0,isViewDefaultValue:!1,isViewBottomButton:!0,isTableAutoFit:!1,isViewTableLogicalName:!1,isViewLogicalName:!1,defaultValueWidth:90,logicalNameWidth:100,isViewTypeDic:!0,dicTypeNameWidth:100,isShowOnlyImportantColumnsForERD:!1,isCurveConnectionLine:!0,isViewUQ:!1,isViewColumnOrder:!1},canvasWidth:2688,canvasHeigth:1690,type_dic_list:[],word_dic_list:[],name_dic_list:[],isFirstLoad:!1,canvasHeight:1690,database_info_list:[{database_guid:"e1b4b1ae-9fc7-275f-6459-021a5e4776ec",database_name:"user",database_logical_name:"",database_comment:"",database_table_header_color:"#506c75",database_order:1,is_show_database_table:!0,is_show_database_name_in_table:!1,is_default_database:!1},{database_guid:"854ef5cd-1995-8d3c-268b-41f51b59272f",database_name:"content",database_logical_name:"",database_comment:"",database_table_header_color:"#5EAEC9",database_order:2,is_show_database_table:!0,is_show_database_name_in_table:!1,is_default_database:!1}]}:n=="2"?t={erd_info:{erd_guid:"1edd5311-b8b1-3c1b-93b4-1c57f8a4ba32",erd_name:"Demo Blog Use Dic",db_type:"MySQL",table_count:0,p_type:"N",p_status:"N",erd_saved:!0,readonly_url:"",readonly_url_password:"",is_append_db_name_when_create_sql:!0},table_list:[{table_guid:"d7fadb10-3914-6ed7-661a-f41331787fe3",table_name:"blog_category",table_comment:"",table_short_name:"b1",position_x:631,position_y:100,column_list:[{column_guid:"1f2a3da4-d774-059b-d9db-4ba962f27bff",column_name:"category_id",column_comment:"",order:1,is_primary_key:!0,auto_increment:!0,is_foreign_key:!1,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"카테고리 아이디",name_dic:{column_guid:"617de2cf-cf5a-7312-41f5-f4ee4d37c631",order:5,logical_name:"카테고리 아이디",physical_name:"category_id",column_logical_name:"[용어사전1]카테고리 아이디",column_name:"[용어사전1]category_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"9e0b23b7-e886-6035-b187-be15ea416b07",order:5,logical_name:"카테고리",physical_name:"category",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c",type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT"}},show_column:!0,type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"},is_unique_index:!1},{column_guid:"eb2fb8b3-d534-a728-236e-c40ebefaefc0",column_name:"category_name",column_comment:"",order:2,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!1,column_default_value:"",column_logical_name:"카테고리 이름",name_dic:{column_guid:"4a8225f4-75c0-37c3-d9ca-ac2839160067",order:6,logical_name:"카테고리 이름",physical_name:"category_name",column_logical_name:"[용어사전1]카테고리 이름",column_name:"[용어사전1]category_name",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"9e0b23b7-e886-6035-b187-be15ea416b07",order:5,logical_name:"카테고리",physical_name:"category",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"a052b672-1d17-0a78-605e-0b4a1eb37ad7",order:4,logical_name:"이름",physical_name:"name",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46",type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)"}},show_column:!0,type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"},is_unique_index:!1},{column_guid:"790ac5d8-b41c-ab43-6bf2-85e7f42bc2ec",column_name:"clean_category_name",column_comment:"",order:3,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!0,column_default_value:"",column_logical_name:"다듬어진 카테고리 이름",name_dic:{column_guid:"6b778b43-6991-fa39-3ac0-2e8490e66e09",order:7,logical_name:"다듬어진 카테고리 이름",physical_name:"clean_category_name",column_logical_name:"[용어사전1]다듬어진 카테고리 이름",column_name:"[용어사전1]clean_category_name",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"bb6f845a-bfd8-0c07-382e-23e02e873aae",order:6,logical_name:"다듬어진",physical_name:"clean",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"9e0b23b7-e886-6035-b187-be15ea416b07",order:5,logical_name:"카테고리",physical_name:"category",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"a052b672-1d17-0a78-605e-0b4a1eb37ad7",order:4,logical_name:"이름",physical_name:"name",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46",type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)"}},show_column:!0,type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"},is_unique_index:!1},{column_guid:"e95db264-6a59-e7b6-3a43-fa891e8188ba",column_name:"use_enabled",column_comment:"",order:4,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TINYINT",is_null:!1,column_default_value:"",column_logical_name:"사용 가능여부",name_dic:{column_guid:"add2669d-e3ac-c9be-50ab-315fa703fd48",order:8,logical_name:"사용 가능여부",physical_name:"use_enabled",column_logical_name:"[용어사전1]사용 가능여부",column_name:"[용어사전1]use_enabled",logical_name_err:!1,physical_name_err:!1,type:"TINYINT",name_comment:"",word_list:[{column_guid:"0c09c91b-4ee9-5571-757a-f12490331e3c",order:29,logical_name:"사용",physical_name:"use",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"5ac75079-6bc5-0b97-6b56-662498ffc547",order:7,logical_name:"가능여부",physical_name:"enabled",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6",type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT"}},show_column:!0,type_dic:{type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT",column_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6"},is_unique_index:!1},{column_id:0,column_guid:"da05b1b3-e017-6a5c-ad29-1e1799210c10",order:5,column_name:"reg_dt",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TIMESTAMP",is_null:!0,column_default_value:"",column_logical_name:"등록 날짜",name_dic:{column_guid:"d3cdbd18-58f9-1c36-12e0-b0071e388214",order:18,logical_name:"등록 날짜",physical_name:"reg_dt",column_logical_name:"[용어사전1]등록 날짜",column_name:"[용어사전1]reg_dt",logical_name_err:!1,physical_name_err:!1,type:"TIMESTAMP",name_comment:"",word_list:[{column_guid:"c6fe7f65-6089-d3ea-cde8-a3fdf15778e4",order:8,logical_name:"등록",physical_name:"reg",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"378b4693-0ba4-e314-029e-6f26f8a7a38d",order:9,logical_name:"날짜",physical_name:"dt",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"989c81a7-89be-3e81-b8ee-1eadb4cd40ef",type_name:"날짜",type_display_name:"[타입사전1] 날짜",type:"TIMESTAMP"}},show_column:!0,type_dic:{type_name:"날짜",type_display_name:"[타입사전1] 날짜",type:"TIMESTAMP",column_guid:"989c81a7-89be-3e81-b8ee-1eadb4cd40ef"},is_unique_index:!1}],join_list:[],$$hashKey:"object:36",index_list:[{index_name:"blog_category_Index_1",index_column_comment:"category_id",index_column_list:[{column_guid:"1f2a3da4-d774-059b-d9db-4ba962f27bff",column_name:"category_id"}]},{index_name:"blog_category_Index_2",index_column_comment:"clean_category_name",index_column_list:[{column_guid:"790ac5d8-b41c-ab43-6bf2-85e7f42bc2ec",column_name:"clean_category_name"}]}],show_comment:!1,tableNameWidth:485,table_logical_name:"카테고리",is_selected_table:!0,show_only_important_columns_for_table:!1,database_guid:"e0dbac6b-b5a0-a025-1c8f-0b5d758ae1da",show_column_order:!1,order_width:45,table_header_color:"#5EAEC9"},{table_guid:"7faba608-e1c2-cf04-c9d4-35390c047393",table_name:"blog_author",table_comment:"저자에 관한 정보를 저장하는 테이블",table_short_name:"b1",position_x:35,position_y:100,column_list:[{column_guid:"ea7dbde6-02ed-4414-656b-9719fea45da5",column_name:"author_id",column_comment:"아이디는 번호로 구성",order:1,is_primary_key:!0,auto_increment:!0,is_foreign_key:!1,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"저자 아이디",name_dic:{column_guid:"71dd4699-b975-4db6-ecd5-dfb54a1be58a",order:1,logical_name:"저자 아이디",physical_name:"author_id",column_logical_name:"[용어사전1]저자 아이디",column_name:"[용어사전1]author_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"4e2415d9-e5ef-2187-a53f-a782e1b6bfe5",order:1,logical_name:"저자",physical_name:"author",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c",type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT"}},show_column:!0,type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"},is_unique_index:!1},{column_guid:"14efacde-6d2b-7f9f-7191-8706ad699575",column_name:"display_name",column_comment:"실제 이름이 아니라 닉네임 같은 이름",order:2,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!1,column_default_value:"",column_logical_name:"보여지는 이름",name_dic:{column_guid:"28e18438-6021-4a29-d147-1c84b24ba07b",order:2,logical_name:"보여지는 이름",physical_name:"display_name",column_logical_name:"[용어사전1]보여지는 이름",column_name:"[용어사전1]display_name",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"f9ca8889-3991-0247-85f4-50465552ee88",order:3,logical_name:"보여지는",physical_name:"display",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1},{column_guid:"a052b672-1d17-0a78-605e-0b4a1eb37ad7",order:4,logical_name:"이름",physical_name:"name",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46",type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)"}},show_column:!0,type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"},is_unique_index:!1},{column_guid:"9796812d-1373-19c1-311a-b6abb5cabf08",column_name:"first_name",column_comment:"실제 이름",order:3,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!0,column_default_value:"",column_logical_name:"첫번째 이름",name_dic:{column_guid:"10b5cbe8-9248-da3b-9dfd-40bb8367de15",order:3,logical_name:"첫번째 이름",physical_name:"first_name",column_logical_name:"[용어사전1]첫번째 이름",column_name:"[용어사전1]first_name",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"3bd8299b-9310-e857-64a0-f3dd55dcbacc",order:27,logical_name:"첫번째",physical_name:"first",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"a052b672-1d17-0a78-605e-0b4a1eb37ad7",order:4,logical_name:"이름",physical_name:"name",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46",type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)"}},show_column:!0,type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"},is_unique_index:!1},{column_guid:"cea594a6-9360-ca89-3fd2-78c2f286e39a",column_name:"last_name",column_comment:"실제 이름",order:4,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!0,column_default_value:"",column_logical_name:"마지막 이름",name_dic:{column_guid:"00c81fd2-52dc-7ce4-132d-b3485bd6d414",order:4,logical_name:"마지막 이름",physical_name:"last_name",column_logical_name:"[용어사전1]마지막 이름",column_name:"[용어사전1]last_name",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"af4b506c-ba9d-9396-95c6-bee0d642d676",order:28,logical_name:"마지막",physical_name:"last",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"a052b672-1d17-0a78-605e-0b4a1eb37ad7",order:4,logical_name:"이름",physical_name:"name",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46",type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)"}},show_column:!0,type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"},is_unique_index:!1}],join_list:[],$$hashKey:"object:360",index_list:[{index_name:"blog_author_Index_1",index_column_comment:"author_id",index_column_list:[{column_guid:"ea7dbde6-02ed-4414-656b-9719fea45da5",column_name:"author_id"}]},{index_name:"blog_author_Index_2",index_column_comment:"display_name",index_column_list:[{column_guid:"14efacde-6d2b-7f9f-7191-8706ad699575",column_name:"display_name"}]}],is_selected_table:!0,show_comment:!1,tableNameWidth:485,table_logical_name:"저자",show_only_important_columns_for_table:!1,database_guid:"e0dbac6b-b5a0-a025-1c8f-0b5d758ae1da",show_column_order:!1,order_width:45,table_header_color:"#5EAEC9"},{table_guid:"c9df3eee-acff-95b4-e3be-959c46e2c70e",table_name:"blog_post",table_comment:"",table_short_name:"b2",position_x:631,position_y:372,column_list:[{column_guid:"e6b6cb5b-0293-504a-5c81-bb843e94d4c5",column_name:"post_id",column_comment:"",order:1,is_primary_key:!0,auto_increment:!0,is_foreign_key:!1,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"게시글 아이디",name_dic:{column_guid:"c7dde015-e399-6a91-5d50-a416cd840b0e",order:9,logical_name:"게시글 아이디",physical_name:"post_id",column_logical_name:"[용어사전1]게시글 아이디",column_name:"[용어사전1]post_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"242ce57d-b6e0-61c7-4e36-02e8c534985b",order:10,logical_name:"게시글",physical_name:"post",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c",type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT"}},show_column:!0,type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"},is_unique_index:!1},{column_guid:"164607cf-2717-840c-44bb-60494b7d5b6a",column_name:"post_title",column_comment:"",order:2,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(144)",is_null:!1,column_default_value:"",column_logical_name:"게시글 제목",name_dic:{column_guid:"5f45a5ec-50d5-9b27-8afe-723c8cd3427c",order:10,logical_name:"게시글 제목",physical_name:"post_title",column_logical_name:"[용어사전1]게시글 제목",column_name:"[용어사전1]post_title",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(144)",name_comment:"",word_list:[{column_guid:"242ce57d-b6e0-61c7-4e36-02e8c534985b",order:10,logical_name:"게시글",physical_name:"post",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"af5b81cd-fb86-bb49-1490-92344a696024",order:11,logical_name:"제목",physical_name:"title",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"ae7c54cb-a6d1-4e59-821e-32723991d02e",type_name:"제목",type_display_name:"[타입사전1] 제목",type:"VARCHAR(144)"}},show_column:!0,type_dic:{type_name:"제목",type_display_name:"[타입사전1] 제목",type:"VARCHAR(144)",column_guid:"ae7c54cb-a6d1-4e59-821e-32723991d02e"},is_unique_index:!1},{column_guid:"09ece48e-e628-9f3e-ae5a-e0e0a432b759",column_name:"post_content",column_comment:"",order:3,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TEXT",is_null:!0,column_default_value:"",column_logical_name:"게시글 내용",name_dic:{column_guid:"58259f71-a0cd-ac5c-ac93-a55e20426776",order:11,logical_name:"게시글 내용",physical_name:"post_content",column_logical_name:"[용어사전1]게시글 내용",column_name:"[용어사전1]post_content",logical_name_err:!1,physical_name_err:!1,type:"TEXT",name_comment:"",word_list:[{column_guid:"242ce57d-b6e0-61c7-4e36-02e8c534985b",order:10,logical_name:"게시글",physical_name:"post",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"df2b556b-b8f6-3e01-861e-005c6ba0d074",order:30,logical_name:"내용",physical_name:"content",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"6112738b-c5a5-bc4b-e630-0e097f92a098",type_name:"내용",type_display_name:"[타입사전1] 내용",type:"TEXT"}},show_column:!0,type_dic:{type_name:"내용",type_display_name:"[타입사전1] 내용",type:"TEXT",column_guid:"6112738b-c5a5-bc4b-e630-0e097f92a098"},is_unique_index:!1},{column_guid:"bd053a32-4a4a-d238-4fb2-92b6fb53a66b",column_name:"clean_post_title",column_comment:"",order:4,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(144)",is_null:!0,column_default_value:"",column_logical_name:"다듬어진 게시글 제목",name_dic:{column_guid:"6644601a-5db7-2c49-68c2-d2bdf808a897",order:12,logical_name:"다듬어진 게시글 제목",physical_name:"clean_post_title",column_logical_name:"[용어사전1]다듬어진 게시글 제목",column_name:"[용어사전1]clean_post_title",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(144)",name_comment:"",word_list:[{column_guid:"bb6f845a-bfd8-0c07-382e-23e02e873aae",order:6,logical_name:"다듬어진",physical_name:"clean",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"242ce57d-b6e0-61c7-4e36-02e8c534985b",order:10,logical_name:"게시글",physical_name:"post",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"af5b81cd-fb86-bb49-1490-92344a696024",order:11,logical_name:"제목",physical_name:"title",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"ae7c54cb-a6d1-4e59-821e-32723991d02e",type_name:"제목",type_display_name:"[타입사전1] 제목",type:"VARCHAR(144)"}},show_column:!0,type_dic:{type_name:"제목",type_display_name:"[타입사전1] 제목",type:"VARCHAR(144)",column_guid:"ae7c54cb-a6d1-4e59-821e-32723991d02e"},is_unique_index:!1},{column_id:0,column_guid:"ae2560a4-3cc5-86d7-ffec-8d4e40515545",order:5,column_name:"file",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!0,column_default_value:"",column_logical_name:"파일",name_dic:{column_guid:"2aab5c01-715d-1d45-cb3f-31881928fe6c",order:13,logical_name:"파일",physical_name:"file",column_logical_name:"[용어사전1]파일",column_name:"[용어사전1]file",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"27f59554-81e8-7c60-cf66-b5a736672dd7",order:12,logical_name:"파일",physical_name:"file",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"1593bb60-292f-f6f1-e414-7c88938fc3b4",type_name:"파일",type_display_name:"[타입사전1] 파일",type:"VARCHAR(45)"}},show_column:!0,type_dic:{type_name:"파일",type_display_name:"[타입사전1] 파일",type:"VARCHAR(45)",column_guid:"1593bb60-292f-f6f1-e414-7c88938fc3b4"},is_unique_index:!1},{column_id:0,column_guid:"3e3defe7-1061-d745-0227-c92d6bf273b9",order:6,column_name:"author_id",is_primary_key:!1,auto_increment:!1,is_foreign_key:!0,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"저자 아이디",name_dic:{column_guid:"71dd4699-b975-4db6-ecd5-dfb54a1be58a",order:1,logical_name:"저자 아이디",physical_name:"author_id",column_logical_name:"[용어사전1]저자 아이디",column_name:"[용어사전1]author_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"4e2415d9-e5ef-2187-a53f-a782e1b6bfe5",order:1,logical_name:"저자",physical_name:"author",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c",type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT"}},show_column:!0,type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"},is_unique_index:!1},{column_id:0,column_guid:"fc11168f-fbf8-26c9-0b47-4460245a8d7b",order:7,column_name:"published_dt",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TIMESTAMP",is_null:!1,column_default_value:"",column_logical_name:"공개 날짜",name_dic:{column_guid:"8bc38e98-ea28-5133-b655-1e7830ebecfc",order:14,logical_name:"공개 날짜",physical_name:"published_dt",column_logical_name:"[용어사전1]공개 날짜",column_name:"[용어사전1]published_dt",logical_name_err:!1,physical_name_err:!1,type:"TIMESTAMP",name_comment:"",word_list:[{column_guid:"d42799c7-d7df-a089-f50f-7b6a03c04741",order:13,logical_name:"공개",physical_name:"published",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"378b4693-0ba4-e314-029e-6f26f8a7a38d",order:9,logical_name:"날짜",physical_name:"dt",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"989c81a7-89be-3e81-b8ee-1eadb4cd40ef",type_name:"날짜",type_display_name:"[타입사전1] 날짜",type:"TIMESTAMP"}},show_column:!0,type_dic:{type_name:"날짜",type_display_name:"[타입사전1] 날짜",type:"TIMESTAMP",column_guid:"989c81a7-89be-3e81-b8ee-1eadb4cd40ef"},is_unique_index:!1},{column_id:0,column_guid:"0e9fc97d-835c-9c24-339b-198f3ad6709c",order:8,column_name:"banner_image",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(144)",is_null:!0,column_default_value:"",column_logical_name:"광고 이미지",name_dic:{column_guid:"2ee8dcca-bee5-4124-5df8-d9aec502e5f1",order:15,logical_name:"광고 이미지",physical_name:"banner_image",column_logical_name:"[용어사전1]광고 이미지",column_name:"[용어사전1]banner_image",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(144)",name_comment:"",word_list:[{column_guid:"229645aa-f490-576e-888c-150327a874ca",order:14,logical_name:"광고",physical_name:"banner",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"701e6105-f5cc-578b-6022-7b7fcdd27e35",order:15,logical_name:"이미지",physical_name:"image",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"ae7c54cb-a6d1-4e59-821e-32723991d02e",type_name:"제목",type_display_name:"[타입사전1] 제목",type:"VARCHAR(144)"}},show_column:!0,type_dic:{type_name:"제목",type_display_name:"[타입사전1] 제목",type:"VARCHAR(144)",column_guid:"ae7c54cb-a6d1-4e59-821e-32723991d02e"},is_unique_index:!1},{column_id:0,column_guid:"518a80d0-616a-b22e-b02c-3a51ce13689e",order:9,column_name:"featured",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TINYINT",is_null:!1,column_default_value:"",column_logical_name:"특징",name_dic:{column_guid:"b2408d54-bfeb-2572-a62d-0871910e7f29",order:16,logical_name:"특징",physical_name:"featured",column_logical_name:"[용어사전1]특징",column_name:"[용어사전1]featured",logical_name_err:!1,physical_name_err:!1,type:"TINYINT",name_comment:"",word_list:[{column_guid:"da33883e-a042-56a5-1361-231f144752f9",order:16,logical_name:"특징",physical_name:"featured",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6",type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT"}},show_column:!0,type_dic:{type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT",column_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6"},is_unique_index:!1},{column_id:0,column_guid:"131c3965-c711-c7e6-5393-e08de194375a",order:10,column_name:"use_enabled",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TINYINT",is_null:!1,column_default_value:"",column_logical_name:"사용 가능여부",name_dic:{column_guid:"add2669d-e3ac-c9be-50ab-315fa703fd48",order:8,logical_name:"사용 가능여부",physical_name:"use_enabled",column_logical_name:"[용어사전1]사용 가능여부",column_name:"[용어사전1]use_enabled",logical_name_err:!1,physical_name_err:!1,type:"TINYINT",name_comment:"",word_list:[{column_guid:"0c09c91b-4ee9-5571-757a-f12490331e3c",order:29,logical_name:"사용",physical_name:"use",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"5ac75079-6bc5-0b97-6b56-662498ffc547",order:7,logical_name:"가능여부",physical_name:"enabled",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6",type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT"}},show_column:!0,type_dic:{type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT",column_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6"},is_unique_index:!1},{column_id:0,column_guid:"e38d5ae2-7a16-7274-01d7-ce48eddbda07",order:11,column_name:"comments_enabled",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TINYINT",is_null:!1,column_default_value:"",column_logical_name:"댓글 가능여부",name_dic:{column_guid:"da202216-1ca8-9595-4f1f-19ab080cd5d3",order:17,logical_name:"댓글 가능여부",physical_name:"comments_enabled",column_logical_name:"[용어사전1]댓글 가능여부",column_name:"[용어사전1]comments_enabled",logical_name_err:!1,physical_name_err:!1,type:"TINYINT",name_comment:"",word_list:[{column_guid:"85c98064-8d5d-3dad-3203-c0411bb58ea5",order:17,logical_name:"댓글",physical_name:"comments",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"5ac75079-6bc5-0b97-6b56-662498ffc547",order:7,logical_name:"가능여부",physical_name:"enabled",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6",type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT"}},show_column:!0,type_dic:{type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT",column_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6"},is_unique_index:!1},{column_id:0,column_guid:"b02546c8-9e61-be59-9a35-e91f86f1e410",order:12,column_name:"views",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"읽은횟수",name_dic:{column_guid:"e765dcd1-cd0d-6656-4959-64ca4d5e8e1e",order:19,logical_name:"읽은횟수",physical_name:"views",column_logical_name:"[용어사전1]읽은횟수",column_name:"[용어사전1]views",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"a5575709-baf6-2341-5690-32c526763315",order:18,logical_name:"읽은횟수",physical_name:"views",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"532442df-78b6-9d67-1f13-bd0ea495cfa0",type_name:"횟수",type_display_name:"[타입사전1] 횟수",type:"INT"}},show_column:!0,type_dic:{type_name:"횟수",type_display_name:"[타입사전1] 횟수",type:"INT",column_guid:"532442df-78b6-9d67-1f13-bd0ea495cfa0"},is_unique_index:!1}],join_list:[{join_name:"FK_blog_post_author_id_blog_author_author_id",join_type:2,foreign_table_guid:"c9df3eee-acff-95b4-e3be-959c46e2c70e",foreign_table_name:"blog_post",foreign_key_column_guid:"3e3defe7-1061-d745-0227-c92d6bf273b9",foreign_key_name:"author_id",references_table_guid:"7faba608-e1c2-cf04-c9d4-35390c047393",references_table_name:"blog_author",references_key_column_guid:"ea7dbde6-02ed-4414-656b-9719fea45da5",references_key_name:"author_id"}],$$hashKey:"object:497",index_list:[{index_name:"blog_post_Index_2",index_column_comment:"author_id",index_column_list:[{column_guid:"3e3defe7-1061-d745-0227-c92d6bf273b9",column_name:"author_id"}]},{index_name:"blog_post_Index_3",index_column_comment:"clean_post_title",index_column_list:[{column_guid:"bd053a32-4a4a-d238-4fb2-92b6fb53a66b",column_name:"clean_post_title"}]},{index_name:"blog_post_Index_1",index_column_comment:"post_id",index_column_list:[{column_guid:"e6b6cb5b-0293-504a-5c81-bb843e94d4c5",column_name:"post_id"}]}],show_comment:!1,is_selected_table:!1,tableNameWidth:485,table_logical_name:"게시글",show_only_important_columns_for_table:!1,database_guid:"e0dbac6b-b5a0-a025-1c8f-0b5d758ae1da",show_column_order:!1,order_width:45,table_header_color:"#5EAEC9"},{table_guid:"c17c8f75-d781-83ae-640d-8a3927a01b2b",table_name:"blog_post_to_category",table_comment:"",table_short_name:"b2",position_x:1227,position_y:100,column_list:[{column_guid:"bc97ef2e-21a1-f22d-69cd-751b964c9cdf",column_name:"category_id",column_comment:"",order:1,is_primary_key:!0,auto_increment:!1,is_foreign_key:!0,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"카테고리 아이디",name_dic:{column_guid:"617de2cf-cf5a-7312-41f5-f4ee4d37c631",order:5,logical_name:"카테고리 아이디",physical_name:"category_id",column_logical_name:"[용어사전1]카테고리 아이디",column_name:"[용어사전1]category_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"9e0b23b7-e886-6035-b187-be15ea416b07",order:5,logical_name:"카테고리",physical_name:"category",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c",type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT"}},show_column:!0,type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"},is_unique_index:!1},{column_guid:"b3f9dbbd-d050-12cf-edd8-10cab9d2a8da",column_name:"post_id",column_comment:"",order:2,is_primary_key:!0,auto_increment:!1,is_foreign_key:!0,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"게시글 아이디",name_dic:{column_guid:"c7dde015-e399-6a91-5d50-a416cd840b0e",order:9,logical_name:"게시글 아이디",physical_name:"post_id",column_logical_name:"[용어사전1]게시글 아이디",column_name:"[용어사전1]post_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"242ce57d-b6e0-61c7-4e36-02e8c534985b",order:10,logical_name:"게시글",physical_name:"post",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c",type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT"}},show_column:!0,type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"},is_unique_index:!1}],join_list:[{join_name:"FK_blog_post_to_category_category_id_blog_category_category_id",join_type:2,foreign_table_guid:"c17c8f75-d781-83ae-640d-8a3927a01b2b",foreign_table_name:"blog_post_to_category",foreign_key_column_guid:"bc97ef2e-21a1-f22d-69cd-751b964c9cdf",foreign_key_name:"category_id",references_table_guid:"d7fadb10-3914-6ed7-661a-f41331787fe3",references_table_name:"blog_category",references_key_column_guid:"1f2a3da4-d774-059b-d9db-4ba962f27bff",references_key_name:"category_id"},{join_name:"FK_blog_post_to_category_post_id_blog_post_post_id",join_type:2,foreign_table_guid:"c17c8f75-d781-83ae-640d-8a3927a01b2b",foreign_table_name:"blog_post_to_category",foreign_key_column_guid:"b3f9dbbd-d050-12cf-edd8-10cab9d2a8da",foreign_key_name:"post_id",references_table_guid:"c9df3eee-acff-95b4-e3be-959c46e2c70e",references_table_name:"blog_post",references_key_column_guid:"e6b6cb5b-0293-504a-5c81-bb843e94d4c5",references_key_name:"post_id"}],$$hashKey:"object:798",index_list:[{index_name:"blog_post_to_category_Index_1",index_column_comment:"category_id",index_column_list:[{column_guid:"bc97ef2e-21a1-f22d-69cd-751b964c9cdf",column_name:"category_id"}]},{index_name:"blog_post_to_category_Index_2",index_column_comment:"post_id",index_column_list:[{column_guid:"b3f9dbbd-d050-12cf-edd8-10cab9d2a8da",column_name:"post_id"}]}],show_comment:!1,tableNameWidth:485,table_logical_name:"게시글 카테고리",is_selected_table:!1,show_only_important_columns_for_table:!1,database_guid:"e0dbac6b-b5a0-a025-1c8f-0b5d758ae1da",show_column_order:!1,order_width:45,table_header_color:"#5EAEC9"},{table_guid:"2d52466a-d2d1-9264-75c0-3b2fd1653ee0",table_name:"blog_user",table_comment:"",table_short_name:"",position_x:631,position_y:840,column_list:[{column_guid:"d50df6e7-2fda-9530-5efc-815354fea24f",column_name:"user_id",column_comment:"",order:1,is_primary_key:!0,auto_increment:!0,is_foreign_key:!1,type:"INT",is_null:!0,column_default_value:"",column_logical_name:"회원 아이디",name_dic:{column_guid:"eeb90407-b1dc-2a76-d06b-a7adb07678d0",order:20,logical_name:"회원 아이디",physical_name:"user_id",column_logical_name:"[용어사전1]회원 아이디",column_name:"[용어사전1]user_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"12cd5023-d23a-12fc-72ec-d76f90e6794b",order:19,logical_name:"회원",physical_name:"user",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c",type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT"}},show_column:!0,type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"},is_unique_index:!1},{column_guid:"9db858e9-b582-f984-463e-bb449cf46ac1",column_name:"user_name",column_comment:"",order:2,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!0,column_default_value:"",column_logical_name:"회원 이름",name_dic:{column_guid:"d23b4a80-a26d-f622-2ce7-c42664b309a9",order:21,logical_name:"회원 이름",physical_name:"user_name",column_logical_name:"[용어사전1]회원 이름",column_name:"[용어사전1]user_name",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"12cd5023-d23a-12fc-72ec-d76f90e6794b",order:19,logical_name:"회원",physical_name:"user",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"a052b672-1d17-0a78-605e-0b4a1eb37ad7",order:4,logical_name:"이름",physical_name:"name",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46",type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)"}},show_column:!0,type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"},is_unique_index:!1},{column_guid:"98ead381-f17f-8ff4-badf-c49e74e8ca95",column_name:"user_email",column_comment:"",order:3,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!0,column_default_value:"",column_logical_name:"회원 이메일",name_dic:{column_guid:"7f22d42f-c05e-eabf-f295-e5c85d11681c",order:22,logical_name:"회원 이메일",physical_name:"user_email",column_logical_name:"[용어사전1]회원 이메일주소",column_name:"[용어사전1]user_email",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"12cd5023-d23a-12fc-72ec-d76f90e6794b",order:19,logical_name:"회원",physical_name:"user",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"8dae7bb9-bdaa-8eb1-cfd2-79e76f9c7e91",order:20,logical_name:"이메일",physical_name:"email",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46",type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)"}},show_column:!0,type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"},is_unique_index:!1},{column_guid:"7bcbb08c-b7d2-de65-d3f3-58cb6920ccfb",column_name:"website",column_comment:"",order:4,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!0,column_default_value:"",column_logical_name:"웹사이트",name_dic:{column_guid:"5ea9b6c9-266d-cbed-12d1-93e84614347b",order:23,logical_name:"웹사이트",physical_name:"website",column_logical_name:"[용어사전1]웹사이트",column_name:"[용어사전1]website",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"0fd0ce32-d2a3-db28-f523-d7502d671eb0",order:21,logical_name:"웹사이트",physical_name:"website",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46",type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)"}},show_column:!0,type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"},is_unique_index:!1}],join_list:[],$$hashKey:"object:971",index_list:[{index_name:"blog_user_Index_2",index_column_comment:"user_email",index_column_list:[{column_guid:"98ead381-f17f-8ff4-badf-c49e74e8ca95",column_name:"user_email"}]},{index_name:"blog_user_Index_1",index_column_comment:"user_id",index_column_list:[{column_guid:"d50df6e7-2fda-9530-5efc-815354fea24f",column_name:"user_id"}]}],show_comment:!1,tableNameWidth:485,table_logical_name:"회원",show_only_important_columns_for_table:!1,database_guid:"e0dbac6b-b5a0-a025-1c8f-0b5d758ae1da",show_column_order:!1,order_width:45,table_header_color:"#5EAEC9"},{table_guid:"9f37cc5d-c68c-4793-982e-2b75f0ed36fc",table_name:"blog_comment",table_comment:"",table_short_name:"",position_x:1227,position_y:720,column_list:[{column_guid:"2a9001ce-40a3-d889-32a6-9fafbf8a8c6c",column_name:"comments_id",column_comment:"",order:1,is_primary_key:!0,auto_increment:!0,is_foreign_key:!1,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"댓글 아이디",name_dic:{column_guid:"77d1879f-d87a-4025-34a2-5273c2b7541e",order:28,logical_name:"댓글 아이디",physical_name:"comments_id",column_logical_name:"[용어사전1]댓글 아이디",column_name:"[용어사전1]comments_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"85c98064-8d5d-3dad-3203-c0411bb58ea5",order:17,logical_name:"댓글",physical_name:"comments",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c",type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT"}},show_column:!0,type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"},is_unique_index:!1},{column_id:0,column_guid:"2b7ce48b-2db5-7d6f-3de0-6a5d1f00a9ac",order:2,column_name:"post_id",is_primary_key:!1,auto_increment:!1,is_foreign_key:!0,type:"INT",is_null:!0,column_default_value:"",column_logical_name:"게시글 아이디",name_dic:{column_guid:"c7dde015-e399-6a91-5d50-a416cd840b0e",order:9,logical_name:"게시글 아이디",physical_name:"post_id",column_logical_name:"[용어사전1]게시글 아이디",column_name:"[용어사전1]post_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"242ce57d-b6e0-61c7-4e36-02e8c534985b",order:10,logical_name:"게시글",physical_name:"post",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c",type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT"}},show_column:!0,type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"},is_unique_index:!1},{column_guid:"e3864931-5a06-06b6-e22f-e674873f84dd",column_name:"comments_content",column_comment:"",order:3,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TEXT",is_null:!1,column_default_value:"",column_logical_name:"댓글 내용",name_dic:{column_guid:"998adbb2-d3eb-3638-3f2b-5e32f146c130",order:29,logical_name:"댓글 내용",physical_name:"comments_content",column_logical_name:"[용어사전1]댓글 내용",column_name:"[용어사전1]comments_content",logical_name_err:!1,physical_name_err:!1,type:"TEXT",name_comment:"",word_list:[{column_guid:"85c98064-8d5d-3dad-3203-c0411bb58ea5",order:17,logical_name:"댓글",physical_name:"comments",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"df2b556b-b8f6-3e01-861e-005c6ba0d074",order:30,logical_name:"내용",physical_name:"content",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"6112738b-c5a5-bc4b-e630-0e097f92a098",type_name:"내용",type_display_name:"[타입사전1] 내용",type:"TEXT"}},show_column:!0,type_dic:{type_name:"내용",type_display_name:"[타입사전1] 내용",type:"TEXT",column_guid:"6112738b-c5a5-bc4b-e630-0e097f92a098"},is_unique_index:!1},{column_id:0,column_guid:"9487e660-1481-48ca-2ba7-b6fa9c400772",order:4,column_name:"user_id",is_primary_key:!1,auto_increment:!1,is_foreign_key:!0,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"회원 아이디",name_dic:{column_guid:"eeb90407-b1dc-2a76-d06b-a7adb07678d0",order:20,logical_name:"회원 아이디",physical_name:"user_id",column_logical_name:"[용어사전1]회원 아이디",column_name:"[용어사전1]user_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"12cd5023-d23a-12fc-72ec-d76f90e6794b",order:19,logical_name:"회원",physical_name:"user",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c",type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT"}},show_column:!0,type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"},is_unique_index:!1},{column_id:0,column_guid:"83258eab-4df7-c2fd-af60-edae81ccbd70",order:5,column_name:"read_mark",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TINYINT",is_null:!0,column_default_value:"",column_logical_name:"읽음 표시",name_dic:{column_guid:"e4db364e-13a7-7f85-175c-5a3397f717c0",order:30,logical_name:"읽음 표시",physical_name:"read_mark",column_logical_name:"[용어사전1]읽음 표시",column_name:"[용어사전1]read_mark",logical_name_err:!1,physical_name_err:!1,type:"TINYINT",name_comment:"",word_list:[{column_guid:"c532053c-a936-baa4-9905-5fe318708686",order:25,logical_name:"읽음",physical_name:"read",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"811be633-add3-bec7-04ef-becaa0f58a27",order:26,logical_name:"표시",physical_name:"mark",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6",type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT"}},show_column:!0,type_dic:{type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT",column_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6"},is_unique_index:!1},{column_id:0,column_guid:"75d33954-11b4-1d86-b613-df17dd90453b",order:6,column_name:"use_enabled",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TINYINT",is_null:!1,column_default_value:"",column_logical_name:"사용 가능여부",name_dic:{column_guid:"add2669d-e3ac-c9be-50ab-315fa703fd48",order:8,logical_name:"사용 가능여부",physical_name:"use_enabled",column_logical_name:"[용어사전1]사용 가능여부",column_name:"[용어사전1]use_enabled",logical_name_err:!1,physical_name_err:!1,type:"TINYINT",name_comment:"",word_list:[{column_guid:"0c09c91b-4ee9-5571-757a-f12490331e3c",order:29,logical_name:"사용",physical_name:"use",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"5ac75079-6bc5-0b97-6b56-662498ffc547",order:7,logical_name:"가능여부",physical_name:"enabled",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6",type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT"}},show_column:!0,type_dic:{type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT",column_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6"},is_unique_index:!1},{column_id:0,column_guid:"663f1ef6-f10c-d548-0b3c-4a704b3c3ea7",order:7,column_name:"reg_dt",is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"TIMESTAMP",is_null:!0,column_default_value:"",column_logical_name:"등록 날짜",name_dic:{column_guid:"d3cdbd18-58f9-1c36-12e0-b0071e388214",order:18,logical_name:"등록 날짜",physical_name:"reg_dt",column_logical_name:"[용어사전1]등록 날짜",column_name:"[용어사전1]reg_dt",logical_name_err:!1,physical_name_err:!1,type:"TIMESTAMP",name_comment:"",word_list:[{column_guid:"c6fe7f65-6089-d3ea-cde8-a3fdf15778e4",order:8,logical_name:"등록",physical_name:"reg",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"378b4693-0ba4-e314-029e-6f26f8a7a38d",order:9,logical_name:"날짜",physical_name:"dt",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"989c81a7-89be-3e81-b8ee-1eadb4cd40ef",type_name:"날짜",type_display_name:"[타입사전1] 날짜",type:"TIMESTAMP"}},show_column:!0,type_dic:{type_name:"날짜",type_display_name:"[타입사전1] 날짜",type:"TIMESTAMP",column_guid:"989c81a7-89be-3e81-b8ee-1eadb4cd40ef"},is_unique_index:!1}],join_list:[{join_name:"FK_blog_comment_user_id_blog_user_user_id",join_type:2,foreign_table_guid:"9f37cc5d-c68c-4793-982e-2b75f0ed36fc",foreign_table_name:"blog_comment",foreign_key_column_guid:"9487e660-1481-48ca-2ba7-b6fa9c400772",foreign_key_name:"user_id",references_table_guid:"2d52466a-d2d1-9264-75c0-3b2fd1653ee0",references_table_name:"blog_user",references_key_column_guid:"d50df6e7-2fda-9530-5efc-815354fea24f",references_key_name:"user_id"},{join_name:"FK_blog_comment_post_id_blog_post_post_id",join_type:2,foreign_table_guid:"9f37cc5d-c68c-4793-982e-2b75f0ed36fc",foreign_table_name:"blog_comment",foreign_key_column_guid:"2b7ce48b-2db5-7d6f-3de0-6a5d1f00a9ac",foreign_key_name:"post_id",references_table_guid:"c9df3eee-acff-95b4-e3be-959c46e2c70e",references_table_name:"blog_post",references_key_column_guid:"e6b6cb5b-0293-504a-5c81-bb843e94d4c5",references_key_name:"post_id"}],$$hashKey:"object:1142",index_list:[{index_name:"blog_comment_Index_1",index_column_comment:"comments_id",index_column_list:[{column_guid:"2a9001ce-40a3-d889-32a6-9fafbf8a8c6c",column_name:"comments_id"}]},{index_name:"blog_comment_Index_2",index_column_comment:"post_id",index_column_list:[{column_guid:"2b7ce48b-2db5-7d6f-3de0-6a5d1f00a9ac",column_name:"post_id"}]},{index_name:"blog_comment_Index_3",index_column_comment:"user_id",index_column_list:[{column_guid:"9487e660-1481-48ca-2ba7-b6fa9c400772",column_name:"user_id"}]}],show_comment:!1,tableNameWidth:485,table_logical_name:"댓글",show_only_important_columns_for_table:!1,database_guid:"e0dbac6b-b5a0-a025-1c8f-0b5d758ae1da",show_column_order:!1,order_width:45,table_header_color:"#5EAEC9"},{table_guid:"8b34218e-bfb9-7254-3e72-893ef5045cac",table_name:"blog_tag",table_comment:"",table_short_name:"",position_x:1227,position_y:288,column_list:[{column_guid:"887d1939-bad8-f493-308c-bea303ce2228",column_name:"tag_id",column_comment:"",order:1,is_primary_key:!0,auto_increment:!0,is_foreign_key:!1,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"태그 아이디",name_dic:{column_guid:"2cbd5f0a-61d2-3cc6-b32f-6c215310e908",order:24,logical_name:"태그 아이디",physical_name:"tag_id",column_logical_name:"[용어사전1]태그 아이디",column_name:"[용어사전1]tag_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"c26cb097-8b8c-6ebd-0f31-f9e9311ed06e",order:23,logical_name:"태그",physical_name:"tag",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c",type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT"}},show_column:!0,type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"},is_unique_index:!1},{column_guid:"1bdc5b89-8423-8ca2-c38d-29abfc0f771f",column_name:"post_id",column_comment:"",order:2,is_primary_key:!1,auto_increment:!1,is_foreign_key:!0,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"게시글 아이디",name_dic:{column_guid:"c7dde015-e399-6a91-5d50-a416cd840b0e",order:9,logical_name:"게시글 아이디",physical_name:"post_id",column_logical_name:"[용어사전1]게시글 아이디",column_name:"[용어사전1]post_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"242ce57d-b6e0-61c7-4e36-02e8c534985b",order:10,logical_name:"게시글",physical_name:"post",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c",type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT"}},show_column:!0,type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"},is_unique_index:!1},{column_guid:"bd0fbcce-ffb9-82a1-64ba-224504f7ea62",column_name:"tag_content",column_comment:"",order:3,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!1,column_default_value:"",column_logical_name:"태그 내용",name_dic:{column_guid:"4b858922-709a-60af-442c-f64f62b33b76",order:25,logical_name:"태그 내용",physical_name:"tag_content",column_logical_name:"[용어사전1]태그 내용",column_name:"[용어사전1]tag_content",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"c26cb097-8b8c-6ebd-0f31-f9e9311ed06e",order:23,logical_name:"태그",physical_name:"tag",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"df2b556b-b8f6-3e01-861e-005c6ba0d074",order:30,logical_name:"내용",physical_name:"content",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46",type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)"}},show_column:!0,type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"},is_unique_index:!1},{column_guid:"55150a4a-d0cf-3367-a4e2-ea72cd8acdcc",column_name:"clean_tag_content",column_comment:"",order:4,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"VARCHAR(45)",is_null:!1,column_default_value:"",column_logical_name:"다듬어진 태그 내용",name_dic:{column_guid:"46f9584d-bb6a-0d72-1dbd-d6895ea84b30",order:26,logical_name:"다듬어진 태그 내용",physical_name:"clean_tag_content",column_logical_name:"[용어사전1]다듬어진 태그 내용",column_name:"[용어사전1]clean_tag_content",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"bb6f845a-bfd8-0c07-382e-23e02e873aae",order:6,logical_name:"다듬어진",physical_name:"clean",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"c26cb097-8b8c-6ebd-0f31-f9e9311ed06e",order:23,logical_name:"태그",physical_name:"tag",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"df2b556b-b8f6-3e01-861e-005c6ba0d074",order:30,logical_name:"내용",physical_name:"content",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],dic_type:{type_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46",type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)"}},show_column:!0,type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"},is_unique_index:!1}],join_list:[{join_name:"FK_blog_tag_post_id_blog_post_post_id",join_type:2,foreign_table_guid:"8b34218e-bfb9-7254-3e72-893ef5045cac",foreign_table_name:"blog_tag",foreign_key_column_guid:"1bdc5b89-8423-8ca2-c38d-29abfc0f771f",foreign_key_name:"post_id",references_table_guid:"c9df3eee-acff-95b4-e3be-959c46e2c70e",references_table_name:"blog_post",references_key_column_guid:"e6b6cb5b-0293-504a-5c81-bb843e94d4c5",references_key_name:"post_id"}],$$hashKey:"object:1666",index_list:[{index_name:"blog_tag_Index_3",index_column_comment:"clean_tag_content",index_column_list:[{column_guid:"55150a4a-d0cf-3367-a4e2-ea72cd8acdcc",column_name:"clean_tag_content"}]},{index_name:"blog_tag_Index_2",index_column_comment:"post_id",index_column_list:[{column_guid:"1bdc5b89-8423-8ca2-c38d-29abfc0f771f",column_name:"post_id"}]},{index_name:"blog_tag_Index_1",index_column_comment:"tag_id",index_column_list:[{column_guid:"887d1939-bad8-f493-308c-bea303ce2228",column_name:"tag_id"}]}],show_comment:!1,tableNameWidth:485,table_logical_name:"테그",show_only_important_columns_for_table:!1,database_guid:"e0dbac6b-b5a0-a025-1c8f-0b5d758ae1da",show_column_order:!1,order_width:45,table_header_color:"#5EAEC9"},{table_guid:"7cba9016-4a2d-ef63-cbc0-9989b550529d",table_name:"blog_related",table_comment:"게시글과 연결된 다른 게시글",table_short_name:"",position_x:1227,position_y:532,column_list:[{column_guid:"368a9938-8115-7996-4ec5-467d396612d4",column_name:"post_id",column_comment:"",order:1,is_primary_key:!0,auto_increment:!1,is_foreign_key:!0,type:"INT",is_null:!1,column_default_value:"",column_logical_name:"게시글 아이디",name_dic:{column_guid:"c7dde015-e399-6a91-5d50-a416cd840b0e",order:9,logical_name:"게시글 아이디",physical_name:"post_id",column_logical_name:"[용어사전1]게시글 아이디",column_name:"[용어사전1]post_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"242ce57d-b6e0-61c7-4e36-02e8c534985b",order:10,logical_name:"게시글",physical_name:"post",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c",type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT"}},show_column:!0,type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"},is_unique_index:!1},{column_guid:"3ee2624e-8ed5-d2fb-edee-4a4f1d62c3c4",column_name:"related_post_id",column_comment:"",order:2,is_primary_key:!1,auto_increment:!1,is_foreign_key:!1,type:"INT",is_null:!0,column_default_value:"",column_logical_name:"연결된 게시글 아이디",name_dic:{column_guid:"567b70aa-d409-3673-68f1-f88d71dea28e",order:27,logical_name:"연결된 게시글 아이디",physical_name:"related_post_id",column_logical_name:"[용어사전1]연결된 게시글 아이디",column_name:"[용어사전1]related_post_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"08d79bd4-4d26-46ce-7027-bca192084c22",order:22,logical_name:"연결된",physical_name:"related",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"242ce57d-b6e0-61c7-4e36-02e8c534985b",order:10,logical_name:"게시글",physical_name:"post",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],dic_type:{type_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c",type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT"}},show_column:!0,type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"},is_unique_index:!1}],join_list:[{join_name:"FK_blog_related_post_id_blog_post_post_id",join_type:2,foreign_table_guid:"7cba9016-4a2d-ef63-cbc0-9989b550529d",foreign_table_name:"blog_related",foreign_key_column_guid:"368a9938-8115-7996-4ec5-467d396612d4",foreign_key_name:"post_id",references_table_guid:"c9df3eee-acff-95b4-e3be-959c46e2c70e",references_table_name:"blog_post",references_key_column_guid:"e6b6cb5b-0293-504a-5c81-bb843e94d4c5",references_key_name:"post_id"}],$$hashKey:"object:1851",index_list:[{index_name:"blog_related_Index_1",index_column_comment:"post_id",index_column_list:[{column_guid:"368a9938-8115-7996-4ec5-467d396612d4",column_name:"post_id"}]}],show_comment:!1,tableNameWidth:485,table_logical_name:"연결정보",show_only_important_columns_for_table:!1,database_guid:"e0dbac6b-b5a0-a025-1c8f-0b5d758ae1da",show_column_order:!1,order_width:45,table_header_color:"#5EAEC9"}],memo_list:[{table_guid:"e9b5eaab-62f3-e55e-0c01-9becdf88e41e",memo_name:"사전 도움말",memo_content:"1. 단어사전, 용어사전, 타입사전 오른쪽 위에 있는 ? 아이콘을 \n   클릭해보세요. 각각의 도움말을 확인할 수 있습니다.\n2. 단어사전을 변경해보세요.\n   단어사전을 참조하는 용어사전과 용어사전을 참조하는 컬럼명이 \n   한 번에 자동으로 동기화 됩니다.\n3. 용어사전을 변경해보세요.\n   용어사전을 참조하는 컬럼명이 한 번에 자동으로 동기화 됩니다.\n4. 타입사전의 타입을 변경해보세요.\n   타입사전을 참조하는 용어사전과 컬럼타입이 한 번에 자동으로 \n   동기화 됩니다.",position_x:35,position_y:520,width:524,height:251},{table_guid:"2d95b85f-9f5c-e2a5-758b-87ab2dd0fd80",memo_name:"데모 도움말",memo_content:"1. 이 데모는 단어사전, 용어사전, 타입사전(도메인사전)을 이용하는 데모 \n   입니다.\n2. 사전 기능을 이용하여 모델링을 하면 번거로워 보이지만 일관되며 \n   더 체계적인 모델링을 할 수 있고 나중이 되면 도리어 설계 및 유지보수\n   측면에서 더 편리해 집니다.",position_x:35,position_y:344,width:526,height:156}],view_attributes_info:{isViewPK:!0,isViewAI:!0,isViewFK:!0,isViewNull:!0,isViewComment:!1,isViewName:!0,isViewType:!0,isViewButton:!0,commentWidth:100,nameWidth:158,typeWidth:111,isViewTableComment:!1,isViewTableName:!0,isViewDefaultValue:!1,isViewBottomButton:!0,isTableAutoFit:!1,isViewTableLogicalName:!0,isViewLogicalName:!0,defaultValueWidth:90,logicalNameWidth:156,isViewTypeDic:!0,dicTypeNameWidth:100,isViewWordDic:!0,isViewNameDic:!0,isShowOnlyImportantColumnsForERD:!1,isCurveConnectionLine:!0,isViewUQ:!1,isViewColumnOrder:!1},canvasWidth:2688,canvasHeight:2100,type_dic_list:[{table_name:"타입사전1",position_x:1056,position_y:1100,table_guid:"12464cde-753d-1dc5-d74b-d86f1a839aa3",column_list:[{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c",order:1,type_comment:""},{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46",order:2,type_comment:""},{type_name:"날짜",type_display_name:"[타입사전1] 날짜",type:"TIMESTAMP",column_guid:"989c81a7-89be-3e81-b8ee-1eadb4cd40ef",order:3,type_comment:""},{type_name:"제목",type_display_name:"[타입사전1] 제목",type:"VARCHAR(144)",column_guid:"ae7c54cb-a6d1-4e59-821e-32723991d02e",order:4,type_comment:""},{type_name:"파일",type_display_name:"[타입사전1] 파일",type:"VARCHAR(45)",column_guid:"1593bb60-292f-f6f1-e414-7c88938fc3b4",order:5,type_comment:""},{type_name:"내용",type_display_name:"[타입사전1] 내용",type:"TEXT",column_guid:"6112738b-c5a5-bc4b-e630-0e097f92a098",order:6,type_comment:""},{type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT",column_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6",order:7,type_comment:""},{type_name:"횟수",type_display_name:"[타입사전1] 횟수",type:"INT",column_guid:"532442df-78b6-9d67-1f13-bd0ea495cfa0",order:8,type_comment:""},{type_name:"",type_display_name:"",type:"",column_guid:"35fa31a7-7769-0d30-e2ac-4bf25786e2dd",order:9,type_comment:""},{type_name:"",type_display_name:"",type:"",column_guid:"40b1c3f2-12ff-1643-2b3a-f2ac429a59b8",order:10,type_comment:""},{type_name:"",type_display_name:"",type:"",column_guid:"ceea859c-52c2-71b9-8d79-19b08af5cbf2",order:11,type_comment:""}],height:308,maxHeigth:112,maxHeight:308,orderProperty:"order",orderWidth:45,typeNameWidth:100,typeWidth:110,typeCommentWidth:70}],word_dic_list:[{table_guid:"f5a2c7aa-f036-0954-2a92-a551af565a0a",table_name:"단어사전1",orderProperty:"order",errorMassage:"",position_x:81,position_y:1097,orderWidth:45,logicalNameWidth:70,physicalNameWidth:78,wordCommentWidth:70,column_list:[{column_guid:"4e2415d9-e5ef-2187-a53f-a782e1b6bfe5",order:1,logical_name:"저자",physical_name:"author",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1},{column_guid:"f9ca8889-3991-0247-85f4-50465552ee88",order:3,logical_name:"보여지는",physical_name:"display",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1},{column_guid:"a052b672-1d17-0a78-605e-0b4a1eb37ad7",order:4,logical_name:"이름",physical_name:"name",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1},{column_guid:"9e0b23b7-e886-6035-b187-be15ea416b07",order:5,logical_name:"카테고리",physical_name:"category",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"bb6f845a-bfd8-0c07-382e-23e02e873aae",order:6,logical_name:"다듬어진",physical_name:"clean",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"5ac75079-6bc5-0b97-6b56-662498ffc547",order:7,logical_name:"가능여부",physical_name:"enabled",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"c6fe7f65-6089-d3ea-cde8-a3fdf15778e4",order:8,logical_name:"등록",physical_name:"reg",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"378b4693-0ba4-e314-029e-6f26f8a7a38d",order:9,logical_name:"날짜",physical_name:"dt",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"242ce57d-b6e0-61c7-4e36-02e8c534985b",order:10,logical_name:"게시글",physical_name:"post",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"af5b81cd-fb86-bb49-1490-92344a696024",order:11,logical_name:"제목",physical_name:"title",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"27f59554-81e8-7c60-cf66-b5a736672dd7",order:12,logical_name:"파일",physical_name:"file",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"d42799c7-d7df-a089-f50f-7b6a03c04741",order:13,logical_name:"공개",physical_name:"published",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"229645aa-f490-576e-888c-150327a874ca",order:14,logical_name:"광고",physical_name:"banner",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"701e6105-f5cc-578b-6022-7b7fcdd27e35",order:15,logical_name:"이미지",physical_name:"image",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"da33883e-a042-56a5-1361-231f144752f9",order:16,logical_name:"특징",physical_name:"featured",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"85c98064-8d5d-3dad-3203-c0411bb58ea5",order:17,logical_name:"댓글",physical_name:"comments",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"a5575709-baf6-2341-5690-32c526763315",order:18,logical_name:"읽은횟수",physical_name:"views",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"12cd5023-d23a-12fc-72ec-d76f90e6794b",order:19,logical_name:"회원",physical_name:"user",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"8dae7bb9-bdaa-8eb1-cfd2-79e76f9c7e91",order:20,logical_name:"이메일",physical_name:"email",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"0fd0ce32-d2a3-db28-f523-d7502d671eb0",order:21,logical_name:"웹사이트",physical_name:"website",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"08d79bd4-4d26-46ce-7027-bca192084c22",order:22,logical_name:"연결된",physical_name:"related",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"c26cb097-8b8c-6ebd-0f31-f9e9311ed06e",order:23,logical_name:"태그",physical_name:"tag",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"a822f644-6eab-533a-662c-c5cdc29b93ce",order:24,logical_name:"테그",physical_name:"tag",word_comment:"",unable:!0,logical_name_err:!1,physical_name_err:!1},{column_guid:"c532053c-a936-baa4-9905-5fe318708686",order:25,logical_name:"읽음",physical_name:"read",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"811be633-add3-bec7-04ef-becaa0f58a27",order:26,logical_name:"표시",physical_name:"mark",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"3bd8299b-9310-e857-64a0-f3dd55dcbacc",order:27,logical_name:"첫번째",physical_name:"first",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"af4b506c-ba9d-9396-95c6-bee0d642d676",order:28,logical_name:"마지막",physical_name:"last",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"0c09c91b-4ee9-5571-757a-f12490331e3c",order:29,logical_name:"사용",physical_name:"use",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"df2b556b-b8f6-3e01-861e-005c6ba0d074",order:30,logical_name:"내용",physical_name:"content",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"c8e18216-17ea-74ba-0db7-05f191bd8074",order:31,logical_name:"",physical_name:"",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],height:417,maxHeigth:112,maxHeight:868,errorMassageHTML:""}],name_dic_list:[{table_guid:"19a149c5-2080-7750-1eec-23d65e7aca4c",table_name:"용어사전1",orderProperty:"order",errorMassage:"",position_x:459,position_y:1097,orderWidth:45,logicalNameWidth:142,physicalNameWidth:155,typeWidth:108,nameCommentWidth:68,column_list:[{column_guid:"71dd4699-b975-4db6-ecd5-dfb54a1be58a",order:1,logical_name:"저자 아이디",physical_name:"author_id",column_logical_name:"[용어사전1]저자 아이디",column_name:"[용어사전1]author_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"4e2415d9-e5ef-2187-a53f-a782e1b6bfe5",order:1,logical_name:"저자",physical_name:"author",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"}},{column_guid:"28e18438-6021-4a29-d147-1c84b24ba07b",order:2,logical_name:"보여지는 이름",physical_name:"display_name",column_logical_name:"[용어사전1]보여지는 이름",column_name:"[용어사전1]display_name",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"f9ca8889-3991-0247-85f4-50465552ee88",order:3,logical_name:"보여지는",physical_name:"display",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1},{column_guid:"a052b672-1d17-0a78-605e-0b4a1eb37ad7",order:4,logical_name:"이름",physical_name:"name",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"}},{column_guid:"10b5cbe8-9248-da3b-9dfd-40bb8367de15",order:3,logical_name:"첫번째 이름",physical_name:"first_name",column_logical_name:"[용어사전1]첫번째 이름",column_name:"[용어사전1]first_name",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"3bd8299b-9310-e857-64a0-f3dd55dcbacc",order:27,logical_name:"첫번째",physical_name:"first",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"a052b672-1d17-0a78-605e-0b4a1eb37ad7",order:4,logical_name:"이름",physical_name:"name",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"}},{column_guid:"00c81fd2-52dc-7ce4-132d-b3485bd6d414",order:4,logical_name:"마지막 이름",physical_name:"last_name",column_logical_name:"[용어사전1]마지막 이름",column_name:"[용어사전1]last_name",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"af4b506c-ba9d-9396-95c6-bee0d642d676",order:28,logical_name:"마지막",physical_name:"last",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"a052b672-1d17-0a78-605e-0b4a1eb37ad7",order:4,logical_name:"이름",physical_name:"name",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"}},{column_guid:"617de2cf-cf5a-7312-41f5-f4ee4d37c631",order:5,logical_name:"카테고리 아이디",physical_name:"category_id",column_logical_name:"[용어사전1]카테고리 아이디",column_name:"[용어사전1]category_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"9e0b23b7-e886-6035-b187-be15ea416b07",order:5,logical_name:"카테고리",physical_name:"category",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"}},{column_guid:"4a8225f4-75c0-37c3-d9ca-ac2839160067",order:6,logical_name:"카테고리 이름",physical_name:"category_name",column_logical_name:"[용어사전1]카테고리 이름",column_name:"[용어사전1]category_name",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"9e0b23b7-e886-6035-b187-be15ea416b07",order:5,logical_name:"카테고리",physical_name:"category",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"a052b672-1d17-0a78-605e-0b4a1eb37ad7",order:4,logical_name:"이름",physical_name:"name",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"}},{column_guid:"6b778b43-6991-fa39-3ac0-2e8490e66e09",order:7,logical_name:"다듬어진 카테고리 이름",physical_name:"clean_category_name",column_logical_name:"[용어사전1]다듬어진 카테고리 이름",column_name:"[용어사전1]clean_category_name",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"bb6f845a-bfd8-0c07-382e-23e02e873aae",order:6,logical_name:"다듬어진",physical_name:"clean",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"9e0b23b7-e886-6035-b187-be15ea416b07",order:5,logical_name:"카테고리",physical_name:"category",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"a052b672-1d17-0a78-605e-0b4a1eb37ad7",order:4,logical_name:"이름",physical_name:"name",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"}},{column_guid:"add2669d-e3ac-c9be-50ab-315fa703fd48",order:8,logical_name:"사용 가능여부",physical_name:"use_enabled",column_logical_name:"[용어사전1]사용 가능여부",column_name:"[용어사전1]use_enabled",logical_name_err:!1,physical_name_err:!1,type:"TINYINT",name_comment:"",word_list:[{column_guid:"0c09c91b-4ee9-5571-757a-f12490331e3c",order:29,logical_name:"사용",physical_name:"use",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"5ac75079-6bc5-0b97-6b56-662498ffc547",order:7,logical_name:"가능여부",physical_name:"enabled",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT",column_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6"}},{column_guid:"c7dde015-e399-6a91-5d50-a416cd840b0e",order:9,logical_name:"게시글 아이디",physical_name:"post_id",column_logical_name:"[용어사전1]게시글 아이디",column_name:"[용어사전1]post_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"242ce57d-b6e0-61c7-4e36-02e8c534985b",order:10,logical_name:"게시글",physical_name:"post",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"}},{column_guid:"5f45a5ec-50d5-9b27-8afe-723c8cd3427c",order:10,logical_name:"게시글 제목",physical_name:"post_title",column_logical_name:"[용어사전1]게시글 제목",column_name:"[용어사전1]post_title",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(144)",name_comment:"",word_list:[{column_guid:"242ce57d-b6e0-61c7-4e36-02e8c534985b",order:10,logical_name:"게시글",physical_name:"post",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"af5b81cd-fb86-bb49-1490-92344a696024",order:11,logical_name:"제목",physical_name:"title",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"제목",type_display_name:"[타입사전1] 제목",type:"VARCHAR(144)",column_guid:"ae7c54cb-a6d1-4e59-821e-32723991d02e"}},{column_guid:"58259f71-a0cd-ac5c-ac93-a55e20426776",order:11,logical_name:"게시글 내용",physical_name:"post_content",column_logical_name:"[용어사전1]게시글 내용",column_name:"[용어사전1]post_content",logical_name_err:!1,physical_name_err:!1,type:"TEXT",name_comment:"",word_list:[{column_guid:"242ce57d-b6e0-61c7-4e36-02e8c534985b",order:10,logical_name:"게시글",physical_name:"post",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"df2b556b-b8f6-3e01-861e-005c6ba0d074",order:30,logical_name:"내용",physical_name:"content",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"내용",type_display_name:"[타입사전1] 내용",type:"TEXT",column_guid:"6112738b-c5a5-bc4b-e630-0e097f92a098"}},{column_guid:"6644601a-5db7-2c49-68c2-d2bdf808a897",order:12,logical_name:"다듬어진 게시글 제목",physical_name:"clean_post_title",column_logical_name:"[용어사전1]다듬어진 게시글 제목",column_name:"[용어사전1]clean_post_title",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(144)",name_comment:"",word_list:[{column_guid:"bb6f845a-bfd8-0c07-382e-23e02e873aae",order:6,logical_name:"다듬어진",physical_name:"clean",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"242ce57d-b6e0-61c7-4e36-02e8c534985b",order:10,logical_name:"게시글",physical_name:"post",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"af5b81cd-fb86-bb49-1490-92344a696024",order:11,logical_name:"제목",physical_name:"title",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"제목",type_display_name:"[타입사전1] 제목",type:"VARCHAR(144)",column_guid:"ae7c54cb-a6d1-4e59-821e-32723991d02e"}},{column_guid:"2aab5c01-715d-1d45-cb3f-31881928fe6c",order:13,logical_name:"파일",physical_name:"file",column_logical_name:"[용어사전1]파일",column_name:"[용어사전1]file",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"27f59554-81e8-7c60-cf66-b5a736672dd7",order:12,logical_name:"파일",physical_name:"file",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"파일",type_display_name:"[타입사전1] 파일",type:"VARCHAR(45)",column_guid:"1593bb60-292f-f6f1-e414-7c88938fc3b4"}},{column_guid:"8bc38e98-ea28-5133-b655-1e7830ebecfc",order:14,logical_name:"공개 날짜",physical_name:"published_dt",column_logical_name:"[용어사전1]공개 날짜",column_name:"[용어사전1]published_dt",logical_name_err:!1,physical_name_err:!1,type:"TIMESTAMP",name_comment:"",word_list:[{column_guid:"d42799c7-d7df-a089-f50f-7b6a03c04741",order:13,logical_name:"공개",physical_name:"published",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"378b4693-0ba4-e314-029e-6f26f8a7a38d",order:9,logical_name:"날짜",physical_name:"dt",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"날짜",type_display_name:"[타입사전1] 날짜",type:"TIMESTAMP",column_guid:"989c81a7-89be-3e81-b8ee-1eadb4cd40ef"}},{column_guid:"2ee8dcca-bee5-4124-5df8-d9aec502e5f1",order:15,logical_name:"광고 이미지",physical_name:"banner_image",column_logical_name:"[용어사전1]광고 이미지",column_name:"[용어사전1]banner_image",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(144)",name_comment:"",word_list:[{column_guid:"229645aa-f490-576e-888c-150327a874ca",order:14,logical_name:"광고",physical_name:"banner",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"701e6105-f5cc-578b-6022-7b7fcdd27e35",order:15,logical_name:"이미지",physical_name:"image",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"제목",type_display_name:"[타입사전1] 제목",type:"VARCHAR(144)",column_guid:"ae7c54cb-a6d1-4e59-821e-32723991d02e"}},{column_guid:"b2408d54-bfeb-2572-a62d-0871910e7f29",order:16,logical_name:"특징",physical_name:"featured",column_logical_name:"[용어사전1]특징",column_name:"[용어사전1]featured",logical_name_err:!1,physical_name_err:!1,type:"TINYINT",name_comment:"",word_list:[{column_guid:"da33883e-a042-56a5-1361-231f144752f9",order:16,logical_name:"특징",physical_name:"featured",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT",column_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6"}},{column_guid:"da202216-1ca8-9595-4f1f-19ab080cd5d3",order:17,logical_name:"댓글 가능여부",physical_name:"comments_enabled",column_logical_name:"[용어사전1]댓글 가능여부",column_name:"[용어사전1]comments_enabled",logical_name_err:!1,physical_name_err:!1,type:"TINYINT",name_comment:"",word_list:[{column_guid:"85c98064-8d5d-3dad-3203-c0411bb58ea5",order:17,logical_name:"댓글",physical_name:"comments",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"5ac75079-6bc5-0b97-6b56-662498ffc547",order:7,logical_name:"가능여부",physical_name:"enabled",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT",column_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6"}},{column_guid:"d3cdbd18-58f9-1c36-12e0-b0071e388214",order:18,logical_name:"등록 날짜",physical_name:"reg_dt",column_logical_name:"[용어사전1]등록 날짜",column_name:"[용어사전1]reg_dt",logical_name_err:!1,physical_name_err:!1,type:"TIMESTAMP",name_comment:"",word_list:[{column_guid:"c6fe7f65-6089-d3ea-cde8-a3fdf15778e4",order:8,logical_name:"등록",physical_name:"reg",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"378b4693-0ba4-e314-029e-6f26f8a7a38d",order:9,logical_name:"날짜",physical_name:"dt",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"날짜",type_display_name:"[타입사전1] 날짜",type:"TIMESTAMP",column_guid:"989c81a7-89be-3e81-b8ee-1eadb4cd40ef"}},{column_guid:"e765dcd1-cd0d-6656-4959-64ca4d5e8e1e",order:19,logical_name:"읽은횟수",physical_name:"views",column_logical_name:"[용어사전1]읽은횟수",column_name:"[용어사전1]views",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"a5575709-baf6-2341-5690-32c526763315",order:18,logical_name:"읽은횟수",physical_name:"views",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"횟수",type_display_name:"[타입사전1] 횟수",type:"INT",column_guid:"532442df-78b6-9d67-1f13-bd0ea495cfa0"}},{column_guid:"eeb90407-b1dc-2a76-d06b-a7adb07678d0",order:20,logical_name:"회원 아이디",physical_name:"user_id",column_logical_name:"[용어사전1]회원 아이디",column_name:"[용어사전1]user_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"12cd5023-d23a-12fc-72ec-d76f90e6794b",order:19,logical_name:"회원",physical_name:"user",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"}},{column_guid:"d23b4a80-a26d-f622-2ce7-c42664b309a9",order:21,logical_name:"회원 이름",physical_name:"user_name",column_logical_name:"[용어사전1]회원 이름",column_name:"[용어사전1]user_name",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"12cd5023-d23a-12fc-72ec-d76f90e6794b",order:19,logical_name:"회원",physical_name:"user",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"a052b672-1d17-0a78-605e-0b4a1eb37ad7",order:4,logical_name:"이름",physical_name:"name",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"}},{column_guid:"7f22d42f-c05e-eabf-f295-e5c85d11681c",order:22,logical_name:"회원 이메일",physical_name:"user_email",column_logical_name:"[용어사전1]회원 이메일",column_name:"[용어사전1]user_email",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"12cd5023-d23a-12fc-72ec-d76f90e6794b",order:19,logical_name:"회원",physical_name:"user",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"8dae7bb9-bdaa-8eb1-cfd2-79e76f9c7e91",order:20,logical_name:"이메일",physical_name:"email",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"}},{column_guid:"5ea9b6c9-266d-cbed-12d1-93e84614347b",order:23,logical_name:"웹사이트",physical_name:"website",column_logical_name:"[용어사전1]웹사이트",column_name:"[용어사전1]website",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"0fd0ce32-d2a3-db28-f523-d7502d671eb0",order:21,logical_name:"웹사이트",physical_name:"website",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"}},{column_guid:"2cbd5f0a-61d2-3cc6-b32f-6c215310e908",order:24,logical_name:"태그 아이디",physical_name:"tag_id",column_logical_name:"[용어사전1]태그 아이디",column_name:"[용어사전1]tag_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"c26cb097-8b8c-6ebd-0f31-f9e9311ed06e",order:23,logical_name:"태그",physical_name:"tag",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"}},{column_guid:"4b858922-709a-60af-442c-f64f62b33b76",order:25,logical_name:"태그 내용",physical_name:"tag_content",column_logical_name:"[용어사전1]태그 내용",column_name:"[용어사전1]tag_content",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"c26cb097-8b8c-6ebd-0f31-f9e9311ed06e",order:23,logical_name:"태그",physical_name:"tag",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"df2b556b-b8f6-3e01-861e-005c6ba0d074",order:30,logical_name:"내용",physical_name:"content",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"}},{column_guid:"46f9584d-bb6a-0d72-1dbd-d6895ea84b30",order:26,logical_name:"다듬어진 태그 내용",physical_name:"clean_tag_content",column_logical_name:"[용어사전1]다듬어진 태그 내용",column_name:"[용어사전1]clean_tag_content",logical_name_err:!1,physical_name_err:!1,type:"VARCHAR(45)",name_comment:"",word_list:[{column_guid:"bb6f845a-bfd8-0c07-382e-23e02e873aae",order:6,logical_name:"다듬어진",physical_name:"clean",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"c26cb097-8b8c-6ebd-0f31-f9e9311ed06e",order:23,logical_name:"태그",physical_name:"tag",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"df2b556b-b8f6-3e01-861e-005c6ba0d074",order:30,logical_name:"내용",physical_name:"content",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"이름",type_display_name:"[타입사전1] 이름",type:"VARCHAR(45)",column_guid:"1940aedd-fb1f-689f-7368-0c4689d43d46"}},{column_guid:"567b70aa-d409-3673-68f1-f88d71dea28e",order:27,logical_name:"연결된 게시글 아이디",physical_name:"related_post_id",column_logical_name:"[용어사전1]연결된 게시글 아이디",column_name:"[용어사전1]related_post_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"08d79bd4-4d26-46ce-7027-bca192084c22",order:22,logical_name:"연결된",physical_name:"related",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"242ce57d-b6e0-61c7-4e36-02e8c534985b",order:10,logical_name:"게시글",physical_name:"post",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"}},{column_guid:"77d1879f-d87a-4025-34a2-5273c2b7541e",order:28,logical_name:"댓글 아이디",physical_name:"comments_id",column_logical_name:"[용어사전1]댓글 아이디",column_name:"[용어사전1]comments_id",logical_name_err:!1,physical_name_err:!1,type:"INT",name_comment:"",word_list:[{column_guid:"85c98064-8d5d-3dad-3203-c0411bb58ea5",order:17,logical_name:"댓글",physical_name:"comments",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"7bac2f17-f0b6-165a-98e5-7f5a4453964a",order:2,logical_name:"아이디",physical_name:"id",logical_name_err:!1,physical_name_err:!1,word_comment:"",unable:!1}],type_dic:{type_name:"아이디",type_display_name:"[타입사전1] 아이디",type:"INT",column_guid:"8c0dd2e1-039f-0d83-dee9-33717aaa399c"}},{column_guid:"998adbb2-d3eb-3638-3f2b-5e32f146c130",order:29,logical_name:"댓글 내용",physical_name:"comments_content",column_logical_name:"[용어사전1]댓글 내용",column_name:"[용어사전1]comments_content",logical_name_err:!1,physical_name_err:!1,type:"TEXT",name_comment:"",word_list:[{column_guid:"85c98064-8d5d-3dad-3203-c0411bb58ea5",order:17,logical_name:"댓글",physical_name:"comments",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"df2b556b-b8f6-3e01-861e-005c6ba0d074",order:30,logical_name:"내용",physical_name:"content",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"내용",type_display_name:"[타입사전1] 내용",type:"TEXT",column_guid:"6112738b-c5a5-bc4b-e630-0e097f92a098"}},{column_guid:"e4db364e-13a7-7f85-175c-5a3397f717c0",order:30,logical_name:"읽음 표시",physical_name:"read_mark",column_logical_name:"[용어사전1]읽음 표시",column_name:"[용어사전1]read_mark",logical_name_err:!1,physical_name_err:!1,type:"TINYINT",name_comment:"",word_list:[{column_guid:"c532053c-a936-baa4-9905-5fe318708686",order:25,logical_name:"읽음",physical_name:"read",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1},{column_guid:"811be633-add3-bec7-04ef-becaa0f58a27",order:26,logical_name:"표시",physical_name:"mark",word_comment:"",unable:!1,logical_name_err:!1,physical_name_err:!1}],type_dic:{type_name:"코드",type_display_name:"[타입사전1] 코드",type:"TINYINT",column_guid:"89ac4fee-1af2-e45e-9bcd-561c4fae5fa6"}},{column_guid:"e8959bff-0ff3-65b9-2a4a-d563a2ff0974",order:31,logical_name:"",physical_name:"",column_logical_name:"",column_name:"",logical_name_err:!1,physical_name_err:!1,type:"",name_comment:"",word_list:[]}],height:420,maxHeigth:112,maxHeight:868,errorMassageHTML:""}],isFirstLoad:!1,database_info_list:[{database_guid:"e0dbac6b-b5a0-a025-1c8f-0b5d758ae1da",database_name:"blog",database_logical_name:"",database_comment:"",database_table_header_color:"#5EAEC9",database_order:1,is_show_database_table:!0,is_show_database_name_in_table:!1,is_default_database:!1}]}:n=="3"&&(t={}),t.erd_info.erd_guid="",t.erd_info.erd_saved=!1,t}}}])}(),function(){"use strict";app.factory("aqueryResourceService",["resourceService","$window","$location",function(n){return{gettest:function(t,i,r,u){return n().all({controller:t,action:i},r,u).$promise},erdVersion:function(t,i,r,u,f){return n().check({controller:t,action:i},r,u,f).$promise},saveErd:function(t,i,r,u,f){return n().save({controller:t,action:i},r,u,f).$promise},exportExcelErd:function(t,i,r,u,f){return n().save({controller:t,action:i},r,u,f).$promise},readonlyurl:function(t,i,r,u,f){return n().update({controller:t,action:i},r,u,f).$promise},readonlyUrlLogin:function(t,i,r,u,f){return n().check({controller:t,action:i},r,u,f).$promise},erdList:function(t,i,r,u){return n().one({controller:t,action:i},r,u).$promise},erddtail:function(t,i,r,u,f){return n().check({controller:t,action:i},r,u,f).$promise},createSql:function(t,i,r,u,f){return n().check({controller:t,action:i},r,u,f).$promise},createmodel:function(t,i,r,u,f){return n().check({controller:t,action:i},r,u,f).$promise},importsql:function(t,i,r,u,f){return n().check({controller:t,action:i},r,u,f).$promise},requesterdauth:function(t,i,r,u,f){return n().save({controller:t,action:i},r,u,f).$promise},requesterdauthlist:function(t,i,r,u){return n().one({controller:t,action:i},r,u).$promise},updateerdauth:function(t,i,r,u,f){return n().update({controller:t,action:i},r,u,f).$promise},deleteerd:function(t,i,r,u,f){return n().delete({controller:t,action:i,param1:r},u,f).$promise}}}])}(),function(){"use strict";app.factory("aqueryService",["$rootScope","$window","$timeout","$q","utilService",function(n,t,i,r,u){return{checkCanvasSizeForAllObject:function(n){var t=this;i(function(){var i={right:0,bottom:0,tableWidth:0,tableHeight:0};i=t.getMaxRightBottom(n.table_list,i);i=t.getMaxRightBottom(n.memo_list,i);i=t.getMaxRightBottom(n.type_dic_list,i);i=t.getMaxRightBottom(n.word_dic_list,i);i=t.getMaxRightBottom(n.name_dic_list,i);i.right=i.right+i.tableWidth;i.bottom=i.bottom+i.tableHeight;n.canvasWidth<i.right&&(n.canvasWidth=i.right);n.canvasHeight<i.bottom&&(n.canvasHeight=i.bottom)},100)},getMaxRightBottom:function(n,t){var i=this;return n===undefined||n===null?t:(_.each(n,function(n){var r=$("#"+n.table_guid),i;r!=undefined&&r.length>0&&(i=u.getElementPosition(r[0]),t.right<i.right&&(t.right=i.right),t.bottom<i.bottom&&(t.bottom=i.bottom),t.tableWidth<i.width&&(t.tableWidth=i.width),t.tableHeight<i.height&&(t.tableHeight=i.height))}),t)},searchTable:function(n,i){var a=this,h=$("#"+n),r=u.getElementPosition(h[0]),f=0,e=0,c,l;if(i=="center"){var o=t.innerWidth/2,s=t.innerHeight/2,v=(r.right-r.left)/2,y=(r.bottom-r.top)/2;o=o-v;s=s-y;f=r.left-o;e=r.top-s}else i=="lefttop"&&(f=r.left-35,e=r.top-60);return c=10,a.selectTableEffect(h,c,!0),l=$("html, body"),l.stop().animate({scrollTop:e,scrollLeft:f},"500","swing",function(){}),r},selectTableEffect:function(n,t,r){var u=this;i(function(){r==!0?(n.addClass("selected_table"),t--):(n.removeClass("selected_table"),t--);t>0&&u.selectTableEffect(n,t,!r)},100)},getElementDataByGUID:function(n,t){var r=this,i;return _.each(t.table_list,function(t){t.table_guid==n&&(i=t);_.each(t.column_list,function(r){r.column_guid==n&&(i=t)})}),_.each(t.type_dic_list,function(t){t.table_guid==n&&(i=t);_.each(t.column_list,function(r){r.column_guid==n&&(i=t)})}),_.each(t.word_dic_list,function(t){t.table_guid==n&&(i=t);_.each(t.column_list,function(r){r.column_guid==n&&(i=t)})}),_.each(t.name_dic_list,function(t){t.table_guid==n&&(i=t);_.each(t.column_list,function(r){r.column_guid==n&&(i=t)})}),_.each(t.memo_list,function(t){t.table_guid==n&&(i=t)}),i},getElementTypeByGUID:function(n){var i=this,t;return _.each(scope.data.table_list,function(i){i.table_guid==n&&(t="table");_.each(i.column_list,function(i){i.column_guid==n&&(t="table_column")})}),_.each(scope.data.type_dic_list,function(i){i.table_guid==n&&(t="type_dic");_.each(i.column_list,function(i){i.column_guid==n&&(t="type_dic_column")})}),_.each(scope.data.word_dic_list,function(i){i.table_guid==n&&(t="word_dic");_.each(i.column_list,function(i){i.column_guid==n&&(t="word_dic_column")})}),_.each(scope.data.name_dic_list,function(i){i.table_guid==n&&(t="name_dic");_.each(i.column_list,function(i){i.column_guid==n&&(t="name_dic_column")})}),_.each(scope.data.memo_list,function(i){i.table_guid==n&&(t="memo")}),t},getTableGuidByName:function(n,t){var r=this,i;return _.each(t,function(t){t.table_name==n&&(i=t.table_guid)}),i},getColumnGuidByName:function(n,t,i){var u=this,r;return _.each(i,function(i){i.table_name==n&&_.each(i.column_list,function(n){n.column_name==t&&(r=n.column_guid)})}),r}}}]);app.factory("tableSizeHelper",["$rootScope","utilService",function(){return{getTableNameWidth:function(n,t){var i=0;return i=i+((n.view_attributes_info.isViewColumnOrder==!0||t.show_column_order==!0)==!0?parseInt(t.order_width):0),i=i+(n.view_attributes_info.isViewPK==!0?20:0),i=i+(n.view_attributes_info.isViewAI==!0?20:0),i=i+(n.view_attributes_info.isViewFK==!0?20:0),i=i+(n.view_attributes_info.isViewNull==!0?20:0),i=i+(n.view_attributes_info.isViewUQ==!0?20:0),i=i+(n.view_attributes_info.isViewLogicalName==!0?parseInt(n.view_attributes_info.logicalNameWidth):0),i=i+(n.view_attributes_info.isViewName==!0?parseInt(n.view_attributes_info.nameWidth):0),i=i+(n.view_attributes_info.isViewType==!0?parseInt(n.view_attributes_info.typeWidth):0),i=i+(n.view_attributes_info.isViewDefaultValue==!0?parseInt(n.view_attributes_info.defaultValueWidth):0),i=i+((n.view_attributes_info.isViewComment==!0||t.show_comment==!0)==!0?parseInt(n.view_attributes_info.commentWidth):0),i=i+(n.view_attributes_info.isViewButton==!0?0:11),i=i-20,i>68?i:68}}}]);app.factory("dataTypeService",["$window","$rootScope",function(){return{getMSSQLDataTypeList:function(){return["int","tinyint","smallint","bigint","varchar(50)","varchar(max)","nvarchar(50)","nvarchar(max)","char(10)","nchar(10)","text","ntext","date","datetime","decimal(18,0)","numeric(18,0)","bit","datetime2(7)","datetimeoffset(7)","float","binary(50)","binary(max)","money","real","smallmoney","variant","time(7)","timestamp","uniqueidentifier","varbinary(50)","xml",]},getMySQLDataTypeList:function(){return["INT","INT UNSIGNED","VARCHAR(45)","DECIMAL(18, 0)","DATETIME","BLOB","CHAR(1)","TINYTEXT","TEXT","MEDIUMTEXT","LONGTEXT","JSON","TINYBLOB","MEDIUMBLOB","LONGBLOB","BIT","TINYINT","SMALLINT","MEDIUMINT","INTEGER","BIGINT","FLOAT","DOUBLE","DOUBLE PRECISION","NUMERIC(18, 0)","DATE","TIMESTAMP","TIME","YEAR","ENUM","REAL","SET"]},getOracleDataTypeList:function(){return["VARCHAR2","VARCHAR2(20)","NVARCHAR2(20)","CHAR","CHAR(1)","NCHAR(1)","INT","NUMBER","NUMBER(18, 0)","DATE","CLOB","BLOB","BFILE","FLOAT","FLOAT (24)","INTERVAL","LONG","LONG RAW","NCLOB","RAW","RAW(20)","REAL","ROWID","TIMESTAMP","TIMESTAMP(6)","UROWID","VARCHAR","VARCHAR(20)","BINARY_DOUBLE","BINARY_FLOAT",]},getPostgreSQLDataTypeList:function(){return["char(1)","varchar(50)","text","cidr","inet","macaddr","json","uuid","integer","smallint","bigint","serial","bigserial","bit varying","bit","numeric(18, 0)","real","double precision","money","bytea","date","time","timestamp","timestamptz","interval","point","line","lseg","box","path","polygon","circle","boolean","unknown","regclass",]}}}]);app.factory("dataCheckService",["$window","$rootScope","aqueryService",function(n,t,i){return{checkIndexColumnName:function(n){_.each(n.index_list,function(t){_.each(t.index_column_list,function(t){var i=_.where(n.column_list,{column_guid:t.column_guid});i.length==1&&t.column_name!=i[0].column_name&&(t.column_name=i[0].column_name)})});this.deleteDuplicationIndex(n)},deleteDuplicationIndex:function(n){_.each(n.index_list,function(n){var t="";_.each(n.index_column_list,function(n){t=t+n.column_name+", "});t=t+" ";t=t.replace(",  ","");n.index_column_comment=t});n.index_list=_.sortBy(n.index_list,function(n){return n.index_column_comment});n.index_list=_.uniq(n.index_list,function(n){return n.index_column_comment})},checkJoinTableColumnName:function(n){var u=this,r=[],t;return _.each(n,function(t){_.each(t.join_list,function(t){(t.references_table_guid===null||t.references_table_guid===""||t.references_table_guid===undefined)&&(t.references_table_guid=i.getTableGuidByName(t.references_table_name,n));(t.references_key_column_guid===null||t.references_key_column_guid===""||t.references_key_column_guid===undefined)&&(t.references_key_column_guid=i.getColumnGuidByName(t.references_table_name,t.references_key_name,n))})}),t=[],_.each(n,function(n){_.each(n.column_list,function(n){t.push(n)})}),_.each(n,function(i){var r=[];_.each(i.join_list,function(i){var u=!1,f,e,o,s,a=_.where(n,{table_guid:i.foreign_table_guid}),h,c,l;a.length==1?(f=a[0],i.foreign_table_name!=f.table_name&&(i.foreign_table_name=f.table_name,u=!0)):r.push(i);h=_.where(n,{table_guid:i.references_table_guid});h.length==1?(e=h[0],i.references_table_name!=e.table_name&&(i.references_table_name=e.table_name,u=!0)):r.push(i);c=_.where(t,{column_guid:i.foreign_key_column_guid});c.length==1?(o=c[0],i.foreign_key_name!=o.column_name&&(i.foreign_key_name=o.column_name,u=!0)):r.push(i);l=_.where(t,{column_guid:i.references_key_column_guid});l.length==1?(s=l[0],i.references_key_name!=s.column_name&&(i.references_key_name=s.column_name,u=!0)):r.push(i);u==!0&&f!=undefined&&e!=undefined&&o!=undefined&&s!=undefined&&(i.join_name="FK_"+f.table_name+"_"+o.column_name+"_"+e.table_name+"_"+s.column_name)});r.length>0&&_.each(r,function(n){i.join_list=_.without(i.join_list,_.findWhere(i.join_list,{join_name:n.join_name}))})}),_.each(n,function(n){var t=[],i=[];_.each(n.join_list,function(n){var r=_.where(i,{join_name:n.join_name,references_key_column_guid:n.references_key_column_guid});r.length==0&&(t.push(n),i.push({join_name:n.join_name,references_key_column_guid:n.references_key_column_guid}))});n.join_list=t}),_.each(n,function(t){_.each(t.join_list,function(i){var f,u,e,o;i.references_table_guid==null&&(f=!1,u=_.where(n,{table_name:i.references_table_name}),u.length==1&&(i.references_table_guid=u[0].table_guid,e=_.where(u[0].column_list,{column_name:i.references_key_name}),e.length==1&&(i.references_key_column_guid=e[0].column_guid,f=!0)),f==!1&&(o=_.where(t.column_list,{column_name:i.foreign_key_name}),o.length>0&&(o[0].is_foreign_key=!1),t.join_list=_.without(t.join_list,_.findWhere(t.join_list,{join_name:i.join_name})),r.push({table_name:t.table_name,column_name:i.foreign_key_name,references_table_name:i.references_table_name,references_key_name:i.references_key_name})))})}),r},checkDuplicationName:function(n){var t="";return _.each(n,function(i){i.table_name==""&&(t="테이블 명이 입력되지 않았습니다. 수정 후 다시 시도해주세요.");var r=_.where(n,{table_name:i.table_name});r.length>1&&(t=i.table_name+" 테이블 명이 여러 개 존재합니다. 수정 후 다시 시도해주세요.");_.each(i.column_list,function(n){var r=_.where(i.column_list,{column_name:n.column_name});r.length>1&&(t=i.table_name+" 테이블에 "+r[0].column_name+" 컬럼 명이 여러 개 존재합니다. 수정 후 다시 시도해주세요.");n.type==""&&(t=i.table_name==""?"타입이 입력되지 않은 컬럼이 있습니다. 수정 후 다시 시도해주세요.":i.table_name+" 테이블에 타입이 입력되지 않은 컬럼이 있습니다. 수정 후 다시 시도해주세요.");n.column_name==""&&(t=i.table_name==""?"컬럼 명이 입력되지 않은 컬럼이 있습니다. 수정 후 다시 시도해주세요.":i.table_name+" 테이블에 컬럼 명이 입력되지 않은 컬럼이 있습니다. 수정 후 다시 시도해주세요.")})}),t},checkDuplicationTableNameList:function(n){var t=[],i=[];return _.each(n.table_list,function(r){var u=_.filter(n.table_list,function(n){return n.table_name==r.table_name&&n.database_guid==r.database_guid?!0:!1});u.length>1&&r.table_name!=""&&t.push(r.table_name);_.each(r.column_list,function(n){var t=_.where(r.column_list,{column_name:n.column_name});t.length>1&&n.column_name!=""&&i.push(r.table_name+"."+n.column_name)})}),t=_.uniq(t,!1),i=_.uniq(i,!1),t=_.sortBy(t,function(n){return n}),i=_.sortBy(i,function(n){return n}),{tableList:t,columnList:i}}}}])}(),function(){"use strict";app.factory("connectSvgLineServices",["$rootScope","$window","$timeout","$q","utilService",function(){var i=$("#select-rect-area-svg-panel"),n=[],e=27,o=27,t=17,f="#808080",s="#9C9C9C",r="#5EAEC9",u="orange",h=!0;return{addLine:function(t){t.id=this.generateId(t.left_node,t.right_node);var i=_.where(n,{id:t.id});i.length>0||(n.push(t),this.drawLineSVG(t))},generateId:function(n,t){return"svg"+n.replace("#","")+t.replace("#","")},redrawLine:function(t){var r=this,i=[];_.each(n,function(n){n.id.indexOf(t.replace("#",""))>-1&&i.push(n)});_.each(i,function(n){r.drawLineSVG(n)})},redrawAllLine:function(t){var i=this;h=t;_.each(n,function(n){i.drawLineSVG(n)})},drawLineSVG:function(n){var v=$(n.left_node),y=$(n.right_node),l,a;if(v!=undefined&&y!=undefined&&v.length!=0&&y.length!=0){var f=v[0].getBoundingClientRect(),s=y[0].getBoundingClientRect(),t={left:0,right:0,top:0,width:0,height:0},i={left:0,right:0,top:0,width:0,height:0},u={x:0,y:0},r={x:0,y:0},h=0,c=0,p=!0,w=!1;window.scrollX==undefined?(t.left=f.left+document.documentElement.scrollLeft,t.right=f.right+document.documentElement.scrollLeft,t.top=f.top+document.documentElement.scrollTop,i.left=s.left+document.documentElement.scrollLeft,i.right=s.right+document.documentElement.scrollLeft,i.top=s.top+document.documentElement.scrollTop):(t.left=f.left+window.scrollX,t.right=f.right+window.scrollX,t.top=f.top+window.scrollY,i.left=s.left+window.scrollX,i.right=s.right+window.scrollX,i.top=s.top+window.scrollY);t.width=f.width;t.height=f.height;i.width=s.width;i.height=s.height;p=t.left>=i.left?!1:!0;w=t.right<i.left||t.left>i.right?!1:!0;w==!0?(u.x=t.left,u.y=t.top+t.height/2,r.x=i.left,r.y=i.top+i.height/2,h=-e,c=-o):(p==!0&&(u.x=t.left+t.width,u.y=t.top+t.height/2,r.x=i.left,r.y=i.top+i.height/2,h=e,c=-o),p==!1&&(u.x=t.left,u.y=t.top+t.height/2,r.x=i.left+i.width,r.y=i.top+i.height/2,h=-e,c=o));t.top>i.top?r.y=r.y+5:t.top<i.top&&(r.y=r.y-5);l="ToLeft";a=!1;h<0&&c<0?l="LeftTurn":u.x<r.x?l="ToRight":u.x>r.x&&(l="ToLeft");u.y<r.y&&(a=!0);this.setLineSVG(n,u.x,u.y,h,r.x,r.y,c,l,a,!1);this.setLineSVG(n,u.x,u.y,h,r.x,r.y,c,l,a,!0);this.setArrowSVG(n,u.x,u.y,h,r.x,r.y,c,l)}},setLineSVG:function(n,e,o,s,c,l,a,v,y,p){var g=this,nt="",w,tt,k,d,b;nt=p==!1?n.id:"subline_"+n.id;w=$("#"+nt);tt=!1;(w==undefined||w.length==0)&&(tt=!0,w=this.createSVGElement("path",{id:nt,fill:"none"}),w.attr("group-id",n.id),w.attr("svg-path-is-selected","false"),w.attr("stroke",f),p==!1?(w.attr("stroke-width","1"),w.attr("stroke-dasharray","2,2")):(w.attr("stroke-width","6"),w.attr("stroke-dasharray","0,0"),w.attr("stroke-opacity","0"),w.mouseenter(function(){g.setEffectGroup($(this).attr("group-id"),!0,!1,r)}),w.mouseleave(function(){g.setEffectGroup($(this).attr("group-id"),!1,!1,r)}),w.click(function(){g.setEffectGroup($(this).attr("group-id"),!1,!0,u)})));k=t;v=="ToRight"||v=="LeftTurn"?k=-t:v=="ToLeft";h==!0?(b="",d=o,v=="LeftTurn"&&e<c?(d=y==!0?l:l,b="M "+e+" "+o+" C "+(e+s)+" "+o+" , "+(e+a)+" "+d+" , "+(c+a)+" "+l+" L "+(c+k)+" "+l):(d=y==!0?o+(l-o)/2:o-(o-l)/2,b="M "+e+" "+o+" C "+(e+s)+" "+o+" , "+(c+a)+" "+d+" , "+(c+a)+" "+l+" L "+(c+k)+" "+l),w.attr("d",b)):(b="",b="M "+e+" "+o+" L "+(e+s)+" "+o+" L "+(c+a)+" "+l+" L "+(c+k)+" "+l,w.attr("d",b));tt==!0&&i.append(w)},setArrowSVG:function(n,e,o,h,c,l,a,v){var w=this,b="arrow_"+n.id,y=$("#"+b),k=!1,p;(y==undefined||y.length==0)&&(k=!0,y=this.createSVGElement("path",{id:b,fill:s,stroke:f}),y.attr("stroke-width","1"),y.attr("group-id",n.id),y.attr("svg-path-is-selected","false"),y.mouseenter(function(){w.setEffectGroup($(this).attr("group-id"),!0,!1,r)}),y.mouseleave(function(){w.setEffectGroup($(this).attr("group-id"),!1,!1,r)}),y.click(function(){w.setEffectGroup($(this).attr("group-id"),!1,!0,u)}));p="";v=="ToRight"||v=="LeftTurn"?p=p+" M "+c+" "+l+" L "+(c-t)+" "+(l-5)+" L "+(c-t)+" "+(l+5)+" Z":v=="ToLeft"&&(p=p+" M "+c+" "+l+" L "+(c+t)+" "+(l-5)+" L "+(c+t)+" "+(l+5)+" Z");y.attr("d",p);k==!0&&i.append(y)},setEffectGroup:function(n,t,e,o){var a="subline_"+n,h=$("#"+a),v="arrow_"+n,c=$("#"+v),l;h!=undefined&&h.length!=0&&c!=undefined&&c.length!=0&&(t==!0&&e==!1?(l=h.attr("svg-path-is-selected"),l=="true"&&(o=u),h.attr("stroke-opacity","1"),h.attr("stroke",o),i.append(h),c.attr("fill",o),c.attr("stroke",o),c.attr("stroke-width","2"),i.append(c)):t==!1&&e==!1?(l=h.attr("svg-path-is-selected"),l=="false"&&(h.attr("stroke-opacity","0"),h.attr("stroke",f),c.attr("fill",s),c.attr("stroke",f),c.attr("stroke-width","1"))):e==!0&&(l=h.attr("svg-path-is-selected"),l=="true"?(h.attr("svg-path-is-selected","false"),c.attr("svg-path-is-selected","false"),this.setEffectGroup(n,!1,!1,r)):(h.attr("svg-path-is-selected","true"),c.attr("svg-path-is-selected","true"),this.setEffectGroup(n,!0,!1,u))),this.updateZIndexForSelectedGroup())},updateZIndexForSelectedGroup:function(){var t=this,n=$("path[svg-path-is-selected='true']");_.each(n,function(n){i.append(n)})},cancelSelectFKLine:function(){var n=this,t=$("path[svg-path-is-selected='true'][id^='subline_']");_.each(t,function(t){var i=$(t).attr("group-id");n.setEffectGroup(i,!1,!0,u)})},createSVGElement:function(n,t){var i=$(document.createElementNS("http://www.w3.org/2000/svg",n));for(var r in t)i.attr(r,t[r]);return i},clearAllLine:function(){var t=this;_.each(n,function(n){t.clearLineInGroup(n.id)});n=[]},clearLine:function(t,i){for(var f=this,u=null,r=0;r<n.length;r++)if(n[r].left_node==t&&n[r].right_node==i){u=n[r];break}else if(n[r].left_node==i&&n[r].right_node==t){u=n[r];break}u!=null&&u!=undefined&&(n=_.without(n,_.findWhere(n,{id:u.id})),this.clearLineInGroup(u.id))},clearLineInGroup:function(n){var i=this,t=$("path[group-id="+n+"]");_.each(t,function(n){var t=$("#"+n.id);t.remove()})}}}])}(),function(){"use strict";app.controller("alertPopupController",["$scope","$modalInstance","$sce","_","params",function(n,t,i,r,u){n.init=function(){(u.title===""||u.title===null||u.title===undefined)&&(u.title="Alert");n.title=i.trustAsHtml(u.title);n.information=i.trustAsHtml(u.information);n.okButtonStyle=u.okButtonStyle};n.ok=function(){t.close("ok")};n.init()}])}(),function(){"use strict";app.controller("confirmPopupController",["$scope","$modalInstance","$sce","_","params",function(n,t,i,r,u){n.init=function(){n.information=i.trustAsHtml(u.information);n.okButtonStyle=u.okButtonStyle;n.cancelButtonStyle=u.cancelButtonStyle};n.ok=function(){t.close("ok")};n.cancel=function(){t.dismiss("cancel")};n.init()}])}(),function(){"use strict";app.controller("editUserInfoPopupController",["$scope","$modalInstance","$location","$modal","_","authService","alertServices","params",function(n,t,i,r,u,f,e,o){n.init=function(){n.user_info=angular.copy(o.user_info);n.user_info.oldPassword="";n.user_info.newPassword="";n.user_info.newPassword2="";n.isShowPasswordPanel=!1;n.oldPassword="";n.newPassword="";n.newPassword2=""};n.showChangePasswordPanel=function(){n.isShowPasswordPanel=!0};n.ok=function(){if(n.information="",n.myForm.input.$valid==!1){n.information="올바른 값이 입력되지 않았습니다.";return}if(n.oldPassword!=""||n.newPassword!=""){if(n.oldPassword==""&&n.newPassword!=""){n.information="기존 비밀번호가 입력되지 않았습니다.";return}if(n.oldPassword!=""&&n.newPassword==""){n.information="새로운 비밀번호가 입력되지 않았습니다.";return}if(n.newPassword!=n.newPassword2){n.information="새로운 비밀번호가 일치하지 않습니다.";return}if(n.oldPassword.length<4||n.newPassword.length<4){n.information="비밀번호는 4글자 이상입니다.";return}n.user_info.password=n.oldPassword;n.user_info.new_password=n.newPassword}n.information="";n.saveJoin()};n.saveJoin=function(){f.putJoin(n.user_info.user_email,n.user_info.user_name,n.user_info.password,n.user_info.new_password).then(function(){t.close(n.user_info)})};n.deleteAccount=function(){n.deleteAccountConfirmPopup()};n.deleteAccountConfirmPopup=function(){var t=r.open({templateUrl:"/templates/app/common/confirm-template.html",controller:"confirmPopupController",resolve:{params:function(){return{information:"회원 탈퇴 후에 다시 복구할 수 없습니다.<br/>회원 탈퇴를 하시겠습니까?",okButtonStyle:"btn-warning",cancelButtonStyle:"btn-default"}}}});t.result.then(function(){n.deleteAccountCore()},function(){})};n.deleteAccountCore=function(){f.deleteJoin(n.user_info.user_email).then(function(){n.$root.$broadcast("logout","");e.alert("Alert","회원 탈퇴 처리가 완료 되었습니다.");t.close(n.user_info)})};n.cancel=function(){t.dismiss()};n.init()}])}(),function(){"use strict";app.controller("joinPopupController",["$scope","$modalInstance","$location","_","authService","params",function(n,t,i,r,u){n.init=function(){n.userID="";n.userID2="";n.password="";n.password2="";n.userName="";n.information=""};n.ok=function(){if(n.information="",n.userID===""||n.userID.length<4){n.information="이메일 주소가 입력되지 않았습니다.";return}if(n.password===""||n.password.length<4){n.information="비밀번호가 입력되지 않았습니다. 비밀번호는 4글자 이상이 입력 되어야합니다.";return}if(n.userName===""||n.userName.length<2){n.information="이름이 입력되지 않았습니다.";return}if(n.userID!=n.userID2){n.information="이메일 주소가 일치하지 않습니다.";return}if(n.password!=n.password2){n.information="비밀번호가 일치하지 않습니다.";return}n.information="";n.saveJoin()};n.saveJoin=function(){u.join(n.userID,n.userName,n.password,"AQUERYTOOL").then(function(n){t.close(n)})};n.cancel=function(){t.dismiss()};n.init()}])}(),function(){"use strict";app.controller("loginPopupController",["$scope","$timeout","facebookService","naverService","alertServices","utilService","$modal","$modalInstance","$sce","$location","_","authService","params",function(n,t,i,r,u,f,e,o,s,h,c,l){n.init=function(){n.userID="";n.password="";n.rememberLogin=!1;n.information=s.trustAsHtml("")};n.clickRemember=function(){n.rememberLogin===!0?n.information=s.trustAsHtml("PC방이나 공용PC일 경우 자동 로그인 기능을 활성화하면<br/>보안이 위험할 수 있습니다"):n.rememberLogin===!1&&(n.information=s.trustAsHtml(""))};n.ok=function(){if(n.information="",n.userID===""||n.userID.length<4){n.information=s.trustAsHtml("이메일 주소가 입력되지 않았습니다.");return}if(n.password===""||n.password.length<4){n.information=s.trustAsHtml("비밀번호가 입력되지 않았습니다.<br/>비밀번호는 4글자 이상이 입력 되어야합니다.");return}n.information="";n.login()};n.facebookLogin=function(){i.login().then(function(n){l.join(n.email,n.name,n.id,"FACEBOOK").then(function(n){o.close(n)})})};n.renderGoogleLoginButton=function(){u.alert("Alert","구글 계정을 이용할 수 없습니다.<br/>구글 계정을 AQueryTool 계정으로 전환 후 계속 이용할 수 있습니다.")};n.renderNaverLoginButton=function(){r.naver_id_login("8fnLYX_spp9ONHVImIPq",f.getBaseUrl())};n.login=function(){l.login(n.userID,n.password,n.rememberLogin,!1).then(function(n){o.close(n)})};n.cancel=function(){o.dismiss()};n.resetPassword=function(){o.dismiss("RESET PASSWORD")};n.init()}])}(),function(){"use strict";app.controller("passwordResetController",["$scope","$timeout","$sce","alertServices","utilService","$modal","$modalInstance","$location","_","authService","params",function(n,t,i,r,u,f,e,o,s,h){n.init=function(){n.information1=i.trustAsHtml("비밀번호를 초기화할 이메일 주소를 입력후 [인증코드 발송] 버튼을 클릭하세요.<\/br>페이스북, 구글, 네이버 아이디는 AQueryTool 아이디로 자동 전환됩니다.");n.userID="";n.code="";n.information2="";n.information3=""};n.sendResetCode=function(){if(n.information4="",n.myForm.input.$valid==!1){n.information4="올바른 값이 입력되지 않았습니다.";return}h.sendResetCode(n.userID).then(function(t){if(t==null||t.Result!="OK"){n.information2=i.trustAsHtml("인증코드 생성에 실패했습니다.<\/br>관리자에게 문의 하세요.");return}n.information2=i.trustAsHtml("해당 이메일 주소로 인증코드가 발송되었습니다.<\/br>이메일을 확인하여 인증코드를 입력 후 [비밀번호 초기화] 버튼을 클릭해주세요.<\/br>이메일 도착이 다소 지연될 수도 있습니다.")})};n.resetPassword=function(){if(n.information4="",n.userID==""||n.code==""){n.information4="올바른 인증코드 값이 입력되지 않았습니다.";return}h.resetPassword(n.userID,n.code).then(function(t){if(t==null||t.Result!="OK"){n.information3=i.trustAsHtml("비밀번호 초기화 작업에 실패했습니다.");return}n.information2="";n.information3=i.trustAsHtml("새로운 비밀번호가 이메일 주소로 발송되었습니다.<\/br>이메일을 확인해주세요. 이메일 도착이 다소 지연될 수도 있습니다.")})};n.cancel=function(){e.dismiss()};n.init()}])}(),function(){"use strict";app.directive("onReadFile",["$parse",function(n){return{restrict:"A",scope:!1,link:function(t,i,r){var u=n(r.onReadFile);i.on("change",function(n){var i=new FileReader;i.onload=function(n){t.$apply(function(){u(t,{$fileContent:n.target.result})})};i.readAsText((n.srcElement||n.target).files[0])})}}}]);app.directive("typeaheadOpenOnFocus",["$timeout",function(){return{require:["ngModel"],link:function(n,t,i,r){t.bind("focus",function(){r[0]!=undefined&&(r[0].$viewValue===""||r[0].$viewValue===undefined)&&(r[0].$setViewValue(" "),r[0].$setViewValue(""))})}}}]);app.directive("ngRightClick",function(n){return function(t,i,r){var u=n(r.ngRightClick);i.bind("contextmenu",function(n){t.$apply(function(){n.preventDefault();u(t,{$event:n})})})}});app.directive("whenReady",["$interpolate",function(n){return{restrict:"A",priority:Number.MIN_SAFE_INTEGER,link:function(t,i,r){function e(n){n.forEach(function(n){t.$eval(n)})}var u=r.whenReady.split(";"),f=!1;r.whenReady.trim().length!=0&&(u.length>1&&t.$eval(u.pop())&&(f=!0),f?requestAnimationFrame(function o(){i.text().indexOf(n.startSymbol())>=0?requestAnimationFrame(o):e(u)}):e(u))}}}]);app.directive("numericOnly",function(){return{require:"ngModel",link:function(n,t,i,r){r.$parsers.push(function(n){var t=n?n.replace(/[^\d.-]/g,""):null;return t!=n&&(r.$setViewValue(t),r.$render()),t})}}});app.directive("focus",function(n){return{link:function(t,i){t.$watch("idToFocus",function(t){t===i[0].id&&n(function(){i[0].focus()},500)})}}});app.directive("onFinishRender",["$timeout","$parse",function(n,t){return{restrict:"A",link:function(i,r,u){i.$last===!0&&n(function(){i.$emit("ngRepeatFinished");!u.onFinishRender||t(u.onFinishRender)(i)})}}}]);app.directive("repeatDone",function(){return function(n,t,i){n.$last&&n.$eval(i.repeatDone)}});app.directive("draggable",["$document",function(n){return{restrict:"A",link:function(t,i){function h(n){var t=n.clientX-o,h=n.clientY-s,c=u+h>f?u+h:f,l=r+t>e?r+t:e;return i.css({top:c+"px",left:l+"px"}),!1}function c(i){var l=i.clientX-o,a=i.clientY-s,v=u+a>f?u+a:f,y=r+l>e?r+l:e;t.item.position_x=y;t.item.position_y=v;n.unbind("mousemove",h);n.unbind("mouseup",c)}var r,u,o,s,f=50,e=7;i.css({position:"absolute"});i.bind("mousedown",function(t){return r=i.prop("offsetLeft"),u=i.prop("offsetTop"),o=t.clientX,s=t.clientY,n.bind("mousemove",h),n.bind("mouseup",c),!1})}}}]);app.directive("ngRightClick",function(n){return function(t,i,r){var u=n(r.ngRightClick);i.bind("contextmenu",function(n){t.$apply(function(){n.preventDefault();u(t,{$event:n})})})}});app.directive("ngEnter",[function(){return function(n,t,i){t.bind("keydown keypress",function(t){t.which===13&&(n.$apply(function(){n.$eval(i.ngEnter)}),t.preventDefault())})}}]);app.directive("filterFilename",["$filter",function(n){return{require:"ngModel",link:function(t,i,r,u){u.$formatters.push(function(t){return n("filename")(t)})}}}]);app.directive("filterUseyn",[function(){return{require:"ngModel",link:function(n,t,i,r){r.$parsers.push(function(n){return n===!0?"Y":"N"});r.$formatters.push(function(n){return n==="Y"?!0:!1})}}}]);app.directive("jqeSelectedItem",["$rootScope","$parse","utilService",function(n,t,i){return{restrict:"A",scope:{selectedItem:"=jqeSelectedItem",source:"=jqxSource"},link:function(n,r,u){n.settings=t(u.jqxSettings)(n.$parent);var f=n.settings.valueMember,e=null,o=function(t){if(e!==null){var i=-1;n.source&&t!==undefined&&t!==null&&angular.forEach(n.source,function(n,r){if(f){if(n[f]===t[f])return i=r,!1}else if(n===t)return i=r,!1});e.selectIndex(i)}};n.$watch("selectedItem",function(n){o(n)});n.$watch("source",function(){o(n.selectedItem)});n.$watch("settings.source",function(t){t!==undefined&&(n.source=t)});n.$parent.$on("jqxDropDownListCreated",function(t,u){if(r[0].id===u.id){e=u.instance;$(u.element).on("select",function(t){var r=t.args;r&&r.originalEvent&&r.index!==-1&&i.safeApply(n,function(){n.selectedItem=n.source[r.index]})});o(n.selectedItem)}})}}}]);app.directive("jqeSelectedValue",["$rootScope","$parse","utilService",function(n,t,i){return{restrict:"A",scope:{selectedValue:"=jqeSelectedValue",source:"=jqxSource"},link:function(n,r,u){n.settings=t(u.jqxSettings)(n.$parent);var f=n.settings.valueMember,e=null,o=function(t){if(e!==null){var i=-1;n.source&&t!==undefined&&angular.forEach(n.source,function(n,r){if(f){if(n[f]===t)return i=r,!1}else if(n===t)return i=r,!1});e.selectIndex(i)}};n.$watch("selectedValue",function(n){o(n)});n.$watch("source",function(){o(n.selectedValue)});n.$watch("settings.source",function(t){t!==undefined&&(n.source=t)});n.$parent.$on("jqxDropDownListCreated",function(t,u){if(r[0].id===u.id){e=u.instance;$(u.element).on("select",function(t){var r=t.args;r&&r.originalEvent&&r.index!==-1&&i.safeApply(n,function(){n.selectedValue=f?n.source[r.index][f]:n.source[r.index]})});o(n.selectedValue)}})}}}]);app.directive("controllerResolveService",["$document","$compile","$injector","$controller",function(n,t,i,r){return{restrict:"A",terminal:!0,priority:1e3,link:function(n,u,f){var e=i.get(f.controllerResolveService),o;e&&(u.css("display","none"),o=function(i){var e=f.ngController,o;u.removeAttr("controller-resolve-service");u.removeAttr("ng-controller");o=r(e,{$scope:n,options:i});u.css("display","");t(u)(n)},e().then(o))}}}]);app.directive("isolateScrolling",["$document",function(){return{restrict:"A",link:function(n,t){t.bind("mousewheel",function(n,t){var i=$(this).height(),r=$(this).get(0).scrollHeight;(this.scrollTop===r-i&&t<0||this.scrollTop===0&&t>0)&&n.preventDefault()})}}}]);app.directive("drawing",["$rootScope",function(){return{restrict:"A",link:function(n,t){function p(n,t){f=n;e=t;o=Math.min(r,f);l=Math.max(r,f);s=Math.min(u,e);a=Math.max(u,e);v=l-o;y=a-s}function k(){i==undefined?(i=$(document.createElementNS("http://www.w3.org/2000/svg","rect")).attr({id:"select-area-rect",x:r,y:u,width:v,height:y,stroke:"#57A8FA",fill:"#57A8FA"}),i.attr("fill-opacity",.2),b.append(i)):(i.attr("x",o),i.attr("y",s),i.attr("width",v),i.attr("height",y))}function w(t){var i={left:o,top:s,right:l,bottom:a,isStop:t};n.$broadcast("changedSelectRectangleArea",i)}n.$on("isCanvasMove",function(n,t){h=!t});var b=$("#select-rect-area-svg-panel"),h=!1,c=!1,r,u,f,e,o,s,l,a,v,y,i;t.bind("mousedown",function(n){h!=!1&&(r=n.offsetX,u=n.offsetY,c=!0)});t.bind("mousemove",function(n){c&&n!=undefined&&(p(n.offsetX,n.offsetY),k(),w(!1))});t.bind("mouseup",function(n){h!=!1&&(p(n.offsetX,n.offsetY),c=!1,w(!0),r=f,u=e,i!=undefined&&(i.remove(),i=undefined))})}}}])}(),function(){"use strict";app.directive("topMenu",["$rootScope","$modal","$localStorage","$sessionStorage","$location","_","authService","utilService","securityService","settings",function(n,t,i,r,u,f,e,o,s,h){return{restrict:"E",scope:{type:"=",genrecd:"=?"},templateUrl:"/templates/app/common/topmenu-template.html",link:function(u){var s=location.pathname.toLowerCase(),c=s.split("/"),f=o.getQueryString();f.demo!=undefined&&f.demo=="y"?f.demo_type=="1"||f.demo_type==undefined||f.demo_type==""?jQuery("#menu-container > #demo1").addClass("active"):f.demo_type=="2"&&jQuery("#menu-container > #demo2").addClass("active"):c[1].toLowerCase()=="help"?jQuery("#menu-container > #help").addClass("active"):jQuery("#menu-container > #aquerymain").addClass("active");u.getPubki=function(){e.rsakey().then(function(){})};u.init=function(){u.$on("updateUserInfo",function(n,t){u.updateUserName(t)});u.$on("logout",function(){u.logout()})};u.isLogin=!1;u.userName="";u.updateUserName=function(n){if(n==null||n==undefined){u.isLogin=!1;u.userName="";return}u.userName=h.lang.languageCode==="ko"?n.user_name+"님":n.user_name;u.isLogin=!0};u.loginPopup=function(){var n=t.open({templateUrl:"/templates/app/common/login-template.html",controller:"loginPopupController",resolve:{params:function(){return{temp:""}}}});n.result.then(function(){},function(n){n=="RESET PASSWORD"&&u.passwordResetPopup()})};u.passwordResetPopup=function(){var n=t.open({templateUrl:"/templates/app/common/password-reset.html",controller:"passwordResetController",windowClass:"reset-password",resolve:{params:function(){return{temp:""}}}});n.result.then(function(){},function(n){n=="RESET PASSWORD"})};u.logout=function(){delete i.em;delete i.atoken;delete r.authToken;delete r.user_info;n.$broadcast("updateUserInfo",null)};u.joinPopup=function(){var n=t.open({templateUrl:"/templates/app/common/join-template.html",controller:"joinPopupController",resolve:{params:function(){return{temp:""}}}});n.result.then(function(){},function(){})};u.editUserInfoPopup=function(){var n=r.user_info,i;n!=undefined&&n.user_email!=undefined&&(i=t.open({templateUrl:"/templates/app/common/edit-user-info-template.html",controller:"editUserInfoPopupController",resolve:{params:function(){return{user_info:n}}}}),i.result.then(function(){},function(){}))};u.init();u.getPubki()}}}])}(),function(){"use strict";app.filter("yesno",[function(){return function(n){return n?n.replace(/^Y$/g,"Yes").replace(/^N$/g,"No"):""}}]);app.filter("showhide",[function(){return function(n){return n?n.replace(/^Y$/g,"Show").replace(/^N$/g,"Hide"):""}}]);app.filter("nospace",[function(){return function(n){return n?n.replace(/ /g,""):""}}]);app.filter("filename",[function(){return function(n){return n===null||n===undefined?"":n.substring(n.lastIndexOf("/")+1)}}]);app.filter("arrayjoin",[function(){return function(n,t,i){var r,u;return!n||n.length===0?"-":(r=n,t&&(u=[],angular.forEach(r,function(n){u.push(n[t])}),r=u),r.join(i||", "))}}])}(),function(){"use strict";app.factory("alertServices",["$modal",function(n){return{alert:function(t,i){var r=n.open({templateUrl:"/templates/app/common/alert-template.html",controller:"alertPopupController",resolve:{params:function(){return{title:t,information:i,okButtonStyle:"btn-default"}}}});return r.result}}}])}(),function(){"use strict";app.factory("authService",["$rootScope","$window","$q","$localStorage","$sessionStorage","securityService","utilService","commonResourceServices",function(n,t,i,r,u,f,e,o){return{rsakey:function(){var t=i.defer(),r=this;return o.rsakey("aqueryauth","rsakey").then(function(i){if(i.Response.Result==undefined||i.Response.Result==""){console.log("no key");t.resolve("no key");return}(u.pubki=i.Response.Result,n.$broadcast("getRSAKey",""),r.loginCompleted()==null)&&(r.checkAutoLogin(),t.resolve("get pubki"))}),t.promise},checkSavedLogin:function(){},checkAutoLogin:function(){var i=this,n=r.em,t=r.atoken;n!=undefined&&n!=""&&t!=undefined&&t!=""&&i.login(n,"",!1,!0).then(function(){})},join:function(n,t,r,e){console.log("join id : "+n);var s=i.defer(),h=this,c=f.encrypt(n),l=f.encrypt(r),a=f.encrypt(t),v=f.rsaEncrypt(c),y=f.rsaEncrypt(l),p=f.rsaEncrypt(a),w={user_email:v,password:y,user_name:p,join_type:e,pubki:u.pubki},b=angular.copy(w);return o.join("aqueryauth","join",b).then(function(){h.login(n,r,!1,!1).then(function(){});s.resolve("close popup")}),s.promise},login:function(n,s,h,c){var y=i.defer(),d=this,v="",l="",g=f.encrypt(e.getBaseUrl()),p,w,a,b,k;return c==!0?(v=n,l=s):(v=f.encrypt(n),s!=undefined&&s!=""&&(l=f.encrypt(s))),p=f.rsaEncrypt(v),w=f.rsaEncrypt(g),l!=undefined&&l!=""&&(l=f.rsaEncrypt(l)),a=r.atoken,a!=undefined&&a!=""&&(a=f.rsaEncrypt(a)),b={user_email:p,password:l,pubki:u.pubki,atoken:a,is_alogin:h,host:w},k=angular.copy(b),o.login("aqueryauth","login",k).then(function(n){var i=n.Response,o;if(i.auth_token==undefined||i.auth_token==""){delete r.em;delete r.atoken;y.resolve("close popup");return}if(i.atoken!=undefined&&i.atoken!=""&&(r.em=v,r.atoken=i.atoken),i.user_name!=undefined&&(i.user_name=f.decrypt(i.user_name),i.user_email=f.decrypt(i.user_email)),u.user_info=i,u.authToken=i.auth_token,o=e.getQueryString(),o.access_token!=undefined&&o.access_token!=""&&i.join_type=="NAVER"){t.location.href=e.getBaseUrl();return}d.loginCompleted(i);y.resolve("close popup")}),y.promise},loginCompleted:function(){var t=u.user_info;return t==undefined?null:(n.$broadcast("updateUserInfo",t),t)},putJoin:function(n,t,r,e){var c=i.defer(),v=this,y=f.encrypt(n),s="",h="";r!=null&&r!=""&&(s=f.encrypt(r));e!=null&&e!=""&&(h=f.encrypt(e));var p=f.encrypt(t),w=f.rsaEncrypt(y),l="",a="";s!=null&&s!=""&&(l=f.rsaEncrypt(s));h!=null&&h!=""&&(a=f.rsaEncrypt(h));var b=f.rsaEncrypt(p),k={user_email:w,password:l,new_password:a,user_name:b,pubki:u.pubki},d=angular.copy(k);return o.putJoin("aqueryauth","join",d).then(function(){var n=u.user_info;n.user_name=t;v.loginCompleted();c.resolve("close popup")}),c.promise},deleteJoin:function(n){var t=i.defer(),c=this,r=f.encrypt(n),e=f.rsaEncrypt(r),s={user_email:e,pubki:u.pubki},h=angular.copy(s);return o.putJoin("aqueryauth","delete",h).then(function(){t.resolve("close popup")}),t.promise},sendResetCode:function(n){var t=i.defer(),c=this,r=f.encrypt(n),e=f.rsaEncrypt(r),s={user_email:e,pubki:u.pubki},h=angular.copy(s);return o.sendResetCode("aqueryauth","sendResetCode",h).then(function(n){t.resolve(n.Response)}),t.promise},resetPassword:function(n,t){var r=i.defer(),l=this,e=f.encrypt(n),s=f.rsaEncrypt(e),h={user_email:s,password:t,pubki:u.pubki},c=angular.copy(h);return o.resetPassword("aqueryauth","resetPassword",c).then(function(n){r.resolve(n.Response)}),r.promise}}}])}(),function(){"use strict";app.factory("commonResourceServices",["resourceService",function(n){return{rsakey:function(t,i,r,u){return n().one({controller:t,action:i},r,u).$promise},join:function(t,i,r,u,f){return n().save({controller:t,action:i},r,u,f).$promise},login:function(t,i,r,u,f){return n().check({controller:t,action:i},r,u,f).$promise},sendResetCode:function(t,i,r,u,f){return n().save({controller:t,action:i},r,u,f).$promise},resetPassword:function(t,i,r,u,f){return n().update({controller:t,action:i},r,u,f).$promise},putJoin:function(t,i,r,u,f){return n().update({controller:t,action:i},r,u,f).$promise},externallogin:function(t,i,r,u,f){return n().check({controller:t,action:i},r,u,f).$promise},gettest:function(t,i,r,u){return n().all({controller:t,action:i},r,u).$promise}}}])}(),function(){"use strict";app.factory("noticeService",["$resource","$localStorage","$q","$http","alertServices",function(n,t,i,r,u){return{checkNotice:function(){r({method:"GET",url:"/resource/notice/notice.json"}).success(function(n){if(n!=undefined&&n.noticeTitle!==undefined&&n.noticeTitle!==""){var i=t.noticeCode;i!=n.noticeCode&&(t.noticeCode=n.noticeCode,u.alert(n.noticeTitle,n.noticeMessage))}})},checkJob:function(n){var u=i.defer();return r({method:"GET",url:"/resource/notice/job.json"}).success(function(i){if(i===undefined||i.jobInfoTitle==undefined||i.jobInfoTitle==""){n.jobInfo=undefined;u.resolve("completed");return}var r=t.jobCode;if(r==i.jobCode){n.jobInfo=undefined;u.resolve("completed");return}t.jobCode=i.jobCode;n.jobInfo=i;u.resolve("completed")}),u.promise}}}]);app.factory("multiLangService",["$resource","$q",function(n,t){return{InitMultiLang:function(i){var f=t.defer(),r=navigator.language||navigator.userLanguage,u,e;return console.log("language : "+r),(r==undefined||r=="")&&(r="en"),u=r.split("-"),u.length==2&&(r=u[0]),r!="ko"&&r!="zh"&&(r="en"),e="/lang/"+r+".json",n(e).get(function(n){n.languageCode=r;i.lang=n;f.resolve("completed")}),f.promise}}}]);app.factory("saveFileService",["$filter","$q",function(n){return{getImageFileName:function(t){var i=n("date")(new Date,"yyyyMMdd_mm_ss");return t==undefined||t==""?t="db_erd_"+i+".png":(t=t.replaceAll(" ","_"),t=t+"_"+i+".png"),t},saveTextFile:function(t,i){var u,f;if(!i){console.error("No data");return}t==undefined||t==""?t="test_data_sql_":(t=t.replaceAll(" ","_"),t=t);u=n("date")(new Date,"yyyyMMdd_mm_ss");f=t+"_"+u+".txt";typeof i=="object"&&(i=JSON.stringify(i,undefined,2));var o=new Blob(["﻿",i],{type:"text/json"}),e=document.createEvent("MouseEvents"),r=document.createElement("a");r.download=f;r.href=window.URL.createObjectURL(o);r.dataset.downloadurl=["text/json",r.download,r.href].join(":");e.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);r.dispatchEvent(e)}}}]);app.factory("_",function(){return window._});app.factory("htmlRenderService",[function(){return{commonAlignCenterCellRender:function(n,t,i){return'<div style="text-align:center; margin-top: 13px;">'+i+"<\/div>"},commonAlignLeftCellRender:function(n,t,i){return'<div style="text-align:left; margin-top: 13px; margin-left: 20px">'+i+"<\/div>"},statusRenderer:function(n,t,i,r,u,f,e){return i=i=="Y"?"Show":i=="N"?"Hide":"-",e=e||"16px",'<div style="text-align:center; margin-top:'+e+'">'+i+"<\/div>"},statusCellsRenderer:function(n,t,i){return i=i=="Y"?"Able":i=="N"?"Unable":"-",'<div style="text-align:center; margin-top: 13px;">'+i+"<\/div>"},statusPermissionRenderer:function(n,t,i){return i=i=="Y"?"Allowed":i=="N"?"Rejected":"-",'<div style="text-align:center; margin-top: 13px;">'+i+"<\/div>"},approvalRenderer:function(n,t,i){var u="",r="";return i==="A"?(u="blueTxt",r="Approved"):i==="R"?(u="redTxt",r="Rejected"):r="Standby",'<div class="infoCell-wrap-grid" ><span class="info-cell '+u+'" >'+r+"<\/span><\/div>"},approvalCellsRenderer:function(n,t,i,r,u,f,e){e=e||"0px";var r='<div class="approval-wrap-grid" style="margin-top:'+e+'">',o=i;return r+(o=="ST"?'<span class="aprv-box on">I<\/span><span class="aprv-box">T<\/span><span class="aprv-box">S<\/span><\/div>':o=="TE"?'<span class="aprv-box">I<\/span><span class="aprv-box on">T<\/span><span class="aprv-box">S<\/span><\/div>':o=="SE"?'<span class="aprv-box">I<\/span><span class="aprv-box">T<\/span><span class="aprv-box on">S<\/span><\/div>':'<span class="aprv-box">I<\/span><span class="aprv-box">T<\/span><span class="aprv-box">S<\/span><\/div>')},typeRenderer:function(n,t,i){return i=="S"?i="SHS":i=="Y"&&(i="YouTube"),'<div style="text-align:left; margin-top: 30px; margin-left: 13px;">'+i+"<\/div>"},imageRenderer:function(n,t,i){return'<div style="line-height:70px;"><img style="vertical-align:middle; " height="40" width="75" src="'+i+'"/><\/div>'},imageCtlrRenderer:function(n,t,i){return'<div style="line-height:70px;"><img style="vertical-align:middle; " height="40" width="40" src="'+i+'"/><\/div>'}}}]);app.factory("pageSessionService",["$location","localStorageService",function(n,t){return{getSession:function(){var r=n.search(),i=t.get("page_session");return i=i?JSON.parse(i):{},i.page_num=i.page_num||r.page_num||1,i.row_count=i.row_count||r.row_count||10,i.search_string=i.search_string||r.search_string||"",i.sort_direction=i.sort_direction||r.sort_direction||"DESC",i},setSession:function(n){t.set("page_session",JSON.stringify(n))},removeSession:function(){t.remove("page_session")}}}]);app.factory("trailerPlayService",["$window",function(n){return{playTrailer:function(t,i){if(i){var r="";t==="S"?r=i:t==="Y"&&(r="http://www.youtube.com/watch?feature=player_detailpage&v="+i);n.open(r,"Trailer Player","scrollbars=yes,toolbar=no,resizable=yes,width=840,height=690")}}}}]);app.factory("tabletService",["$window","$rootScope","settings",function(){return{initTouch:function(){function n(n,t){if(!(n.originalEvent.touches.length>1)){n.preventDefault();var i=n.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);n.target.dispatchEvent(r)}}if($.support.touch="ontouchend"in document,$.support.touch){var t=$.ui.mouse.prototype,r=t._mouseInit,i;t._touchStart=function(t){var r=this;!i&&r._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,r._touchMoved=!1,n(t,"mouseover"),n(t,"mousemove"),n(t,"mousedown"))};t._touchMove=function(t){i&&(this._touchMoved=!0,n(t,"mousemove"))};t._touchEnd=function(t){i&&(n(t,"mouseup"),n(t,"mouseout"),this._touchMoved||n(t,"click"),i=!1)};t._mouseInit=function(){var n=this;n.element.on("touchstart",$.proxy(n,"_touchStart")).on("touchmove",$.proxy(n,"_touchMove")).on("touchend",$.proxy(n,"_touchEnd"));r.call(n)}}}}}]);app.factory("utilService",["$window","$rootScope","$location","$interval","$q",function(n,t,i,r,u){return{waitLoadElement:function(n){var t=u.defer(),i=r(function(){var u=$("#"+n),f;u.length>0&&(f=u[0].getBoundingClientRect(),f.width>0&&f.height>0&&(t.resolve(u),r.cancel(i),i=undefined))},100);return t.promise},leftPad:function(n,t){for(var i=n+"";i.length<t;)i="0"+i;return i},getQueryString:function(){for(var t={},i=(document.location+"").substring(1),r=/([^#/?&=]+)=([^&]*)/g,n;(n=r.exec(i))!==null;)t[decodeURIComponent(n[1])]=decodeURIComponent(n[2]);return t},Stopwatch:function(n,t){if(n.length<t.length)return n;var i=n.substring(0,t.length);return i.toLowerCase()==t.toLowerCase()?n.substring(t.length,n.length):n},deleteFirstWord:function(n,t){if(n.length<t.length)return n;var i=n.substring(0,t.length);return i.toLowerCase()==t.toLowerCase()?n.substring(t.length,n.length):n},getBaseUrl:function(){var n=i.protocol()+"://"+i.host();return i.port()!=""&&(n=n+":"+i.port()),n},getElementPosition:function(n){var i=n.getBoundingClientRect(),t={left:0,right:0,top:0,bottom:0,width:0,height:0};return window.scrollX==undefined?(t.left=i.left+document.documentElement.scrollLeft,t.right=i.right+document.documentElement.scrollLeft,t.top=i.top+document.documentElement.scrollTop,t.bottom=i.bottom+document.documentElement.scrollTop):(t.left=i.left+window.scrollX,t.right=i.right+window.scrollX,t.top=i.top+window.scrollY,t.bottom=i.bottom+window.scrollY),t.width=i.width,t.height=i.height,t},guid:function(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()},randomString:function(n,t){var f=t||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghiklmnopqrstuvwxyz",i,r,u;for(n=n?n:32,i="",r=0;r<n;r++)u=Math.floor(Math.random()*f.length),i+=f.substring(u,u+1);return i},checkBrowser:function(){var t=n.navigator.userAgent.toLowerCase();return t.indexOf("chrome")!=-1?"Chrome":t.indexOf("opera")!=-1?"Opera":t.indexOf("staroffice")!=-1?"Star Office":t.indexOf("webtv")!=-1?"WebTV":t.indexOf("beonex")!=-1?"Beonex":t.indexOf("chimera")!=-1?"Chimera":t.indexOf("netpositive")!=-1?"NetPositive":t.indexOf("phoenix")!=-1?"Phoenix":t.indexOf("firefox")!=-1?"Firefox":t.indexOf("safari")!=-1?"Safari":t.indexOf("skipstone")!=-1?"SkipStone":t.indexOf("msie")!=-1?"Internet Explorer":t.indexOf("netscape")!=-1?"Netscape":t.indexOf("mozilla/5.0")!=-1?"Mozilla":void 0},checkOSBrowser:function(){function r(n,t){for(var r=0,u=0,e,o,s,i,f,r=0;r<t.length;r+=1)if(e=new RegExp(t[r].value,"i"),s=e.test(n),s){if(o=new RegExp(t[r].version+"[- /:;]([\\d._]+)","i"),i=n.match(o),f="",i&&i[1]&&(i=i[1]),i)for(i=i.split(/[._]+/),u=0;u<i.length;u+=1)f+=u===0?i[u]+".":i[u];else f="0";return{name:t[r].name,version:parseFloat(f)}}return{name:"unknown",version:0}}function e(n){var t=navigator.userAgent||navigator.vendor||window.opera;t.match(/iPad/i)||t.match(/iPhone/i)||t.match(/iPod/i)?n.name="iOS":t.match(/Android/i)&&(n.name="Android")}var n=[{name:"Windows Phone",value:"Windows Phone",version:"OS"},{name:"Windows",value:"Win",version:"NT"},{name:"iPhone",value:"iPhone",version:"OS"},{name:"iPad",value:"iPad",version:"OS"},{name:"Kindle",value:"Silk",version:"Silk"},{name:"Android",value:"Android",version:"Android"},{name:"PlayBook",value:"PlayBook",version:"OS"},{name:"BlackBerry",value:"BlackBerry",version:"/"},{name:"Macintosh",value:"Mac",version:"OS X"},{name:"Linux",value:"Linux",version:"rv"},{name:"Palm",value:"Palm",version:"PalmOS"}],t=[{name:"Chrome",value:"Chrome",version:"Chrome"},{name:"Firefox",value:"Firefox",version:"Firefox"},{name:"Safari",value:"Safari",version:"Version"},{name:"Internet Explorer",value:"MSIE",version:"MSIE"},{name:"Opera",value:"Opera",version:"Opera"},{name:"BlackBerry",value:"CLDC",version:"CLDC"},{name:"Mozilla",value:"Mozilla",version:"Mozilla"}],f=[navigator.platform,navigator.userAgent,navigator.appVersion,navigator.vendor,window.opera],i=f.join(" "),n=r(i,n),u;return e(n),t=r(i,t),u={agent:i,os:n,browser:t},u},isEmpty:function(n,t){for(var r,u=!1,i=0;i<t.length;i++)if(r=n[t[i]],!r||0===r.length){u=!0;break}return u},safeApply:function(n,i){var r=t.$$phase;r==="$apply"||r==="$digest"?i():n.$apply(i)},preventScroll:function(n,t){var i=t?$(t):$(window);if(i)if(n){i.on("mousewheel.disableScroll DOMMouseScroll.disableScroll touchmove.disableScroll",function(n){n.preventDefault();return});i.on("keydown.disableScroll",function(n){for(var i=[33,34,38,40],t=0;t<i.length;t++)if(n.keyCode===i[t]){n.preventDefault();return}})}else i.off(".disableScroll")},findWhereIgnorecase:function(n,t,i){if(n===undefined||t===undefined||i===""||t[i]===undefined)return undefined;var u=t[i].toLowerCase(),r=_.filter(n,function(n){return n[i]===undefined?!1:n[i].toLowerCase()==u});return r==undefined||r.length==0?undefined:r[0]},findWhereTableIgnorecase:function(n,t){if(n===undefined||t===undefined)return undefined;var r,i=this;return _.each(n,function(n){(i.ConvertToLowerCase(t.table_name)==i.ConvertToLowerCase(n.table_name)||i.ConvertToLowerCase(t.target_erd_table_name)==i.ConvertToLowerCase(n.table_name)||i.ConvertToLowerCase(t.table_name)==i.ConvertToLowerCase(n.target_erd_table_name))&&(r=n)}),r},ConvertToLowerCase:function(n){return n===undefined?"":n.toLowerCase()}}}])}(),function(){"use strict";app.factory("httpIntercepterService",["$location","$rootScope","$q","$injector","$sessionStorage",function(n,t,i,r,u){(t.loadingCount===null||t.loadingCount===undefined)&&(t.loadingCount=0);return{request:function(n){t.loadingCount++;SpinnerForLoading.instance.initCanvasLoader();var i=u.authToken;return i!=undefined&&(n.headers.AuthToken=i),n},requestError:function(n){return t.loadingCount--,SpinnerForLoading.instance.removeCanvasLoader(),n},response:function(n){var u,f,e,o;return(t.loadingCount--,SpinnerForLoading.instance.removeCanvasLoader(),u=n.data,u.Err)?(f="<b> ERROR : <\/b> <br/>",u.ErrorCode&&(f+="<b>   - code : <\/b>"+u.ErrorCode.replace(/(<([^>]+)>)/ig,"")+"<br/>"),u.ErrorMsg&&(f+="<b>   - message : <\/b>"+u.ErrorMsg.replace(/(<([^>]+)>)/ig,"")+"<br/>"),e=r.get("alertServices"),o=e.alert("Alert",f),o.then(function(){}),i.reject(n)):n},responseError:function(n){var u,f,e,o;return(t.loadingCount--,SpinnerForLoading.instance.removeCanvasLoader(),n&&n.status==401)?(u=n.data,f="",u.ErrorMsg&&(f+=u.ErrorMsg.replace(/(<([^>]+)>)/ig,"")+"<br/>"),u.ErrorCode,e=r.get("alertServices"),o=e.alert("Alert",f),o.then(function(){var n=window.location.protocol+"//"+window.location.host;window.location.href=n}),i.reject(n)):i.reject(n)}}}])}(),function(){"use strict";app.factory("popupService",["$window","$rootScope","utilService","$modal",function(n,t,i,r){var u=function(n,i,u){var f={title:n,templateUrl:"/resources/app/common/templates/popup/popup-alert-template.html",controller:"PopupAlertController",resolve:{isConfirm:function(){return u}}},e;return f.scope=t.$new(),f.scope.msg=i,e={width:355},r.open(f,e)};return{alert:function(n,t){return u(n,t,!1)},alertInvalid:function(n,t){return u("Alert",'Please enter details for required <img src="/resources/images/icon_important.png" alt="Required" /> information field'+(t?"\r Error Field: "+t:""))},confirm:function(n,t){return u(n,t,!0)},adminInfo:function(n){var t={templateUrl:"/resources/app/common/templates/popup/popup-admininfo-template.html",controller:"PopupAdminController",resolve:{guid:function(){return n}}};return r.open(t,{width:405})},imageWindow:function(t){var f=t.currentTarget,r=angular.element(f).attr("src"),h=f.naturalWidth,c=f.naturalHeight,e,u;if(r!=null&&!r.toLowerCase().startsWith("data")&&!r.toLowerCase().startsWith("/resources/images/thumb")){n.imageWindow&&n.imageWindow.close();e=i.checkBrowser();u=0;e&&e.toLowerCase()==="chrome"&&(u=17);var o=h+u,s=c+u,l=window.screen.width/2-o/2,a=window.screen.height/2-s/2;n.imageWindow=n.open(r,"FullImage","scrollbars=yes,toolbar=no,resizable=yes,width="+o+",height="+s+"',left="+l+",top="+a+"'")}},multilangSelector:function(n,t,i){var u={templateUrl:"/resources/app/common/templates/popup/popup-multilangselect-template.html",controller:"PopupMultilangController",resolve:{options:function(){return{selectedItems:n,isBasicEdit:t,maxSelectedCount:i}}}};return r.open(u,{width:590,height:626})},isbDataDetail:function(n){var t={templateUrl:"/resources/app/common/templates/popup/popup-isbdata-template.html",controller:"PopupIsbDataController",resolve:{detail:function(){return n}}};return r.open(t,{width:600})}}}])}(),function(){"use strict";app.factory("resourceService",["$resource",function(n){var t="/api";return function(){return n(t+"/:controller/:action/:param1/:param2/:param3/:param4/:param5",{controller:"@controller",action:"@action",param1:"@param1",param2:"@param2",param3:"@param3",param4:"@param4",param5:"@param5"},{one:{method:"GET",isArray:!1},all:{method:"GET",isArray:!1},list:{method:"POST",isArray:!1},update:{method:"PUT"},check:{method:"POST"}})}}])}(),function(){"use strict";app.factory("securityService",["$window","$rootScope","$sessionStorage","settings",function(n,t,i,r){return{rsaEncrypt:function(n){var t=i.pubki,r;if(t==undefined||t==""){console.log("no key");return}r=new System.Security.Cryptography.RSACryptoServiceProvider;r.FromXmlString(t);var u=System.Text.Encoding.UTF8.GetBytes(n),f=r.Encrypt(u,!1);return System.Convert.ToBase64String(f)},encrypt:function(n){var t=r;t.key==undefined&&(r.key=r.test2.slice(0,16),r.iv=r.test2.slice(16,32));var i=CryptoJS.enc.Utf8.parse(t.key),u=CryptoJS.enc.Utf8.parse(t.iv),f=CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(n),i,{keySize:16,iv:u,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return f.ciphertext.toString(CryptoJS.enc.Base64)},decrypt:function(n){var t=r;t.key==undefined&&(r.key=r.test2.slice(0,16),r.iv=r.test2.slice(16,32));var i=CryptoJS.enc.Utf8.parse(t.key),u=CryptoJS.enc.Utf8.parse(t.iv),f=CryptoJS.AES.decrypt(n,i,{keySize:16,iv:u,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return f.toString(CryptoJS.enc.Utf8)},SHA3:function(n){var t=CryptoJS.SHA3(n);return t.toString(CryptoJS.enc.Hex)}}}])}(),function(){"use strict";app.factory("naverService",["$q",function(n){return{naver_id_login:function(n,t){var i=this,r=1,e=2,u="green";this.button_color=u;this.button_type=3;this.button_width=175;this.button_height=40;this.nil_domain="";this.response_type="token";this.authorize_url="https://nid.naver.com/oauth2.0/authorize";this.state="";this.scope="";this.client_id=n;this.redirect_uri=t;this.cookie_name="nil_state";this.popup=!1;this.oauthParams={};this.profileParams={};this.is_callback=!0;this.callback_status="";this.callback_message="";var p=function(){i.popup=!0},w=function(n){i.state=typeof n!="undefined"&&n!=""?n:""},b=function(n){i.nil_domain=typeof n!="undefined"&&n!=""?n:""},k=function(n,t,f){i.button_color=typeof n!="undefined"&&n!=""?n:u;i.button_type=typeof t!="undefined"&&t!=""?t:r;i.button_height=typeof f!="undefined"&&f!=""?f:40},o=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n==="x"?t:t&3|8;return i.toString(16)})},s=function(){try{var n=localStorage.getItem(i.cookie_name);return n==null||n.length==0?n:n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}catch(t){return null}},h=function(){try{if(document.cookie=i.nil_domain!=""?i.cookie_name+"=; path=/; domain="+i.nil_domain+"; expires=Thu, 01 Jan 1970 00:00:00 UTC;":i.cookie_name+"=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC",localStorage.setItem("nil_state",i.state),i.nil_domain!=""){var n=new Date,t=new Date(n.getTime()+3e5),r=i.cookie_name+"="+escape(i.state)+"; expires="+t.toGMTString()+"; domain="+i.nil_domain+";path=/;";document.cookie=r}}catch(u){var n=new Date,t=new Date(n.getTime()+3e5),r=i.cookie_name+"="+escape(i.state)+"; expires="+t.toGMTString()+";path=/;";document.cookie=r}},c=function(){if(i.is_callback?i.state=i.oauthParams.state:h(),i.client_id==undefined||i.client_id=="등록한 ClientID 값"||i.client_id.length<5)return alert("등록한 ClientID 값을 입력해 주세요."),!1;if(i.redirect_uri==undefined||i.redirect_uri=="등록한 Callback URL 값"||i.redirect_uri.length<5)return alert("등록한 Callback URL 값을 입력해 주세요."),!1;var n=i.authorize_url+"?response_type="+i.response_type+"&client_id="+i.client_id+"&redirect_uri="+encodeURIComponent(i.redirect_uri)+"&state="+encodeURIComponent(i.state);return i.scope!=""&&(n=n+"&scope="+encodeURIComponent(i.scope)),n},l=function(){var u=document.getElementById("naver_id_login"),f="",s,t,n;if(u==undefined)return alert("id 가 naver_id_login 인 div tag 가 존재해야 합니다."),!1;f=i.button_color=="green"?"g":"w";u.innerHTML="";s="";t=c();(i.state==undefined||i.state=="")&&(i.state=o());n="";i.popup&&(n=" onClick=\"window.open(this.href, 'naverloginpop', 'titlebar=1, resizable=1, scrollbars=yes, width=600, height=550'); return false\" ");s=i.button_type==r?"<a href='"+t+"' "+n+" id='naver_id_login_anchor'><img src='http://static.nid.naver.com/oauth/button_"+f+".PNG' border='0' title='네이버 아이디로 로그인' width='"+i.button_width+"' height='"+i.button_height+"'><\/a> ":i.button_type==e?"<a href='"+t+"' "+n+" id='naver_id_login_anchor'><img src='http://static.nid.naver.com/oauth/small_"+f+"_in.PNG' border='0' title='네이버 아이디로 로그인' width='"+i.button_height*656/250+"px' height='"+i.button_height+"'><\/a> ":"<a href='"+t+"' "+n+" id='naver_id_login_anchor'><img src='../../../images/login-button/naver-login.png' border='0' title='Naver Login' width='"+i.button_width+"px' height='"+i.button_height+"px'><\/a> ";u.innerHTML=s;i.is_callback&&y()},d=function(n){if(this.state=i.state!=undefined||i.state==""?s():i.state,this.state!=null&&state.length>10){if(this.state==n){try{localStorage.removeItem(i.cookie_name)}catch(t){}return!0}try{localStorage.removeItem(i.cookie_name)}catch(t){}return!1}return(this.state=i.state!=undefined||i.state==""?a():i.state,this.state!=null&&state.length>10)?this.state==n?(document.cookie=i.nil_domain!=""?i.cookie_name+"=; path=/; domain="+i.nil_domain+"; expires=Thu, 01 Jan 1970 00:00:00 UTC;":i.cookie_name+"=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC",!0):(document.cookie=i.nil_domain!=""?i.cookie_name+"=; path=/; domain="+i.nil_domain+"; expires=Thu, 01 Jan 1970 00:00:00 UTC;":i.cookie_name+"=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC",!1):!1},a=function(){for(var r="nil_state=",u=r.length,f=document.cookie.length,n=0,t,i;n<f;){if(t=n+u,document.cookie.substring(n,t)==r)return i=document.cookie.indexOf(";",t),i==-1&&(i=document.cookie.length),unescape(document.cookie.substring(t,i));if(n=document.cookie.indexOf(" ",n)+1,n==0)break}return null},v=function(){for(var t={},r=(document.location+"").substring(1),u=/([^#/?&=]+)=([^&]*)/g,n;(n=u.exec(r))!==null;)t[decodeURIComponent(n[1])]=decodeURIComponent(n[2]);i.oauthParams=t},f=function(){v();i.is_callback=i.oauthParams.access_token!=undefined?!0:!1},y=function(){f();i.is_callback&&(i.oauthParams.error==undefined?i.oauthParams.access_token!=undefined&&(i.checkStateStore(i.oauthParams.state)?(i.callback_status="success",i.callback_message="state check success"):i.state==i.oauthParams.state?(i.callback_status="success",i.callback_message="state check success"):(alert("state 값이 맞이 않습니다."),i.callback_status="warning",i.callback_message="state miss match")):(i.callback_status="fail",i.callback_message="invalid access"))};f();var g=function(n){return inner_profileParams[n]},nt=function(){return i.callback_message},tt=function(){return i.callback_status},it=function(){return i.oauthParams.access_token};l()},get_naver_userprofile:function(){var r=this,t=n.defer();this.oauthParams={};for(var u={},f=(document.location+"").substring(1),e=/([^#/?&=]+)=([^&]*)/g,i;(i=e.exec(f))!==null;)u[decodeURIComponent(i[1])]=decodeURIComponent(i[2]);return r.oauthParams=u,$.ajax({url:"https://apis.naver.com/nidlogin/nid/getUserProfile.json?response_type=json",type:"GET",data:{access_token:r.oauthParams.access_token},dataType:"jsonp",jsonp:"oauth_callback",success:function(n){if(n.resultcode=="024"||n.response.email==undefined){t.resolve(null);return}var i={};i.email=n.response.email;i.enc_id=n.response.enc_id;i.id=n.response.id;i.nickname=n.response.nickname;t.resolve(i)},error:function(n,t,i){alert(n.status);alert(i)}}),t.promise}}}]);app.factory("facebookService",["$q",function(n){return{login:function(){var t=n.defer();return FB.login(function(n){n.authResponse?FB.api("/me",{fields:"email, name"},function(n){!n||n.error?t.reject("Error occured"):t.resolve(n)}):t.reject("User cancelled login or did not fully authorize")},{scope:"public_profile,email"}),t.promise}}}])}(),function(){"use strict";app.factory("utfByteCountServices",["$rootScope",function(){return{utf8Len:function(n){if(n>=55296&&n<=57343)throw new Error("Illegal argument: "+n);if(n<0)throw new Error("Illegal argument: "+n);if(n<=127)return 1;if(n<=2047)return 2;if(n<=65535)return 3;if(n<=2097151)return 4;if(n<=67108863)return 5;if(n<=2147483647)return 6;throw new Error("Illegal argument: "+n);},isHighSurrogate:function(n){return n>=55296&&n<=56319},isLowSurrogate:function(n){return n>=56320&&n<=57343},toCodepoint:function(n,t){var i=this,r;if(!i.isHighSurrogate(n))throw new Error("Illegal argument: "+n);if(!i.isLowSurrogate(t))throw new Error("Illegal argument: "+t);return n=(1023&n)<<10,r=n|1023&t,r+65536},utf8ByteCount:function(n){for(var u,f,e,i=this,t=0,r=0;r<n.length;r++)u=n.charCodeAt(r),i.isHighSurrogate(u)?(f=u,e=n.charCodeAt(++r),t+=i.utf8Len(i.toCodepoint(f,e))):t+=i.utf8Len(u);return t>=1024?parseInt(t/1024):t>0&&t<1024?1:0}}}])}();